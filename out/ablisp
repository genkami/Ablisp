#!/usr/bin/env bash
# Written in [Amber](https://amber-lang.com/)

function file_read__6_v0 {
    local path=$1
    __AMBER_VAL_0=$(cat "${path}");
    __AS=$?;
if [ $__AS != 0 ]; then
__AF_file_read6_v0=''
return $__AS
fi;
    __AF_file_read6_v0="${__AMBER_VAL_0}";
    return 0
}
function trim_right__14_v0 {
    local text=$1
    __AMBER_VAL_1=$(echo "${text}" | sed -e 's/[[:space:]]*$//');
    __AS=$?;
    __AF_trim_right14_v0="${__AMBER_VAL_1}";
    return 0
}
function len__18_v0 {
    local value=("${!1}")
            if [ 0 != 0 ]; then
            __AMBER_VAL_2=$(echo "${#value}");
            __AS=$?;
            __AF_len18_v0="${__AMBER_VAL_2}";
            return 0
else
            __AMBER_VAL_3=$(echo "${#value[@]}");
            __AS=$?;
            __AF_len18_v0="${__AMBER_VAL_3}";
            return 0
fi
}
function len__18_v1 {
    local value=("${!1}")
            if [ 0 != 0 ]; then
            __AMBER_VAL_4=$(echo "${#value}");
            __AS=$?;
            __AF_len18_v1="${__AMBER_VAL_4}";
            return 0
else
            __AMBER_VAL_5=$(echo "${#value[@]}");
            __AS=$?;
            __AF_len18_v1="${__AMBER_VAL_5}";
            return 0
fi
}
function chars__20_v0 {
    local text=$1
    __AMBER_ARRAY_0=();
    local chars=("${__AMBER_ARRAY_0[@]}")
            for ((i=0; i<${#text}; i++)); do
        chars+=( "${text:$i:1}" );
    done;
__AS=$?
    __AF_chars20_v0=("${chars[@]}");
    return 0
}
function code_parse_error__28_v0 {
    __AF_code_parse_error28_v0="parse_error";
    return 0
}
function code_undefined_variable__29_v0 {
    __AF_code_undefined_variable29_v0="undefined_variable";
    return 0
}
function code_invalid_argument__30_v0 {
    __AF_code_invalid_argument30_v0="invalid_argument";
    return 0
}
function code_syntax_error__31_v0 {
    __AF_code_syntax_error31_v0="syntax_error";
    return 0
}
function code_value_error__32_v0 {
    __AF_code_value_error32_v0="value_error";
    return 0
}
function code_stop_iteration__33_v0 {
    __AF_code_stop_iteration33_v0="stop_iteration";
    return 0
}
function code_internal_error__34_v0 {
    __AF_code_internal_error34_v0="internal_error";
    return 0
}
function code_user_error__35_v0 {
    __AF_code_user_error35_v0="user_error";
    return 0
}
function code_exit_interpreter__36_v0 {
    __AF_code_exit_interpreter36_v0="exit_interpreter";
    return 0
}
function code_zero_division__37_v0 {
    __AF_code_zero_division37_v0="zero_division";
    return 0
}
function code_invalid_decl__38_v0 {
    __AF_code_invalid_decl38_v0="invalid decleration";
    return 0
}
function new_ok__39_v0 {
    local ptr=$1
    __AMBER_ARRAY_1=("ok" ${ptr});
    __AF_new_ok39_v0=("${__AMBER_ARRAY_1[@]}");
    return 0
}
function new_err__40_v0 {
    local code=$1
    local reason=$2
    __AMBER_ARRAY_2=("err" "${code}" "${reason}");
    __AF_new_err40_v0=("${__AMBER_ARRAY_2[@]}");
    return 0
}
function result_is_ok__41_v0 {
    local res=("${!1}")
    __AF_result_is_ok41_v0=$([ "_${res[0]}" != "_ok" ]; echo $?);
    return 0
}
function result_is_err__42_v0 {
    local res=("${!1}")
    __AF_result_is_err42_v0=$([ "_${res[0]}" != "_err" ]; echo $?);
    return 0
}
function ok_val__43_v0 {
    local res=("${!1}")
    __AF_ok_val43_v0="${res[1]}";
    return 0
}
function err_code__44_v0 {
    local res=("${!1}")
    __AF_err_code44_v0="${res[1]}";
    return 0
}
function err_reason__45_v0 {
    local res=("${!1}")
    __AF_err_reason45_v0="${res[2]}";
    return 0
}
function err_add_trace__46_v0 {
    local res=("${!1}")
    local trace=$2
    __AMBER_ARRAY_3=("${trace}");
    __AMBER_ARRAY_ADD_4=("${res[@]}" "${__AMBER_ARRAY_3[@]}");
    __AF_err_add_trace46_v0=("${__AMBER_ARRAY_ADD_4[@]}");
    return 0
}
function err_traces__47_v0 {
    local res=("${!1}")
    __AMBER_ARRAY_5=();
    local traces=("${__AMBER_ARRAY_5[@]}")
    local i=3
    while :
do
        len__18_v1 res[@];
        __AF_len18_v1__72=$__AF_len18_v1;
        if [ $(echo $__AF_len18_v1__72 '<=' ${i} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            break
fi
        __AMBER_ARRAY_6=("${res[${i}]}");
        traces+=("${__AMBER_ARRAY_6[@]}")
        i=$(echo ${i} '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
done
    __AF_err_traces47_v0=("${traces[@]}");
    return 0
}
function backslash__73_v0 {
    local n=$1
    local text=""
    trim_right__14_v0 "\ ";
    __AF_trim_right14_v0__10="${__AF_trim_right14_v0}";
    local c="${__AF_trim_right14_v0__10}"
    local i=0
    while :
do
        if [ $(echo ${n} '<=' ${i} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            break
fi
        text+="${c}"
        i=$(echo ${i} '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
done
    __AF_backslash73_v0="${text}";
    return 0
}
__AMBER_ARRAY_7=(0 0 0 0 0 0 0 0 0 0);
__0__stack=("${__AMBER_ARRAY_7[@]}")
__1__stack_next=0
function callstack_push__76_v0 {
    local elem=$1
    len__18_v0 __0__stack[@];
    __AF_len18_v0__22=$__AF_len18_v0;
    if [ $(echo $__AF_len18_v0__22 '<=' ${__1__stack_next} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        __AMBER_ARRAY_8=(${elem});
        __0__stack+=("${__AMBER_ARRAY_8[@]}")
else
        __0__stack[${__1__stack_next}]=${elem}
fi
    __1__stack_next=$(echo ${__1__stack_next} '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
}
function callstack_pop__77_v0 {
    __1__stack_next=$(echo ${__1__stack_next} '-' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
    __AF_callstack_pop77_v0="${__0__stack[${__1__stack_next}]}";
    return 0
}
function callstack_current_sp__78_v0 {
    __AF_callstack_current_sp78_v0=${__1__stack_next};
    return 0
}
function callstack_rewind__79_v0 {
    local new_sp=$1
    if [ $(echo ${__1__stack_next} '<' ${new_sp} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        echo "BUG: callstack_rewind: invalid location: ${new_sp}"
fi
    __1__stack_next=${new_sp}
}
__AMBER_ARRAY_9=();
__2_the_memory=("${__AMBER_ARRAY_9[@]}")
__3_last_allocated=0
function tag_unused__84_v0 {
    __AF_tag_unused84_v0=0;
    return 0
}
function tag_num__85_v0 {
    __AF_tag_num85_v0=1;
    return 0
}
function tag_text__86_v0 {
    __AF_tag_text86_v0=2;
    return 0
}
function tag_symbol__87_v0 {
    __AF_tag_symbol87_v0=3;
    return 0
}
function tag_t__88_v0 {
    __AF_tag_t88_v0=4;
    return 0
}
function tag_nil__89_v0 {
    __AF_tag_nil89_v0=5;
    return 0
}
function tag_cons__90_v0 {
    __AF_tag_cons90_v0=6;
    return 0
}
function memory_new__91_v0 {
    local nobjs=$1
    __AMBER_ARRAY_10=();
    local mem=("${__AMBER_ARRAY_10[@]}")
    local i=0
    local size=$(echo 3 '*' ${nobjs} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
    for i in $(seq 0 $(echo ${size} '-' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//'))
do
        if [ $(echo ${size} '<=' ${i} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            break
fi
        tag_unused__84_v0 ;
        __AF_tag_unused84_v0__47=$__AF_tag_unused84_v0;
        __AMBER_ARRAY_11=($__AF_tag_unused84_v0__47);
        mem+=("${__AMBER_ARRAY_11[@]}")
        i=$(echo ${i} '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
done
    __AF_memory_new91_v0=("${mem[@]}");
    return 0
}
function memory_get_max_objects__92_v0 {
    len__18_v1 __2_the_memory[@];
    __AF_len18_v1__54=$__AF_len18_v1;
    local length=$__AF_len18_v1__54
    local m=$(echo ${length} '%' 3 | bc  | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
    __AF_memory_get_max_objects92_v0=$(echo $(echo ${length} '-' ${m} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') '/' 3 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//');
    return 0
}
function put_object__95_v0 {
    local i=$1
    local tag=$2
    local val1=$3
    local val2=$4
    __2_the_memory[$(echo 3 '*' ${i} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')]=${tag}
    __2_the_memory[$(echo $(echo 3 '*' ${i} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')]="${val1}"
    __2_the_memory[$(echo $(echo 3 '*' ${i} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') '+' 2 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')]="${val2}"
}
function tag_of__96_v0 {
    local ptr=$1
    __AF_tag_of96_v0="${__2_the_memory[$(echo 3 '*' ${ptr} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')]}";
    return 0
}
function object_is_unused__97_v0 {
    local ptr=$1
    tag_of__96_v0 ${ptr};
    __AF_tag_of96_v0__80=$__AF_tag_of96_v0;
    tag_unused__84_v0 ;
    __AF_tag_unused84_v0__80=$__AF_tag_unused84_v0;
    __AF_object_is_unused97_v0=$(echo $__AF_tag_of96_v0__80 '==' $__AF_tag_unused84_v0__80 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//');
    return 0
}
function object_is_num__98_v0 {
    local ptr=$1
    tag_of__96_v0 ${ptr};
    __AF_tag_of96_v0__84=$__AF_tag_of96_v0;
    tag_num__85_v0 ;
    __AF_tag_num85_v0__84=$__AF_tag_num85_v0;
    __AF_object_is_num98_v0=$(echo $__AF_tag_of96_v0__84 '==' $__AF_tag_num85_v0__84 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//');
    return 0
}
function object_is_text__99_v0 {
    local ptr=$1
    tag_of__96_v0 ${ptr};
    __AF_tag_of96_v0__88=$__AF_tag_of96_v0;
    tag_text__86_v0 ;
    __AF_tag_text86_v0__88=$__AF_tag_text86_v0;
    __AF_object_is_text99_v0=$(echo $__AF_tag_of96_v0__88 '==' $__AF_tag_text86_v0__88 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//');
    return 0
}
function object_is_symbol__100_v0 {
    local ptr=$1
    tag_of__96_v0 ${ptr};
    __AF_tag_of96_v0__92=$__AF_tag_of96_v0;
    tag_symbol__87_v0 ;
    __AF_tag_symbol87_v0__92=$__AF_tag_symbol87_v0;
    __AF_object_is_symbol100_v0=$(echo $__AF_tag_of96_v0__92 '==' $__AF_tag_symbol87_v0__92 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//');
    return 0
}
function object_is_t__101_v0 {
    local ptr=$1
    tag_of__96_v0 ${ptr};
    __AF_tag_of96_v0__96=$__AF_tag_of96_v0;
    tag_t__88_v0 ;
    __AF_tag_t88_v0__96=$__AF_tag_t88_v0;
    __AF_object_is_t101_v0=$(echo $__AF_tag_of96_v0__96 '==' $__AF_tag_t88_v0__96 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//');
    return 0
}
function object_is_nil__102_v0 {
    local ptr=$1
    tag_of__96_v0 ${ptr};
    __AF_tag_of96_v0__100=$__AF_tag_of96_v0;
    tag_nil__89_v0 ;
    __AF_tag_nil89_v0__100=$__AF_tag_nil89_v0;
    __AF_object_is_nil102_v0=$(echo $__AF_tag_of96_v0__100 '==' $__AF_tag_nil89_v0__100 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//');
    return 0
}
function object_is_cons__103_v0 {
    local ptr=$1
    tag_of__96_v0 ${ptr};
    __AF_tag_of96_v0__104=$__AF_tag_of96_v0;
    tag_cons__90_v0 ;
    __AF_tag_cons90_v0__104=$__AF_tag_cons90_v0;
    __AF_object_is_cons103_v0=$(echo $__AF_tag_of96_v0__104 '==' $__AF_tag_cons90_v0__104 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//');
    return 0
}
function num_value__104_v0 {
    local ptr=$1
    __AF_num_value104_v0="${__2_the_memory[$(echo $(echo 3 '*' ${ptr} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')]}";
    return 0
}
function text_value__105_v0 {
    local ptr=$1
    __AF_text_value105_v0="${__2_the_memory[$(echo $(echo 3 '*' ${ptr} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')]}";
    return 0
}
function symbol_name__106_v0 {
    local ptr=$1
    __AF_symbol_name106_v0="${__2_the_memory[$(echo $(echo 3 '*' ${ptr} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')]}";
    return 0
}
function cons_car__107_v0 {
    local ptr=$1
    __AF_cons_car107_v0="${__2_the_memory[$(echo $(echo 3 '*' ${ptr} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')]}";
    return 0
}
function cons_cdr__108_v0 {
    local ptr=$1
    __AF_cons_cdr108_v0="${__2_the_memory[$(echo $(echo 3 '*' ${ptr} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') '+' 2 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')]}";
    return 0
}
function object_set_num__109_v0 {
    local ptr=$1
    local value=$2
    tag_num__85_v0 ;
    __AF_tag_num85_v0__131=$__AF_tag_num85_v0;
    put_object__95_v0 ${ptr} $__AF_tag_num85_v0__131 ${value} "";
    __AF_put_object95_v0__131=$__AF_put_object95_v0;
    echo $__AF_put_object95_v0__131 > /dev/null 2>&1
}
function object_set_text__110_v0 {
    local ptr=$1
    local value=$2
    tag_text__86_v0 ;
    __AF_tag_text86_v0__135=$__AF_tag_text86_v0;
    put_object__95_v0 ${ptr} $__AF_tag_text86_v0__135 "${value}" "";
    __AF_put_object95_v0__135=$__AF_put_object95_v0;
    echo $__AF_put_object95_v0__135 > /dev/null 2>&1
}
function object_set_symbol__111_v0 {
    local ptr=$1
    local name=$2
    tag_symbol__87_v0 ;
    __AF_tag_symbol87_v0__139=$__AF_tag_symbol87_v0;
    put_object__95_v0 ${ptr} $__AF_tag_symbol87_v0__139 "${name}" "";
    __AF_put_object95_v0__139=$__AF_put_object95_v0;
    echo $__AF_put_object95_v0__139 > /dev/null 2>&1
}
function object_set_t__112_v0 {
    local ptr=$1
    tag_t__88_v0 ;
    __AF_tag_t88_v0__143=$__AF_tag_t88_v0;
    put_object__95_v0 ${ptr} $__AF_tag_t88_v0__143 "" "";
    __AF_put_object95_v0__143=$__AF_put_object95_v0;
    echo $__AF_put_object95_v0__143 > /dev/null 2>&1
}
function object_set_nil__113_v0 {
    local ptr=$1
    tag_nil__89_v0 ;
    __AF_tag_nil89_v0__147=$__AF_tag_nil89_v0;
    put_object__95_v0 ${ptr} $__AF_tag_nil89_v0__147 "" "";
    __AF_put_object95_v0__147=$__AF_put_object95_v0;
    echo $__AF_put_object95_v0__147 > /dev/null 2>&1
}
function object_set_cons__114_v0 {
    local ptr=$1
    local car=$2
    local cdr=$3
    tag_cons__90_v0 ;
    __AF_tag_cons90_v0__151=$__AF_tag_cons90_v0;
    put_object__95_v0 ${ptr} $__AF_tag_cons90_v0__151 ${car} ${cdr};
    __AF_put_object95_v0__151=$__AF_put_object95_v0;
    echo $__AF_put_object95_v0__151 > /dev/null 2>&1
}
function cons_set_car__115_v0 {
    local ptr=$1
    local car=$2
    cons_cdr__108_v0 ${ptr};
    __AF_cons_cdr108_v0__155=$__AF_cons_cdr108_v0;
    local cdr=$__AF_cons_cdr108_v0__155
    object_set_cons__114_v0 ${ptr} ${car} ${cdr};
    __AF_object_set_cons114_v0__156=$__AF_object_set_cons114_v0;
    echo $__AF_object_set_cons114_v0__156 > /dev/null 2>&1
}
function cons_set_cdr__116_v0 {
    local ptr=$1
    local cdr=$2
    cons_car__107_v0 ${ptr};
    __AF_cons_car107_v0__160=$__AF_cons_car107_v0;
    local car=$__AF_cons_car107_v0__160
    object_set_cons__114_v0 ${ptr} ${car} ${cdr};
    __AF_object_set_cons114_v0__161=$__AF_object_set_cons114_v0;
    echo $__AF_object_set_cons114_v0__161 > /dev/null 2>&1
}
function object_clear__117_v0 {
    local ptr=$1
    tag_unused__84_v0 ;
    __AF_tag_unused84_v0__165=$__AF_tag_unused84_v0;
    put_object__95_v0 ${ptr} $__AF_tag_unused84_v0__165 "<X>" "<X>";
    __AF_put_object95_v0__165=$__AF_put_object95_v0;
    echo $__AF_put_object95_v0__165 > /dev/null 2>&1
}
function find_next_place__118_v0 {
    memory_get_max_objects__92_v0 ;
    __AF_memory_get_max_objects92_v0__169=$__AF_memory_get_max_objects92_v0;
    local max_objs=$__AF_memory_get_max_objects92_v0__169
    local i=$(echo ${__3_last_allocated} '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
    while :
do
        if [ $(echo ${max_objs} '<=' ${i} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            i=0
fi
        if [ $(echo ${i} '==' ${__3_last_allocated} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            break
fi
        tag_of__96_v0 ${i};
        __AF_tag_of96_v0__178=$__AF_tag_of96_v0;
        local tag=$__AF_tag_of96_v0__178
        tag_unused__84_v0 ;
        __AF_tag_unused84_v0__179=$__AF_tag_unused84_v0;
        if [ $(echo ${tag} '==' $__AF_tag_unused84_v0__179 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            __3_last_allocated=${i}
            __AF_find_next_place118_v0=${i};
            return 0
fi
        i=$(echo ${i} '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
done
    local new_nobjs=$(echo ${max_objs} '*' 2 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
    if [ $(echo ${new_nobjs} '<=' 0 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        new_nobjs=2
fi
    memory_new__91_v0 ${new_nobjs};
    __AF_memory_new91_v0__191=("${__AF_memory_new91_v0[@]}");
    local new_mem=("${__AF_memory_new91_v0__191[@]}")
    i=0
    len__18_v1 __2_the_memory[@];
    __AF_len18_v1__193=$__AF_len18_v1;
    local mem_len=$__AF_len18_v1__193
    while :
do
        if [ $(echo ${mem_len} '<=' ${i} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            break
fi
        new_mem[${i}]="${__2_the_memory[${i}]}"
        i=$(echo ${i} '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
done
    __2_the_memory=("${new_mem[@]}")
    __3_last_allocated=${max_objs}
    __AF_find_next_place118_v0=${max_objs};
    return 0
}
function new_num__119_v0 {
    local val=$1
    find_next_place__118_v0 ;
    __AF_find_next_place118_v0__209=$__AF_find_next_place118_v0;
    local i=$__AF_find_next_place118_v0__209
    object_set_num__109_v0 ${i} ${val};
    __AF_object_set_num109_v0__210=$__AF_object_set_num109_v0;
    echo $__AF_object_set_num109_v0__210 > /dev/null 2>&1
    __AF_new_num119_v0=${i};
    return 0
}
function new_text__120_v0 {
    local val=$1
    find_next_place__118_v0 ;
    __AF_find_next_place118_v0__215=$__AF_find_next_place118_v0;
    local i=$__AF_find_next_place118_v0__215
    object_set_text__110_v0 ${i} "${val}";
    __AF_object_set_text110_v0__216=$__AF_object_set_text110_v0;
    echo $__AF_object_set_text110_v0__216 > /dev/null 2>&1
    __AF_new_text120_v0=${i};
    return 0
}
function new_symbol__121_v0 {
    local name=$1
    find_next_place__118_v0 ;
    __AF_find_next_place118_v0__221=$__AF_find_next_place118_v0;
    local i=$__AF_find_next_place118_v0__221
    object_set_symbol__111_v0 ${i} "${name}";
    __AF_object_set_symbol111_v0__222=$__AF_object_set_symbol111_v0;
    echo $__AF_object_set_symbol111_v0__222 > /dev/null 2>&1
    __AF_new_symbol121_v0=${i};
    return 0
}
function new_t__122_v0 {
    find_next_place__118_v0 ;
    __AF_find_next_place118_v0__227=$__AF_find_next_place118_v0;
    local i=$__AF_find_next_place118_v0__227
    object_set_t__112_v0 ${i};
    __AF_object_set_t112_v0__228=$__AF_object_set_t112_v0;
    echo $__AF_object_set_t112_v0__228 > /dev/null 2>&1
    __AF_new_t122_v0=${i};
    return 0
}
function new_nil__123_v0 {
    find_next_place__118_v0 ;
    __AF_find_next_place118_v0__233=$__AF_find_next_place118_v0;
    local i=$__AF_find_next_place118_v0__233
    object_set_nil__113_v0 ${i};
    __AF_object_set_nil113_v0__234=$__AF_object_set_nil113_v0;
    echo $__AF_object_set_nil113_v0__234 > /dev/null 2>&1
    __AF_new_nil123_v0=${i};
    return 0
}
function new_cons__124_v0 {
    local car=$1
    local cdr=$2
    find_next_place__118_v0 ;
    __AF_find_next_place118_v0__239=$__AF_find_next_place118_v0;
    local i=$__AF_find_next_place118_v0__239
    object_set_cons__114_v0 ${i} ${car} ${cdr};
    __AF_object_set_cons114_v0__240=$__AF_object_set_cons114_v0;
    echo $__AF_object_set_cons114_v0__240 > /dev/null 2>&1
    __AF_new_cons124_v0=${i};
    return 0
}
function new_native_fun__125_v0 {
    local funcref=$1
    local desc=$2
    new_nil__123_v0 ;
    __AF_new_nil123_v0__250=$__AF_new_nil123_v0;
    local val=$__AF_new_nil123_v0__250
    new_text__120_v0 "${desc}";
    __AF_new_text120_v0__251=$__AF_new_text120_v0;
    new_cons__124_v0 $__AF_new_text120_v0__251 ${val};
    __AF_new_cons124_v0__251=$__AF_new_cons124_v0;
    val=$__AF_new_cons124_v0__251
    new_symbol__121_v0 "${funcref}";
    __AF_new_symbol121_v0__252=$__AF_new_symbol121_v0;
    new_cons__124_v0 $__AF_new_symbol121_v0__252 ${val};
    __AF_new_cons124_v0__252=$__AF_new_cons124_v0;
    val=$__AF_new_cons124_v0__252
    new_symbol__121_v0 "#:native";
    __AF_new_symbol121_v0__253=$__AF_new_symbol121_v0;
    new_cons__124_v0 $__AF_new_symbol121_v0__253 ${val};
    __AF_new_cons124_v0__253=$__AF_new_cons124_v0;
    val=$__AF_new_cons124_v0__253
    __AF_new_native_fun125_v0=${val};
    return 0
}
function object_is_native_fun__126_v0 {
    local obj=$1
    object_is_cons__103_v0 ${obj};
    __AF_object_is_cons103_v0__258=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__258 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        __AF_object_is_native_fun126_v0=0;
        return 0
fi
    cons_car__107_v0 ${obj};
    __AF_cons_car107_v0__261=$__AF_cons_car107_v0;
    local tag=$__AF_cons_car107_v0__261
    object_is_symbol__100_v0 ${tag};
    __AF_object_is_symbol100_v0__262=$__AF_object_is_symbol100_v0;
    if [ $(echo  '!' $__AF_object_is_symbol100_v0__262 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        __AF_object_is_native_fun126_v0=0;
        return 0
fi
    symbol_name__106_v0 ${tag};
    __AF_symbol_name106_v0__265="${__AF_symbol_name106_v0}";
    if [ $([ "_${__AF_symbol_name106_v0__265}" == "_#:native" ]; echo $?) != 0 ]; then
        __AF_object_is_native_fun126_v0=0;
        return 0
fi
    __AF_object_is_native_fun126_v0=1;
    return 0
}
function native_fun_funcref__127_v0 {
    local f=$1
    cons_cdr__108_v0 ${f};
    __AF_cons_cdr108_v0__272=$__AF_cons_cdr108_v0;
    local cdr=$__AF_cons_cdr108_v0__272
    cons_car__107_v0 ${cdr};
    __AF_cons_car107_v0__273=$__AF_cons_car107_v0;
    local cadr=$__AF_cons_car107_v0__273
    symbol_name__106_v0 ${cadr};
    __AF_symbol_name106_v0__274="${__AF_symbol_name106_v0}";
    __AF_native_fun_funcref127_v0="${__AF_symbol_name106_v0__274}";
    return 0
}
function native_fun_desc__128_v0 {
    local f=$1
    cons_cdr__108_v0 ${f};
    __AF_cons_cdr108_v0__278=$__AF_cons_cdr108_v0;
    local cdr=$__AF_cons_cdr108_v0__278
    cons_cdr__108_v0 ${cdr};
    __AF_cons_cdr108_v0__279=$__AF_cons_cdr108_v0;
    local cddr=$__AF_cons_cdr108_v0__279
    cons_car__107_v0 ${cddr};
    __AF_cons_car107_v0__280=$__AF_cons_car107_v0;
    local caddr=$__AF_cons_car107_v0__280
    text_value__105_v0 ${caddr};
    __AF_text_value105_v0__281="${__AF_text_value105_v0}";
    __AF_native_fun_desc128_v0="${__AF_text_value105_v0__281}";
    return 0
}
function new_special_form__129_v0 {
    local funcref=$1
    local desc=$2
    new_nil__123_v0 ;
    __AF_new_nil123_v0__300=$__AF_new_nil123_v0;
    local val=$__AF_new_nil123_v0__300
    new_text__120_v0 "${desc}";
    __AF_new_text120_v0__301=$__AF_new_text120_v0;
    new_cons__124_v0 $__AF_new_text120_v0__301 ${val};
    __AF_new_cons124_v0__301=$__AF_new_cons124_v0;
    val=$__AF_new_cons124_v0__301
    new_symbol__121_v0 "${funcref}";
    __AF_new_symbol121_v0__302=$__AF_new_symbol121_v0;
    new_cons__124_v0 $__AF_new_symbol121_v0__302 ${val};
    __AF_new_cons124_v0__302=$__AF_new_cons124_v0;
    val=$__AF_new_cons124_v0__302
    new_symbol__121_v0 "#:special";
    __AF_new_symbol121_v0__303=$__AF_new_symbol121_v0;
    new_cons__124_v0 $__AF_new_symbol121_v0__303 ${val};
    __AF_new_cons124_v0__303=$__AF_new_cons124_v0;
    val=$__AF_new_cons124_v0__303
    __AF_new_special_form129_v0=${val};
    return 0
}
function object_is_special_form__130_v0 {
    local obj=$1
    object_is_cons__103_v0 ${obj};
    __AF_object_is_cons103_v0__308=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__308 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        __AF_object_is_special_form130_v0=0;
        return 0
fi
    cons_car__107_v0 ${obj};
    __AF_cons_car107_v0__311=$__AF_cons_car107_v0;
    local tag=$__AF_cons_car107_v0__311
    object_is_symbol__100_v0 ${tag};
    __AF_object_is_symbol100_v0__312=$__AF_object_is_symbol100_v0;
    if [ $(echo  '!' $__AF_object_is_symbol100_v0__312 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        __AF_object_is_special_form130_v0=0;
        return 0
fi
    symbol_name__106_v0 ${tag};
    __AF_symbol_name106_v0__315="${__AF_symbol_name106_v0}";
    if [ $([ "_${__AF_symbol_name106_v0__315}" == "_#:special" ]; echo $?) != 0 ]; then
        __AF_object_is_special_form130_v0=0;
        return 0
fi
    __AF_object_is_special_form130_v0=1;
    return 0
}
function special_form_funcref__131_v0 {
    local f=$1
    cons_cdr__108_v0 ${f};
    __AF_cons_cdr108_v0__322=$__AF_cons_cdr108_v0;
    local cdr=$__AF_cons_cdr108_v0__322
    cons_car__107_v0 ${cdr};
    __AF_cons_car107_v0__323=$__AF_cons_car107_v0;
    local cadr=$__AF_cons_car107_v0__323
    symbol_name__106_v0 ${cadr};
    __AF_symbol_name106_v0__324="${__AF_symbol_name106_v0}";
    __AF_special_form_funcref131_v0="${__AF_symbol_name106_v0__324}";
    return 0
}
function special_form_desc__132_v0 {
    local f=$1
    cons_cdr__108_v0 ${f};
    __AF_cons_cdr108_v0__328=$__AF_cons_cdr108_v0;
    local cdr=$__AF_cons_cdr108_v0__328
    cons_cdr__108_v0 ${cdr};
    __AF_cons_cdr108_v0__329=$__AF_cons_cdr108_v0;
    local cddr=$__AF_cons_cdr108_v0__329
    cons_car__107_v0 ${cddr};
    __AF_cons_car107_v0__330=$__AF_cons_car107_v0;
    local caddr=$__AF_cons_car107_v0__330
    text_value__105_v0 ${caddr};
    __AF_text_value105_v0__331="${__AF_text_value105_v0}";
    __AF_special_form_desc132_v0="${__AF_text_value105_v0__331}";
    return 0
}
function new_closure__133_v0 {
    local name=$1
    local params=$2
    local body=$3
    local env=$4
    new_nil__123_v0 ;
    __AF_new_nil123_v0__335=$__AF_new_nil123_v0;
    local cl=$__AF_new_nil123_v0__335
    new_cons__124_v0 ${env} ${cl};
    __AF_new_cons124_v0__336=$__AF_new_cons124_v0;
    cl=$__AF_new_cons124_v0__336
    new_cons__124_v0 ${body} ${cl};
    __AF_new_cons124_v0__337=$__AF_new_cons124_v0;
    cl=$__AF_new_cons124_v0__337
    new_cons__124_v0 ${params} ${cl};
    __AF_new_cons124_v0__338=$__AF_new_cons124_v0;
    cl=$__AF_new_cons124_v0__338
    new_cons__124_v0 ${name} ${cl};
    __AF_new_cons124_v0__339=$__AF_new_cons124_v0;
    cl=$__AF_new_cons124_v0__339
    new_symbol__121_v0 "#:closure";
    __AF_new_symbol121_v0__340=$__AF_new_symbol121_v0;
    new_cons__124_v0 $__AF_new_symbol121_v0__340 ${cl};
    __AF_new_cons124_v0__340=$__AF_new_cons124_v0;
    cl=$__AF_new_cons124_v0__340
    __AF_new_closure133_v0=${cl};
    return 0
}
function object_is_closure__134_v0 {
    local obj=$1
    object_is_cons__103_v0 ${obj};
    __AF_object_is_cons103_v0__345=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__345 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        __AF_object_is_closure134_v0=0;
        return 0
fi
    cons_car__107_v0 ${obj};
    __AF_cons_car107_v0__348=$__AF_cons_car107_v0;
    local tag=$__AF_cons_car107_v0__348
    object_is_symbol__100_v0 ${tag};
    __AF_object_is_symbol100_v0__349=$__AF_object_is_symbol100_v0;
    if [ $(echo  '!' $__AF_object_is_symbol100_v0__349 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        __AF_object_is_closure134_v0=0;
        return 0
fi
    symbol_name__106_v0 ${tag};
    __AF_symbol_name106_v0__352="${__AF_symbol_name106_v0}";
    if [ $([ "_${__AF_symbol_name106_v0__352}" == "_#:closure" ]; echo $?) != 0 ]; then
        __AF_object_is_closure134_v0=0;
        return 0
fi
    __AF_object_is_closure134_v0=1;
    return 0
}
function closure_name__135_v0 {
    local cl=$1
    cons_cdr__108_v0 ${cl};
    __AF_cons_cdr108_v0__359=$__AF_cons_cdr108_v0;
    local cdr=$__AF_cons_cdr108_v0__359
    cons_car__107_v0 ${cdr};
    __AF_cons_car107_v0__360=$__AF_cons_car107_v0;
    local cadr=$__AF_cons_car107_v0__360
    text_value__105_v0 ${cadr};
    __AF_text_value105_v0__361="${__AF_text_value105_v0}";
    __AF_closure_name135_v0="${__AF_text_value105_v0__361}";
    return 0
}
function closure_params__136_v0 {
    local cl=$1
    cons_cdr__108_v0 ${cl};
    __AF_cons_cdr108_v0__365=$__AF_cons_cdr108_v0;
    local cdr=$__AF_cons_cdr108_v0__365
    cons_cdr__108_v0 ${cdr};
    __AF_cons_cdr108_v0__366=$__AF_cons_cdr108_v0;
    local cddr=$__AF_cons_cdr108_v0__366
    cons_car__107_v0 ${cddr};
    __AF_cons_car107_v0__367=$__AF_cons_car107_v0;
    local caddr=$__AF_cons_car107_v0__367
    __AF_closure_params136_v0=${caddr};
    return 0
}
function closure_body__137_v0 {
    local cl=$1
    cons_cdr__108_v0 ${cl};
    __AF_cons_cdr108_v0__372=$__AF_cons_cdr108_v0;
    local cdr=$__AF_cons_cdr108_v0__372
    cons_cdr__108_v0 ${cdr};
    __AF_cons_cdr108_v0__373=$__AF_cons_cdr108_v0;
    local cddr=$__AF_cons_cdr108_v0__373
    cons_cdr__108_v0 ${cddr};
    __AF_cons_cdr108_v0__374=$__AF_cons_cdr108_v0;
    local cdddr=$__AF_cons_cdr108_v0__374
    cons_car__107_v0 ${cdddr};
    __AF_cons_car107_v0__375=$__AF_cons_car107_v0;
    local cadddr=$__AF_cons_car107_v0__375
    __AF_closure_body137_v0=${cadddr};
    return 0
}
function closure_env__138_v0 {
    local cl=$1
    cons_cdr__108_v0 ${cl};
    __AF_cons_cdr108_v0__380=$__AF_cons_cdr108_v0;
    local cdr=$__AF_cons_cdr108_v0__380
    cons_cdr__108_v0 ${cdr};
    __AF_cons_cdr108_v0__381=$__AF_cons_cdr108_v0;
    local cddr=$__AF_cons_cdr108_v0__381
    cons_cdr__108_v0 ${cddr};
    __AF_cons_cdr108_v0__382=$__AF_cons_cdr108_v0;
    local cdddr=$__AF_cons_cdr108_v0__382
    cons_cdr__108_v0 ${cdddr};
    __AF_cons_cdr108_v0__383=$__AF_cons_cdr108_v0;
    local cddddr=$__AF_cons_cdr108_v0__383
    cons_car__107_v0 ${cddddr};
    __AF_cons_car107_v0__384=$__AF_cons_car107_v0;
    local caddddr=$__AF_cons_car107_v0__384
    __AF_closure_env138_v0=${caddddr};
    return 0
}
function new_decl__139_v0 {
    local funcref=$1
    local desc=$2
    new_nil__123_v0 ;
    __AF_new_nil123_v0__391=$__AF_new_nil123_v0;
    local val=$__AF_new_nil123_v0__391
    new_text__120_v0 "${desc}";
    __AF_new_text120_v0__392=$__AF_new_text120_v0;
    new_cons__124_v0 $__AF_new_text120_v0__392 ${val};
    __AF_new_cons124_v0__392=$__AF_new_cons124_v0;
    val=$__AF_new_cons124_v0__392
    new_symbol__121_v0 "${funcref}";
    __AF_new_symbol121_v0__393=$__AF_new_symbol121_v0;
    new_cons__124_v0 $__AF_new_symbol121_v0__393 ${val};
    __AF_new_cons124_v0__393=$__AF_new_cons124_v0;
    val=$__AF_new_cons124_v0__393
    new_symbol__121_v0 "#:decl";
    __AF_new_symbol121_v0__394=$__AF_new_symbol121_v0;
    new_cons__124_v0 $__AF_new_symbol121_v0__394 ${val};
    __AF_new_cons124_v0__394=$__AF_new_cons124_v0;
    val=$__AF_new_cons124_v0__394
    __AF_new_decl139_v0=${val};
    return 0
}
function object_is_decl__140_v0 {
    local obj=$1
    object_is_cons__103_v0 ${obj};
    __AF_object_is_cons103_v0__399=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__399 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        __AF_object_is_decl140_v0=0;
        return 0
fi
    cons_car__107_v0 ${obj};
    __AF_cons_car107_v0__402=$__AF_cons_car107_v0;
    local tag=$__AF_cons_car107_v0__402
    object_is_symbol__100_v0 ${tag};
    __AF_object_is_symbol100_v0__403=$__AF_object_is_symbol100_v0;
    if [ $(echo  '!' $__AF_object_is_symbol100_v0__403 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        __AF_object_is_decl140_v0=0;
        return 0
fi
    symbol_name__106_v0 ${tag};
    __AF_symbol_name106_v0__406="${__AF_symbol_name106_v0}";
    if [ $([ "_${__AF_symbol_name106_v0__406}" == "_#:decl" ]; echo $?) != 0 ]; then
        __AF_object_is_decl140_v0=0;
        return 0
fi
    __AF_object_is_decl140_v0=1;
    return 0
}
function decl_funcref__141_v0 {
    local f=$1
    cons_cdr__108_v0 ${f};
    __AF_cons_cdr108_v0__413=$__AF_cons_cdr108_v0;
    local cdr=$__AF_cons_cdr108_v0__413
    cons_car__107_v0 ${cdr};
    __AF_cons_car107_v0__414=$__AF_cons_car107_v0;
    local cadr=$__AF_cons_car107_v0__414
    symbol_name__106_v0 ${cadr};
    __AF_symbol_name106_v0__415="${__AF_symbol_name106_v0}";
    __AF_decl_funcref141_v0="${__AF_symbol_name106_v0__415}";
    return 0
}
function decl_desc__142_v0 {
    local f=$1
    cons_cdr__108_v0 ${f};
    __AF_cons_cdr108_v0__419=$__AF_cons_cdr108_v0;
    local cdr=$__AF_cons_cdr108_v0__419
    cons_cdr__108_v0 ${cdr};
    __AF_cons_cdr108_v0__420=$__AF_cons_cdr108_v0;
    local cddr=$__AF_cons_cdr108_v0__420
    cons_car__107_v0 ${cddr};
    __AF_cons_car107_v0__421=$__AF_cons_car107_v0;
    local caddr=$__AF_cons_car107_v0__421
    text_value__105_v0 ${caddr};
    __AF_text_value105_v0__422="${__AF_text_value105_v0}";
    __AF_decl_desc142_v0="${__AF_text_value105_v0__422}";
    return 0
}
function object_is_quotation__143_v0 {
    local obj=$1
    object_is_cons__103_v0 ${obj};
    __AF_object_is_cons103_v0__426=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__426 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        __AF_object_is_quotation143_v0=0;
        return 0
fi
    cons_car__107_v0 ${obj};
    __AF_cons_car107_v0__429=$__AF_cons_car107_v0;
    local tag=$__AF_cons_car107_v0__429
    object_is_symbol__100_v0 ${tag};
    __AF_object_is_symbol100_v0__430=$__AF_object_is_symbol100_v0;
    if [ $(echo  '!' $__AF_object_is_symbol100_v0__430 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        __AF_object_is_quotation143_v0=0;
        return 0
fi
    symbol_name__106_v0 ${tag};
    __AF_symbol_name106_v0__433="${__AF_symbol_name106_v0}";
    if [ $([ "_${__AF_symbol_name106_v0__433}" == "_quote" ]; echo $?) != 0 ]; then
        __AF_object_is_quotation143_v0=0;
        return 0
fi
    cons_cdr__108_v0 ${obj};
    __AF_cons_cdr108_v0__436=$__AF_cons_cdr108_v0;
    local cdr=$__AF_cons_cdr108_v0__436
    object_is_cons__103_v0 ${cdr};
    __AF_object_is_cons103_v0__437=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__437 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        __AF_object_is_quotation143_v0=0;
        return 0
fi
    cons_cdr__108_v0 ${cdr};
    __AF_cons_cdr108_v0__440=$__AF_cons_cdr108_v0;
    object_is_nil__102_v0 $__AF_cons_cdr108_v0__440;
    __AF_object_is_nil102_v0__440=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__440 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        __AF_object_is_quotation143_v0=0;
        return 0
fi
    __AF_object_is_quotation143_v0=1;
    return 0
}
function quotation_content__144_v0 {
    local obj=$1
    cons_cdr__108_v0 ${obj};
    __AF_cons_cdr108_v0__447=$__AF_cons_cdr108_v0;
    local cdr=$__AF_cons_cdr108_v0__447
    cons_car__107_v0 ${cdr};
    __AF_cons_car107_v0__448=$__AF_cons_car107_v0;
    local cadr=$__AF_cons_car107_v0__448
    __AF_quotation_content144_v0=${cadr};
    return 0
}
function object_eqv__145_v0 {
    local ptr1=$1
    local ptr2=$2
    tag_of__96_v0 ${ptr1};
    __AF_tag_of96_v0__453=$__AF_tag_of96_v0;
    local tag1=$__AF_tag_of96_v0__453
    tag_of__96_v0 ${ptr2};
    __AF_tag_of96_v0__454=$__AF_tag_of96_v0;
    local tag2=$__AF_tag_of96_v0__454
    tag_num__85_v0 ;
    __AF_tag_num85_v0__456=$__AF_tag_num85_v0;
    tag_text__86_v0 ;
    __AF_tag_text86_v0__461=$__AF_tag_text86_v0;
    tag_symbol__87_v0 ;
    __AF_tag_symbol87_v0__466=$__AF_tag_symbol87_v0;
    tag_t__88_v0 ;
    __AF_tag_t88_v0__471=$__AF_tag_t88_v0;
    tag_nil__89_v0 ;
    __AF_tag_nil89_v0__474=$__AF_tag_nil89_v0;
    tag_cons__90_v0 ;
    __AF_tag_cons90_v0__477=$__AF_tag_cons90_v0;
    if [ $(echo ${tag1} '==' $__AF_tag_num85_v0__456 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        num_value__104_v0 ${ptr1};
        __AF_num_value104_v0__457=$__AF_num_value104_v0;
        local v1=$__AF_num_value104_v0__457
        num_value__104_v0 ${ptr2};
        __AF_num_value104_v0__458=$__AF_num_value104_v0;
        local v2=$__AF_num_value104_v0__458
        tag_num__85_v0 ;
        __AF_tag_num85_v0__459=$__AF_tag_num85_v0;
        __AF_object_eqv145_v0=$(echo $(echo ${tag2} '==' $__AF_tag_num85_v0__459 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') '&&' $(echo ${v1} '==' ${v2} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//');
        return 0
elif [ $(echo ${tag1} '==' $__AF_tag_text86_v0__461 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        text_value__105_v0 ${ptr1};
        __AF_text_value105_v0__462="${__AF_text_value105_v0}";
        local v1="${__AF_text_value105_v0__462}"
        text_value__105_v0 ${ptr2};
        __AF_text_value105_v0__463="${__AF_text_value105_v0}";
        local v2="${__AF_text_value105_v0__463}"
        tag_text__86_v0 ;
        __AF_tag_text86_v0__464=$__AF_tag_text86_v0;
        __AF_object_eqv145_v0=$(echo $(echo ${tag2} '==' $__AF_tag_text86_v0__464 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') '&&' $([ "_${v1}" != "_${v2}" ]; echo $?) | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//');
        return 0
elif [ $(echo ${tag1} '==' $__AF_tag_symbol87_v0__466 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        symbol_name__106_v0 ${ptr1};
        __AF_symbol_name106_v0__467="${__AF_symbol_name106_v0}";
        local v1="${__AF_symbol_name106_v0__467}"
        symbol_name__106_v0 ${ptr2};
        __AF_symbol_name106_v0__468="${__AF_symbol_name106_v0}";
        local v2="${__AF_symbol_name106_v0__468}"
        tag_symbol__87_v0 ;
        __AF_tag_symbol87_v0__469=$__AF_tag_symbol87_v0;
        __AF_object_eqv145_v0=$(echo $(echo ${tag2} '==' $__AF_tag_symbol87_v0__469 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') '&&' $([ "_${v1}" != "_${v2}" ]; echo $?) | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//');
        return 0
elif [ $(echo ${tag1} '==' $__AF_tag_t88_v0__471 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        tag_t__88_v0 ;
        __AF_tag_t88_v0__472=$__AF_tag_t88_v0;
        __AF_object_eqv145_v0=$(echo ${tag2} '==' $__AF_tag_t88_v0__472 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//');
        return 0
elif [ $(echo ${tag1} '==' $__AF_tag_nil89_v0__474 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        tag_nil__89_v0 ;
        __AF_tag_nil89_v0__475=$__AF_tag_nil89_v0;
        __AF_object_eqv145_v0=$(echo ${tag2} '==' $__AF_tag_nil89_v0__475 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//');
        return 0
elif [ $(echo ${tag1} '==' $__AF_tag_cons90_v0__477 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        __AF_object_eqv145_v0=$(echo ${ptr1} '==' ${ptr2} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//');
        return 0
else
        echo "BUG: object_eqv: unexpected object tag: ${tag1}"
        __AF_object_eqv145_v0=0;
        return 0
fi
}
function object_equal__146_v0 {
    local obj1=$1
    local obj2=$2
    callstack_current_sp__78_v0 ;
    __AF_callstack_current_sp78_v0__488=$__AF_callstack_current_sp78_v0;
    local stack_base=$__AF_callstack_current_sp78_v0__488
    callstack_push__76_v0 ${obj1};
    __AF_callstack_push76_v0__489=$__AF_callstack_push76_v0;
    echo $__AF_callstack_push76_v0__489 > /dev/null 2>&1
    callstack_push__76_v0 ${obj2};
    __AF_callstack_push76_v0__490=$__AF_callstack_push76_v0;
    echo $__AF_callstack_push76_v0__490 > /dev/null 2>&1
    while :
do
        callstack_current_sp__78_v0 ;
        __AF_callstack_current_sp78_v0__492=$__AF_callstack_current_sp78_v0;
        if [ $(echo ${stack_base} '==' $__AF_callstack_current_sp78_v0__492 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            __AF_object_equal146_v0=1;
            return 0
fi
        callstack_pop__77_v0 ;
        __AF_callstack_pop77_v0__495=$__AF_callstack_pop77_v0;
        local obj1=$__AF_callstack_pop77_v0__495
        callstack_pop__77_v0 ;
        __AF_callstack_pop77_v0__496=$__AF_callstack_pop77_v0;
        local obj2=$__AF_callstack_pop77_v0__496
        tag_of__96_v0 ${obj1};
        __AF_tag_of96_v0__497=$__AF_tag_of96_v0;
        local tag1=$__AF_tag_of96_v0__497
        tag_of__96_v0 ${obj2};
        __AF_tag_of96_v0__498=$__AF_tag_of96_v0;
        local tag2=$__AF_tag_of96_v0__498
        tag_num__85_v0 ;
        __AF_tag_num85_v0__499=$__AF_tag_num85_v0;
        if [ $(echo ${tag1} '==' $__AF_tag_num85_v0__499 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            tag_num__85_v0 ;
            __AF_tag_num85_v0__500=$__AF_tag_num85_v0;
            if [ $(echo ${tag2} '!=' $__AF_tag_num85_v0__500 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
                break
fi
            num_value__104_v0 ${obj1};
            __AF_num_value104_v0__503=$__AF_num_value104_v0;
            local v1=$__AF_num_value104_v0__503
            num_value__104_v0 ${obj2};
            __AF_num_value104_v0__504=$__AF_num_value104_v0;
            local v2=$__AF_num_value104_v0__504
            if [ $(echo ${v1} '!=' ${v2} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
                break
fi
            continue
fi
        tag_text__86_v0 ;
        __AF_tag_text86_v0__510=$__AF_tag_text86_v0;
        if [ $(echo ${tag1} '==' $__AF_tag_text86_v0__510 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            tag_text__86_v0 ;
            __AF_tag_text86_v0__511=$__AF_tag_text86_v0;
            if [ $(echo ${tag2} '!=' $__AF_tag_text86_v0__511 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
                break
fi
            text_value__105_v0 ${obj1};
            __AF_text_value105_v0__514="${__AF_text_value105_v0}";
            local v1="${__AF_text_value105_v0__514}"
            text_value__105_v0 ${obj2};
            __AF_text_value105_v0__515="${__AF_text_value105_v0}";
            local v2="${__AF_text_value105_v0__515}"
            if [ $([ "_${v1}" == "_${v2}" ]; echo $?) != 0 ]; then
                break
fi
            continue
fi
        tag_symbol__87_v0 ;
        __AF_tag_symbol87_v0__521=$__AF_tag_symbol87_v0;
        if [ $(echo ${tag1} '==' $__AF_tag_symbol87_v0__521 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            tag_symbol__87_v0 ;
            __AF_tag_symbol87_v0__522=$__AF_tag_symbol87_v0;
            if [ $(echo ${tag2} '!=' $__AF_tag_symbol87_v0__522 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
                break
fi
            symbol_name__106_v0 ${obj1};
            __AF_symbol_name106_v0__525="${__AF_symbol_name106_v0}";
            local v1="${__AF_symbol_name106_v0__525}"
            symbol_name__106_v0 ${obj2};
            __AF_symbol_name106_v0__526="${__AF_symbol_name106_v0}";
            local v2="${__AF_symbol_name106_v0__526}"
            if [ $([ "_${v1}" == "_${v2}" ]; echo $?) != 0 ]; then
                break
fi
            continue
fi
        tag_t__88_v0 ;
        __AF_tag_t88_v0__532=$__AF_tag_t88_v0;
        if [ $(echo ${tag1} '==' $__AF_tag_t88_v0__532 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            tag_t__88_v0 ;
            __AF_tag_t88_v0__533=$__AF_tag_t88_v0;
            if [ $(echo ${tag2} '!=' $__AF_tag_t88_v0__533 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
                break
fi
            continue
fi
        tag_nil__89_v0 ;
        __AF_tag_nil89_v0__538=$__AF_tag_nil89_v0;
        if [ $(echo ${tag1} '==' $__AF_tag_nil89_v0__538 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            tag_nil__89_v0 ;
            __AF_tag_nil89_v0__539=$__AF_tag_nil89_v0;
            if [ $(echo ${tag2} '!=' $__AF_tag_nil89_v0__539 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
                break
fi
            continue
fi
        tag_cons__90_v0 ;
        __AF_tag_cons90_v0__544=$__AF_tag_cons90_v0;
        if [ $(echo ${tag1} '==' $__AF_tag_cons90_v0__544 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            tag_cons__90_v0 ;
            __AF_tag_cons90_v0__545=$__AF_tag_cons90_v0;
            if [ $(echo ${tag2} '!=' $__AF_tag_cons90_v0__545 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
                break
fi
            cons_car__107_v0 ${obj1};
            __AF_cons_car107_v0__548=$__AF_cons_car107_v0;
            local car1=$__AF_cons_car107_v0__548
            cons_cdr__108_v0 ${obj1};
            __AF_cons_cdr108_v0__549=$__AF_cons_cdr108_v0;
            local cdr1=$__AF_cons_cdr108_v0__549
            cons_car__107_v0 ${obj2};
            __AF_cons_car107_v0__550=$__AF_cons_car107_v0;
            local car2=$__AF_cons_car107_v0__550
            cons_cdr__108_v0 ${obj2};
            __AF_cons_cdr108_v0__551=$__AF_cons_cdr108_v0;
            local cdr2=$__AF_cons_cdr108_v0__551
            callstack_push__76_v0 ${car1};
            __AF_callstack_push76_v0__552=$__AF_callstack_push76_v0;
            echo $__AF_callstack_push76_v0__552 > /dev/null 2>&1
            callstack_push__76_v0 ${car2};
            __AF_callstack_push76_v0__553=$__AF_callstack_push76_v0;
            echo $__AF_callstack_push76_v0__553 > /dev/null 2>&1
            callstack_push__76_v0 ${cdr1};
            __AF_callstack_push76_v0__554=$__AF_callstack_push76_v0;
            echo $__AF_callstack_push76_v0__554 > /dev/null 2>&1
            callstack_push__76_v0 ${cdr2};
            __AF_callstack_push76_v0__555=$__AF_callstack_push76_v0;
            echo $__AF_callstack_push76_v0__555 > /dev/null 2>&1
            continue
fi
        echo "BUG: object_equal: unexpected object tag: ${tag1}"
        break
done
    callstack_rewind__79_v0 ${stack_base};
    __AF_callstack_rewind79_v0__561=$__AF_callstack_rewind79_v0;
    echo $__AF_callstack_rewind79_v0__561 > /dev/null 2>&1
    __AF_object_equal146_v0=0;
    return 0
}
function escape_text__147_v0 {
    local s=$1
    chars__20_v0 "${s}";
    __AF_chars20_v0__566=("${__AF_chars20_v0[@]}");
    local cs=("${__AF_chars20_v0__566[@]}")
    local escaped="\""
    backslash__73_v0 1;
    __AF_backslash73_v0__568="${__AF_backslash73_v0}";
    local bs="${__AF_backslash73_v0__568}"
    for c in "${cs[@]}"
do
        if [ $([ "_${c}" != "_
" ]; echo $?) != 0 ]; then
            escaped+="${bs}"
            escaped+="n"
elif [ $([ "_${c}" != "_\"" ]; echo $?) != 0 ]; then
            escaped+="${bs}"
            escaped+="\""
elif [ $([ "_${c}" != "_${bs}" ]; echo $?) != 0 ]; then
            escaped+="${bs}"
            escaped+="${bs}"
else
            escaped+="${c}"
fi
done
    escaped+="\""
    __AF_escape_text147_v0="${escaped}";
    return 0
}
function object_to_string__148_v0 {
    local ptr=$1
    local close_paren=$(echo  '-' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
    local dot=$(echo  '-' 2 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
    local str=""
    callstack_current_sp__78_v0 ;
    __AF_callstack_current_sp78_v0__598=$__AF_callstack_current_sp78_v0;
    local stack_base=$__AF_callstack_current_sp78_v0__598
    callstack_push__76_v0 ${ptr};
    __AF_callstack_push76_v0__599=$__AF_callstack_push76_v0;
    echo $__AF_callstack_push76_v0__599 > /dev/null 2>&1
    local want_space=0
    while :
do
        callstack_current_sp__78_v0 ;
        __AF_callstack_current_sp78_v0__603=$__AF_callstack_current_sp78_v0;
        if [ $(echo $__AF_callstack_current_sp78_v0__603 '==' ${stack_base} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            break
fi
        callstack_pop__77_v0 ;
        __AF_callstack_pop77_v0__607=$__AF_callstack_pop77_v0;
        ptr=$__AF_callstack_pop77_v0__607
        if [ $(echo ${ptr} '==' ${close_paren} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            str+=")"
            continue
fi
        if [ ${want_space} != 0 ]; then
            str+=" "
else
            want_space=1
fi
        if [ $(echo ${ptr} '==' ${dot} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            str+="."
            continue
fi
        object_is_unused__97_v0 ${ptr};
        __AF_object_is_unused97_v0__624=$__AF_object_is_unused97_v0;
        if [ $__AF_object_is_unused97_v0__624 != 0 ]; then
            str+="<unused: ${ptr}>"
            continue
fi
        object_is_num__98_v0 ${ptr};
        __AF_object_is_num98_v0__628=$__AF_object_is_num98_v0;
        if [ $__AF_object_is_num98_v0__628 != 0 ]; then
            num_value__104_v0 ${ptr};
            __AF_num_value104_v0__629=$__AF_num_value104_v0;
            str+="$__AF_num_value104_v0__629"
            continue
fi
        object_is_text__99_v0 ${ptr};
        __AF_object_is_text99_v0__632=$__AF_object_is_text99_v0;
        if [ $__AF_object_is_text99_v0__632 != 0 ]; then
            text_value__105_v0 ${ptr};
            __AF_text_value105_v0__633="${__AF_text_value105_v0}";
            escape_text__147_v0 "${__AF_text_value105_v0__633}";
            __AF_escape_text147_v0__633="${__AF_escape_text147_v0}";
            str+="${__AF_escape_text147_v0__633}"
            continue
fi
        object_is_symbol__100_v0 ${ptr};
        __AF_object_is_symbol100_v0__636=$__AF_object_is_symbol100_v0;
        if [ $__AF_object_is_symbol100_v0__636 != 0 ]; then
            symbol_name__106_v0 ${ptr};
            __AF_symbol_name106_v0__637="${__AF_symbol_name106_v0}";
            str+="${__AF_symbol_name106_v0__637}"
            continue
fi
        object_is_t__101_v0 ${ptr};
        __AF_object_is_t101_v0__640=$__AF_object_is_t101_v0;
        if [ $__AF_object_is_t101_v0__640 != 0 ]; then
            str+="t"
            continue
fi
        object_is_nil__102_v0 ${ptr};
        __AF_object_is_nil102_v0__644=$__AF_object_is_nil102_v0;
        if [ $__AF_object_is_nil102_v0__644 != 0 ]; then
            str+="nil"
            continue
fi
        object_is_native_fun__126_v0 ${ptr};
        __AF_object_is_native_fun126_v0__648=$__AF_object_is_native_fun126_v0;
        if [ $__AF_object_is_native_fun126_v0__648 != 0 ]; then
            native_fun_funcref__127_v0 ${ptr};
            __AF_native_fun_funcref127_v0__649="${__AF_native_fun_funcref127_v0}";
            local name="${__AF_native_fun_funcref127_v0__649}"
            str+="<#:native ${name}>"
            continue
fi
        object_is_special_form__130_v0 ${ptr};
        __AF_object_is_special_form130_v0__653=$__AF_object_is_special_form130_v0;
        if [ $__AF_object_is_special_form130_v0__653 != 0 ]; then
            special_form_funcref__131_v0 ${ptr};
            __AF_special_form_funcref131_v0__654="${__AF_special_form_funcref131_v0}";
            local name="${__AF_special_form_funcref131_v0__654}"
            str+="<#:special ${name}>"
            continue
fi
        object_is_decl__140_v0 ${ptr};
        __AF_object_is_decl140_v0__658=$__AF_object_is_decl140_v0;
        if [ $__AF_object_is_decl140_v0__658 != 0 ]; then
            decl_funcref__141_v0 ${ptr};
            __AF_decl_funcref141_v0__659="${__AF_decl_funcref141_v0}";
            local name="${__AF_decl_funcref141_v0__659}"
            str+="<#:decl ${name}>"
            continue
fi
        object_is_closure__134_v0 ${ptr};
        __AF_object_is_closure134_v0__663=$__AF_object_is_closure134_v0;
        if [ $__AF_object_is_closure134_v0__663 != 0 ]; then
            closure_name__135_v0 ${ptr};
            __AF_closure_name135_v0__664="${__AF_closure_name135_v0}";
            local name="${__AF_closure_name135_v0__664}"
            str+="<#:closure ${name}>"
            continue
fi
        object_is_quotation__143_v0 ${ptr};
        __AF_object_is_quotation143_v0__668=$__AF_object_is_quotation143_v0;
        if [ $__AF_object_is_quotation143_v0__668 != 0 ]; then
            str+="'"
            want_space=0
            quotation_content__144_v0 ${ptr};
            __AF_quotation_content144_v0__671=$__AF_quotation_content144_v0;
            callstack_push__76_v0 $__AF_quotation_content144_v0__671;
            __AF_callstack_push76_v0__671=$__AF_callstack_push76_v0;
            echo $__AF_callstack_push76_v0__671 > /dev/null 2>&1
            continue
fi
        object_is_cons__103_v0 ${ptr};
        __AF_object_is_cons103_v0__674=$__AF_object_is_cons103_v0;
        if [ $__AF_object_is_cons103_v0__674 != 0 ]; then
            str+="("
            want_space=0
            callstack_push__76_v0 ${close_paren};
            __AF_callstack_push76_v0__677=$__AF_callstack_push76_v0;
            echo $__AF_callstack_push76_v0__677 > /dev/null 2>&1
            __AMBER_ARRAY_12=();
            local elems=("${__AMBER_ARRAY_12[@]}")
            local iter=${ptr}
            while :
do
                object_is_cons__103_v0 ${iter};
                __AF_object_is_cons103_v0__682=$__AF_object_is_cons103_v0;
                if [ $(echo  '!' $__AF_object_is_cons103_v0__682 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
                    break
fi
                cons_car__107_v0 ${iter};
                __AF_cons_car107_v0__685=$__AF_cons_car107_v0;
                local car=$__AF_cons_car107_v0__685
                cons_cdr__108_v0 ${iter};
                __AF_cons_cdr108_v0__686=$__AF_cons_cdr108_v0;
                iter=$__AF_cons_cdr108_v0__686
                __AMBER_ARRAY_13=(${car});
                __AMBER_ARRAY_ADD_14=("${__AMBER_ARRAY_13[@]}" "${elems[@]}");
                elems=("${__AMBER_ARRAY_ADD_14[@]}")
done
            local last=${iter}
            object_is_nil__102_v0 ${last};
            __AF_object_is_nil102_v0__690=$__AF_object_is_nil102_v0;
            if [ $(echo  '!' $__AF_object_is_nil102_v0__690 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
                callstack_push__76_v0 ${last};
                __AF_callstack_push76_v0__691=$__AF_callstack_push76_v0;
                echo $__AF_callstack_push76_v0__691 > /dev/null 2>&1
                callstack_push__76_v0 ${dot};
                __AF_callstack_push76_v0__692=$__AF_callstack_push76_v0;
                echo $__AF_callstack_push76_v0__692 > /dev/null 2>&1
fi
            for i in "${elems[@]}"
do
                callstack_push__76_v0 ${i};
                __AF_callstack_push76_v0__695=$__AF_callstack_push76_v0;
                echo $__AF_callstack_push76_v0__695 > /dev/null 2>&1
done
            continue
fi
        str+="<invalid: ${ptr}>"
done
    __AF_object_to_string148_v0="${str}";
    return 0
}
function init_referenced_objects__149_v0 {
    local n=$1
    __AMBER_ARRAY_15=();
    local objs=("${__AMBER_ARRAY_15[@]}")
    local i=0
    while :
do
        if [ $(echo ${n} '<=' ${i} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            break
fi
        __AMBER_ARRAY_16=(0);
        objs+=("${__AMBER_ARRAY_16[@]}")
        i=$(echo ${i} '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
done
    __AF_init_referenced_objects149_v0=("${objs[@]}");
    return 0
}
function garbage_collect__150_v0 {
    local addrs=("${!1}")
    memory_get_max_objects__92_v0 ;
    __AF_memory_get_max_objects92_v0__724=$__AF_memory_get_max_objects92_v0;
    init_referenced_objects__149_v0 $__AF_memory_get_max_objects92_v0__724;
    __AF_init_referenced_objects149_v0__724=("${__AF_init_referenced_objects149_v0[@]}");
    local referenced_objects=("${__AF_init_referenced_objects149_v0__724[@]}")
    local i=0
    while :
do
        len__18_v0 addrs[@];
        __AF_len18_v0__727=$__AF_len18_v0;
        if [ $(echo $__AF_len18_v0__727 '<=' ${i} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            break
fi
        local ptr="${addrs[${i}]}"
        referenced_objects[${ptr}]=1
        i=$(echo ${i} '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
done
    memory_get_max_objects__92_v0 ;
    __AF_memory_get_max_objects92_v0__735=$__AF_memory_get_max_objects92_v0;
    local max_objs=$__AF_memory_get_max_objects92_v0__735
    while :
do
        local changed=0
        i=0
        while :
do
            if [ $(echo ${max_objs} '<=' ${i} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
                break
fi
            tag_of__96_v0 ${i};
            __AF_tag_of96_v0__743=$__AF_tag_of96_v0;
            local tag=$__AF_tag_of96_v0__743
            tag_cons__90_v0 ;
            __AF_tag_cons90_v0__745=$__AF_tag_cons90_v0;
            if [ $(echo $(echo ${tag} '==' $__AF_tag_cons90_v0__745 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') '&&' "${referenced_objects[${i}]}" | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
                cons_car__107_v0 ${i};
                __AF_cons_car107_v0__746=$__AF_cons_car107_v0;
                local ptr=$__AF_cons_car107_v0__746
                if [ $(echo  '!' "${referenced_objects[${ptr}]}" | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
                    changed=1
                    referenced_objects[${ptr}]=1
fi
                cons_cdr__108_v0 ${i};
                __AF_cons_cdr108_v0__751=$__AF_cons_cdr108_v0;
                ptr=$__AF_cons_cdr108_v0__751
                if [ $(echo  '!' "${referenced_objects[${ptr}]}" | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
                    changed=1
                    referenced_objects[${ptr}]=1
fi
fi
            i=$(echo ${i} '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
done
        if [ $(echo  '!' ${changed} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            break
fi
done
    local i=0
    while :
do
        if [ $(echo ${max_objs} '<=' ${i} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            break
fi
        if [ $(echo  '!' "${referenced_objects[${i}]}" | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            object_clear__117_v0 ${i};
            __AF_object_clear117_v0__770=$__AF_object_clear117_v0;
            echo $__AF_object_clear117_v0__770 > /dev/null 2>&1
fi
        i=$(echo ${i} '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
done
}
function new_env__294_v0 {
    new_nil__123_v0 ;
    __AF_new_nil123_v0__11=$__AF_new_nil123_v0;
    __AF_new_env294_v0=$__AF_new_nil123_v0__11;
    return 0
}
function env_define__295_v0 {
    local env=$1
    local name=$2
    local value=$3
    new_cons__124_v0 ${value} ${env};
    __AF_new_cons124_v0__16=$__AF_new_cons124_v0;
    env=$__AF_new_cons124_v0__16
    new_cons__124_v0 ${name} ${env};
    __AF_new_cons124_v0__17=$__AF_new_cons124_v0;
    env=$__AF_new_cons124_v0__17
    __AF_env_define295_v0=${env};
    return 0
}
function env_lookup__296_v0 {
    local env=$1
    local name=$2
    object_is_symbol__100_v0 ${name};
    __AF_object_is_symbol100_v0__27=$__AF_object_is_symbol100_v0;
    if [ $(echo  '!' $__AF_object_is_symbol100_v0__27 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__28="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${name};
        __AF_object_to_string148_v0__28="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__28}" "invalid variable name: ${__AF_object_to_string148_v0__28}";
        __AF_new_err40_v0__28=("${__AF_new_err40_v0[@]}");
        __AF_env_lookup296_v0=("${__AF_new_err40_v0__28[@]}");
        return 0
fi
    while :
do
        object_is_nil__102_v0 ${env};
        __AF_object_is_nil102_v0__31=$__AF_object_is_nil102_v0;
        if [ $__AF_object_is_nil102_v0__31 != 0 ]; then
            code_undefined_variable__29_v0 ;
            __AF_code_undefined_variable29_v0__32="${__AF_code_undefined_variable29_v0}";
            text_value__105_v0 ${name};
            __AF_text_value105_v0__32="${__AF_text_value105_v0}";
            new_err__40_v0 "${__AF_code_undefined_variable29_v0__32}" "undefined: ""${__AF_text_value105_v0__32}";
            __AF_new_err40_v0__32=("${__AF_new_err40_v0[@]}");
            __AF_env_lookup296_v0=("${__AF_new_err40_v0__32[@]}");
            return 0
fi
        object_is_cons__103_v0 ${env};
        __AF_object_is_cons103_v0__34=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__34 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__35="${__AF_code_invalid_argument30_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__35}" "invalid env";
            __AF_new_err40_v0__35=("${__AF_new_err40_v0[@]}");
            __AF_env_lookup296_v0=("${__AF_new_err40_v0__35[@]}");
            return 0
fi
        cons_car__107_v0 ${env};
        __AF_cons_car107_v0__37=$__AF_cons_car107_v0;
        local entry_name=$__AF_cons_car107_v0__37
        object_is_symbol__100_v0 ${entry_name};
        __AF_object_is_symbol100_v0__38=$__AF_object_is_symbol100_v0;
        if [ $(echo  '!' $__AF_object_is_symbol100_v0__38 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__39="${__AF_code_invalid_argument30_v0}";
            object_to_string__148_v0 ${entry_name};
            __AF_object_to_string148_v0__39="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__39}" "invalid variable name: ${__AF_object_to_string148_v0__39}";
            __AF_new_err40_v0__39=("${__AF_new_err40_v0[@]}");
            __AF_env_lookup296_v0=("${__AF_new_err40_v0__39[@]}");
            return 0
fi
        cons_cdr__108_v0 ${env};
        __AF_cons_cdr108_v0__41=$__AF_cons_cdr108_v0;
        object_is_cons__103_v0 $__AF_cons_cdr108_v0__41;
        __AF_object_is_cons103_v0__41=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__41 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__42="${__AF_code_invalid_argument30_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__42}" "invalid env";
            __AF_new_err40_v0__42=("${__AF_new_err40_v0[@]}");
            __AF_env_lookup296_v0=("${__AF_new_err40_v0__42[@]}");
            return 0
fi
        cons_cdr__108_v0 ${env};
        __AF_cons_cdr108_v0__44=$__AF_cons_cdr108_v0;
        cons_car__107_v0 $__AF_cons_cdr108_v0__44;
        __AF_cons_car107_v0__44=$__AF_cons_car107_v0;
        local entry_value=$__AF_cons_car107_v0__44
        cons_cdr__108_v0 ${env};
        __AF_cons_cdr108_v0__45=$__AF_cons_cdr108_v0;
        cons_cdr__108_v0 $__AF_cons_cdr108_v0__45;
        __AF_cons_cdr108_v0__45=$__AF_cons_cdr108_v0;
        env=$__AF_cons_cdr108_v0__45
        object_eqv__145_v0 ${name} ${entry_name};
        __AF_object_eqv145_v0__46=$__AF_object_eqv145_v0;
        if [ $__AF_object_eqv145_v0__46 != 0 ]; then
            new_ok__39_v0 ${entry_value};
            __AF_new_ok39_v0__47=("${__AF_new_ok39_v0[@]}");
            __AF_env_lookup296_v0=("${__AF_new_ok39_v0__47[@]}");
            return 0
fi
done
}
function env_set__297_v0 {
    local env=$1
    local name=$2
    local value=$3
    object_is_symbol__100_v0 ${name};
    __AF_object_is_symbol100_v0__58=$__AF_object_is_symbol100_v0;
    if [ $(echo  '!' $__AF_object_is_symbol100_v0__58 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__59="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${name};
        __AF_object_to_string148_v0__59="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__59}" "invalid variable name: ${__AF_object_to_string148_v0__59}";
        __AF_new_err40_v0__59=("${__AF_new_err40_v0[@]}");
        __AF_env_set297_v0=("${__AF_new_err40_v0__59[@]}");
        return 0
fi
    while :
do
        object_is_nil__102_v0 ${env};
        __AF_object_is_nil102_v0__62=$__AF_object_is_nil102_v0;
        if [ $__AF_object_is_nil102_v0__62 != 0 ]; then
            code_undefined_variable__29_v0 ;
            __AF_code_undefined_variable29_v0__63="${__AF_code_undefined_variable29_v0}";
            text_value__105_v0 ${name};
            __AF_text_value105_v0__63="${__AF_text_value105_v0}";
            new_err__40_v0 "${__AF_code_undefined_variable29_v0__63}" "undefined: ""${__AF_text_value105_v0__63}";
            __AF_new_err40_v0__63=("${__AF_new_err40_v0[@]}");
            __AF_env_set297_v0=("${__AF_new_err40_v0__63[@]}");
            return 0
fi
        object_is_cons__103_v0 ${env};
        __AF_object_is_cons103_v0__65=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__65 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__66="${__AF_code_invalid_argument30_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__66}" "invalid env";
            __AF_new_err40_v0__66=("${__AF_new_err40_v0[@]}");
            __AF_env_set297_v0=("${__AF_new_err40_v0__66[@]}");
            return 0
fi
        cons_car__107_v0 ${env};
        __AF_cons_car107_v0__68=$__AF_cons_car107_v0;
        local entry_name=$__AF_cons_car107_v0__68
        object_is_symbol__100_v0 ${entry_name};
        __AF_object_is_symbol100_v0__69=$__AF_object_is_symbol100_v0;
        if [ $(echo  '!' $__AF_object_is_symbol100_v0__69 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__70="${__AF_code_invalid_argument30_v0}";
            object_to_string__148_v0 ${entry_name};
            __AF_object_to_string148_v0__70="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__70}" "invalid variable name: ${__AF_object_to_string148_v0__70}";
            __AF_new_err40_v0__70=("${__AF_new_err40_v0[@]}");
            __AF_env_set297_v0=("${__AF_new_err40_v0__70[@]}");
            return 0
fi
        cons_cdr__108_v0 ${env};
        __AF_cons_cdr108_v0__72=$__AF_cons_cdr108_v0;
        object_is_cons__103_v0 $__AF_cons_cdr108_v0__72;
        __AF_object_is_cons103_v0__72=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__72 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__73="${__AF_code_invalid_argument30_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__73}" "invalid env";
            __AF_new_err40_v0__73=("${__AF_new_err40_v0[@]}");
            __AF_env_set297_v0=("${__AF_new_err40_v0__73[@]}");
            return 0
fi
        cons_cdr__108_v0 ${env};
        __AF_cons_cdr108_v0__75=$__AF_cons_cdr108_v0;
        local entry_value_and_rest=$__AF_cons_cdr108_v0__75
        object_eqv__145_v0 ${name} ${entry_name};
        __AF_object_eqv145_v0__76=$__AF_object_eqv145_v0;
        if [ $__AF_object_eqv145_v0__76 != 0 ]; then
            cons_set_car__115_v0 ${entry_value_and_rest} ${value};
            __AF_cons_set_car115_v0__77=$__AF_cons_set_car115_v0;
            echo $__AF_cons_set_car115_v0__77 > /dev/null 2>&1
            new_ok__39_v0 0;
            __AF_new_ok39_v0__78=("${__AF_new_ok39_v0[@]}");
            __AF_env_set297_v0=("${__AF_new_ok39_v0__78[@]}");
            return 0
fi
        cons_cdr__108_v0 ${entry_value_and_rest};
        __AF_cons_cdr108_v0__80=$__AF_cons_cdr108_v0;
        env=$__AF_cons_cdr108_v0__80
done
}
__AMBER_ARRAY_17=();
__4__buf=("${__AMBER_ARRAY_17[@]}")
__5__buf_len=0
__6__next=0
__7__line=0
__8__column=0
function init_parser__390_v0 {
    local text=$1
    chars__20_v0 "${text}";
    __AF_chars20_v0__18=("${__AF_chars20_v0[@]}");
    __4__buf=("${__AF_chars20_v0__18[@]}")
    len__18_v1 __4__buf[@];
    __AF_len18_v1__19=$__AF_len18_v1;
    __5__buf_len=$__AF_len18_v1__19
    __6__next=0
    __7__line=0
    __8__column=0
}
function new_parse_error__391_v0 {
    local reason=$1
    code_parse_error__28_v0 ;
    __AF_code_parse_error28_v0__26="${__AF_code_parse_error28_v0}";
    new_err__40_v0 "${__AF_code_parse_error28_v0__26}" "${reason}";
    __AF_new_err40_v0__26=("${__AF_new_err40_v0[@]}");
    local err=("${__AF_new_err40_v0__26[@]}")
    err_add_trace__46_v0 err[@] "line ${__7__line}, column ${__8__column}";
    __AF_err_add_trace46_v0__27=("${__AF_err_add_trace46_v0[@]}");
    __AF_new_parse_error391_v0=("${__AF_err_add_trace46_v0__27[@]}");
    return 0
}
function peek__392_v0 {
    local n=$1
    if [ $(echo ${__5__buf_len} '<=' $(echo ${__6__next} '+' ${n} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        __AF_peek392_v0="";
        return 0
fi
    __AF_peek392_v0="${__4__buf[$(echo ${__6__next} '+' ${n} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')]}";
    return 0
}
function consume_next__393_v0 {
    local next_char="${__4__buf[${__6__next}]}"
    __6__next=$(echo ${__6__next} '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
    __8__column=$(echo ${__8__column} '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
    if [ $([ "_${next_char}" != "_
" ]; echo $?) != 0 ]; then
        __7__line=$(echo ${__7__line} '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
        __8__column=0
fi
    __AF_consume_next393_v0="${next_char}";
    return 0
}
function is_eof__394_v0 {
    __AF_is_eof394_v0=$(echo ${__5__buf_len} '<=' ${__6__next} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//');
    return 0
}
function is_whitespace__395_v0 {
    peek__392_v0 0;
    __AF_peek392_v0__53="${__AF_peek392_v0}";
    local c="${__AF_peek392_v0__53}"
    __AF_is_whitespace395_v0=$(echo $([ "_${c}" != "_ " ]; echo $?) '||' $(echo $([ "_${c}" != "_	" ]; echo $?) '||' $([ "_${c}" != "_
" ]; echo $?) | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//');
    return 0
}
function is_comment_begin__396_v0 {
    peek__392_v0 0;
    __AF_peek392_v0__58="${__AF_peek392_v0}";
    local c="${__AF_peek392_v0__58}"
    __AF_is_comment_begin396_v0=$([ "_${c}" != "_;" ]; echo $?);
    return 0
}
function consume_comment__397_v0 {
    while :
do
        is_eof__394_v0 ;
        __AF_is_eof394_v0__64=$__AF_is_eof394_v0;
        if [ $__AF_is_eof394_v0__64 != 0 ]; then
            new_ok__39_v0 0;
            __AF_new_ok39_v0__65=("${__AF_new_ok39_v0[@]}");
            __AF_consume_comment397_v0=("${__AF_new_ok39_v0__65[@]}");
            return 0
fi
        consume_next__393_v0 ;
        __AF_consume_next393_v0__67="${__AF_consume_next393_v0}";
        local c="${__AF_consume_next393_v0__67}"
        if [ $([ "_${c}" != "_
" ]; echo $?) != 0 ]; then
            new_ok__39_v0 0;
            __AF_new_ok39_v0__69=("${__AF_new_ok39_v0[@]}");
            __AF_consume_comment397_v0=("${__AF_new_ok39_v0__69[@]}");
            return 0
fi
done
}
chars__20_v0 "0123456789";
__AF_chars20_v0__74=("${__AF_chars20_v0[@]}");
__9_digit_chars=("${__AF_chars20_v0__74[@]}")
function is_number_begin__398_v0 {
    peek__392_v0 0;
    __AF_peek392_v0__77="${__AF_peek392_v0}";
    local c0="${__AF_peek392_v0__77}"
    for digit in "${__9_digit_chars[@]}"
do
        if [ $([ "_${c0}" != "_${digit}" ]; echo $?) != 0 ]; then
            __AF_is_number_begin398_v0=1;
            return 0
fi
done
    if [ $(echo $([ "_${c0}" == "_+" ]; echo $?) '&&' $([ "_${c0}" == "_-" ]; echo $?) | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        __AF_is_number_begin398_v0=0;
        return 0
fi
    peek__392_v0 1;
    __AF_peek392_v0__86="${__AF_peek392_v0}";
    local c1="${__AF_peek392_v0__86}"
    for digit in "${__9_digit_chars[@]}"
do
        if [ $([ "_${c1}" != "_${digit}" ]; echo $?) != 0 ]; then
            __AF_is_number_begin398_v0=1;
            return 0
fi
done
    __AF_is_number_begin398_v0=0;
    return 0
}
function consume_number__399_v0 {
    local sign=1
    local has_explicit_sign=0
    local value=0
    consume_next__393_v0 ;
    __AF_consume_next393_v0__101="${__AF_consume_next393_v0}";
    local c="${__AF_consume_next393_v0__101}"
    while :
do
        if [ $([ "_${c}" != "_+" ]; echo $?) != 0 ]; then
            has_explicit_sign=1
            break
fi
        if [ $([ "_${c}" != "_-" ]; echo $?) != 0 ]; then
            has_explicit_sign=1
            sign=$(echo  '-' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
            break
fi
        local is_digit=0
        for digit in "${__9_digit_chars[@]}"
do
            if [ $([ "_${c}" != "_${digit}" ]; echo $?) != 0 ]; then
                is_digit=1
                break
fi
done
        if [ ${is_digit} != 0 ]; then
            value="${c}"
            break
fi
        new_parse_error__391_v0 "invalid number: ""${c}";
        __AF_new_parse_error391_v0__123=("${__AF_new_parse_error391_v0[@]}");
        __AF_consume_number399_v0=("${__AF_new_parse_error391_v0__123[@]}");
        return 0
done
    local consumed_at_least_one_char=0
    while :
do
        is_eof__394_v0 ;
        __AF_is_eof394_v0__127=$__AF_is_eof394_v0;
        if [ $__AF_is_eof394_v0__127 != 0 ]; then
            break
fi
        peek__392_v0 0;
        __AF_peek392_v0__130="${__AF_peek392_v0}";
        c="${__AF_peek392_v0__130}"
        local is_digit=0
        for digit in "${__9_digit_chars[@]}"
do
            if [ $([ "_${c}" != "_${digit}" ]; echo $?) != 0 ]; then
                is_digit=1
                break
fi
done
        if [ $(echo  '!' ${is_digit} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            break
fi
        consume_next__393_v0 ;
        __AF_consume_next393_v0__141="${__AF_consume_next393_v0}";
        echo "${__AF_consume_next393_v0__141}" > /dev/null 2>&1
        consumed_at_least_one_char=1
        value=$(echo ${value} '*' 10 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
        value=$(echo ${value} '+' "${c}" | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
done
    if [ $(echo ${has_explicit_sign} '&&' $(echo  '!' ${consumed_at_least_one_char} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        new_parse_error__391_v0 "invalid number format";
        __AF_new_parse_error391_v0__147=("${__AF_new_parse_error391_v0[@]}");
        __AF_consume_number399_v0=("${__AF_new_parse_error391_v0__147[@]}");
        return 0
fi
    new_num__119_v0 $(echo ${sign} '*' ${value} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//');
    __AF_new_num119_v0__149=$__AF_new_num119_v0;
    new_ok__39_v0 $__AF_new_num119_v0__149;
    __AF_new_ok39_v0__149=("${__AF_new_ok39_v0[@]}");
    __AF_consume_number399_v0=("${__AF_new_ok39_v0__149[@]}");
    return 0
}
function is_text_begin__400_v0 {
    peek__392_v0 0;
    __AF_peek392_v0__153="${__AF_peek392_v0}";
    local c="${__AF_peek392_v0__153}"
    __AF_is_text_begin400_v0=$([ "_${c}" != "_\"" ]; echo $?);
    return 0
}
function consume_text__401_v0 {
    local text=""
    backslash__73_v0 1;
    __AF_backslash73_v0__159="${__AF_backslash73_v0}";
    local bs="${__AF_backslash73_v0__159}"
    consume_next__393_v0 ;
    __AF_consume_next393_v0__160="${__AF_consume_next393_v0}";
    echo "${__AF_consume_next393_v0__160}" > /dev/null 2>&1
    while :
do
        is_eof__394_v0 ;
        __AF_is_eof394_v0__162=$__AF_is_eof394_v0;
        if [ $__AF_is_eof394_v0__162 != 0 ]; then
            new_parse_error__391_v0 "unexpected EOF while parsing text";
            __AF_new_parse_error391_v0__163=("${__AF_new_parse_error391_v0[@]}");
            __AF_consume_text401_v0=("${__AF_new_parse_error391_v0__163[@]}");
            return 0
fi
        consume_next__393_v0 ;
        __AF_consume_next393_v0__165="${__AF_consume_next393_v0}";
        local c="${__AF_consume_next393_v0__165}"
        if [ $([ "_${c}" != "_\"" ]; echo $?) != 0 ]; then
            break
elif [ $([ "_${c}" != "_${bs}" ]; echo $?) != 0 ]; then
            is_eof__394_v0 ;
            __AF_is_eof394_v0__171=$__AF_is_eof394_v0;
            if [ $__AF_is_eof394_v0__171 != 0 ]; then
                new_parse_error__391_v0 "unexpected EOF while parsing escape sequence";
                __AF_new_parse_error391_v0__172=("${__AF_new_parse_error391_v0[@]}");
                __AF_consume_text401_v0=("${__AF_new_parse_error391_v0__172[@]}");
                return 0
fi
            consume_next__393_v0 ;
            __AF_consume_next393_v0__174="${__AF_consume_next393_v0}";
            c="${__AF_consume_next393_v0__174}"
            if [ $([ "_${c}" != "_\"" ]; echo $?) != 0 ]; then
                text+="\""
elif [ $([ "_${c}" != "_${bs}" ]; echo $?) != 0 ]; then
                text+="${bs}"
elif [ $([ "_${c}" != "_n" ]; echo $?) != 0 ]; then
                text+="
"
else
                new_parse_error__391_v0 "unsupported escape sequence: ""${bs}""${c}";
                __AF_new_parse_error391_v0__186=("${__AF_new_parse_error391_v0[@]}");
                __AF_consume_text401_v0=("${__AF_new_parse_error391_v0__186[@]}");
                return 0
fi
else
            text+="${c}"
fi
done
    new_text__120_v0 "${text}";
    __AF_new_text120_v0__195=$__AF_new_text120_v0;
    new_ok__39_v0 $__AF_new_text120_v0__195;
    __AF_new_ok39_v0__195=("${__AF_new_ok39_v0[@]}");
    __AF_consume_text401_v0=("${__AF_new_ok39_v0__195[@]}");
    return 0
}
chars__20_v0 "abcdefghijklmnopqrstuvwxyz""ABCDEFGHIJKLMNOPQRSTUVWXYZ""~!@$%^&*-_=+:<>/?";
__AF_chars20_v0__198=("${__AF_chars20_v0[@]}");
__10_symlike_head_chars=("${__AF_chars20_v0__198[@]}")
chars__20_v0 "0123456789";
__AF_chars20_v0__204=("${__AF_chars20_v0[@]}");
__AMBER_ARRAY_ADD_18=("${__10_symlike_head_chars[@]}" "${__AF_chars20_v0__204[@]}");
__11_symlike_tail_chars=("${__AMBER_ARRAY_ADD_18[@]}")
function is_symlike_begin__402_v0 {
    peek__392_v0 0;
    __AF_peek392_v0__209="${__AF_peek392_v0}";
    local c="${__AF_peek392_v0__209}"
    for d in "${__10_symlike_head_chars[@]}"
do
        if [ $([ "_${c}" != "_${d}" ]; echo $?) != 0 ]; then
            __AF_is_symlike_begin402_v0=1;
            return 0
fi
done
    __AF_is_symlike_begin402_v0=0;
    return 0
}
function consume_symlike__403_v0 {
    consume_next__393_v0 ;
    __AF_consume_next393_v0__219="${__AF_consume_next393_v0}";
    local name="${__AF_consume_next393_v0__219}"
    while :
do
        is_eof__394_v0 ;
        __AF_is_eof394_v0__221=$__AF_is_eof394_v0;
        if [ $__AF_is_eof394_v0__221 != 0 ]; then
            break
fi
        peek__392_v0 0;
        __AF_peek392_v0__224="${__AF_peek392_v0}";
        local c="${__AF_peek392_v0__224}"
        local is_tail_char=0
        for d in "${__11_symlike_tail_chars[@]}"
do
            if [ $([ "_${c}" != "_${d}" ]; echo $?) != 0 ]; then
                is_tail_char=1
                break
fi
done
        if [ $(echo  '!' ${is_tail_char} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            break
fi
        consume_next__393_v0 ;
        __AF_consume_next393_v0__235="${__AF_consume_next393_v0}";
        echo "${__AF_consume_next393_v0__235}" > /dev/null 2>&1
        name+="${c}"
done
    if [ $([ "_${name}" != "_t" ]; echo $?) != 0 ]; then
        new_t__122_v0 ;
        __AF_new_t122_v0__240=$__AF_new_t122_v0;
        new_ok__39_v0 $__AF_new_t122_v0__240;
        __AF_new_ok39_v0__240=("${__AF_new_ok39_v0[@]}");
        __AF_consume_symlike403_v0=("${__AF_new_ok39_v0__240[@]}");
        return 0
elif [ $([ "_${name}" != "_nil" ]; echo $?) != 0 ]; then
        new_nil__123_v0 ;
        __AF_new_nil123_v0__243=$__AF_new_nil123_v0;
        new_ok__39_v0 $__AF_new_nil123_v0__243;
        __AF_new_ok39_v0__243=("${__AF_new_ok39_v0[@]}");
        __AF_consume_symlike403_v0=("${__AF_new_ok39_v0__243[@]}");
        return 0
else
        new_symbol__121_v0 "${name}";
        __AF_new_symbol121_v0__246=$__AF_new_symbol121_v0;
        new_ok__39_v0 $__AF_new_symbol121_v0__246;
        __AF_new_ok39_v0__246=("${__AF_new_ok39_v0[@]}");
        __AF_consume_symlike403_v0=("${__AF_new_ok39_v0__246[@]}");
        return 0
fi
}
function is_list_begin__404_v0 {
    peek__392_v0 0;
    __AF_peek392_v0__252="${__AF_peek392_v0}";
    local c="${__AF_peek392_v0__252}"
    __AF_is_list_begin404_v0=$([ "_${c}" != "_(" ]; echo $?);
    return 0
}
function is_list_end__405_v0 {
    peek__392_v0 0;
    __AF_peek392_v0__257="${__AF_peek392_v0}";
    local c="${__AF_peek392_v0__257}"
    __AF_is_list_end405_v0=$([ "_${c}" != "_)" ]; echo $?);
    return 0
}
function is_quote__406_v0 {
    peek__392_v0 0;
    __AF_peek392_v0__262="${__AF_peek392_v0}";
    local c="${__AF_peek392_v0__262}"
    __AF_is_quote406_v0=$([ "_${c}" != "_'" ]; echo $?);
    return 0
}
function is_dot__407_v0 {
    peek__392_v0 0;
    __AF_peek392_v0__267="${__AF_peek392_v0}";
    local c="${__AF_peek392_v0__267}"
    __AF_is_dot407_v0=$([ "_${c}" != "_." ]; echo $?);
    return 0
}
function parse_sexp__408_v0 {
    callstack_current_sp__78_v0 ;
    __AF_callstack_current_sp78_v0__272=$__AF_callstack_current_sp78_v0;
    local stack_base=$__AF_callstack_current_sp78_v0__272
    new_ok__39_v0 0;
    __AF_new_ok39_v0__273=("${__AF_new_ok39_v0[@]}");
    local last_error=("${__AF_new_ok39_v0__273[@]}")
    local eof_before_next_object=0
    local list_start=$(echo  '-' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
    local quote_next_object=$(echo  '-' 2 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
    local dot=$(echo  '-' 3 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
    while :
do
        callstack_current_sp__78_v0 ;
        __AF_callstack_current_sp78_v0__295=$__AF_callstack_current_sp78_v0;
        if [ $(echo $__AF_callstack_current_sp78_v0__295 '>=' $(echo ${stack_base} '+' 2 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            callstack_pop__77_v0 ;
            __AF_callstack_pop77_v0__296=$__AF_callstack_pop77_v0;
            local top1=$__AF_callstack_pop77_v0__296
            callstack_pop__77_v0 ;
            __AF_callstack_pop77_v0__297=$__AF_callstack_pop77_v0;
            local top2=$__AF_callstack_pop77_v0__297
            if [ $(echo $(echo ${top1} '>=' 0 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') '&&' $(echo ${top2} '==' ${quote_next_object} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
                new_nil__123_v0 ;
                __AF_new_nil123_v0__299=$__AF_new_nil123_v0;
                local new_top=$__AF_new_nil123_v0__299
                new_cons__124_v0 ${top1} ${new_top};
                __AF_new_cons124_v0__300=$__AF_new_cons124_v0;
                new_top=$__AF_new_cons124_v0__300
                new_symbol__121_v0 "quote";
                __AF_new_symbol121_v0__301=$__AF_new_symbol121_v0;
                new_cons__124_v0 $__AF_new_symbol121_v0__301 ${new_top};
                __AF_new_cons124_v0__301=$__AF_new_cons124_v0;
                new_top=$__AF_new_cons124_v0__301
                callstack_push__76_v0 ${new_top};
                __AF_callstack_push76_v0__302=$__AF_callstack_push76_v0;
                echo $__AF_callstack_push76_v0__302 > /dev/null 2>&1
else
                callstack_push__76_v0 ${top2};
                __AF_callstack_push76_v0__304=$__AF_callstack_push76_v0;
                echo $__AF_callstack_push76_v0__304 > /dev/null 2>&1
                callstack_push__76_v0 ${top1};
                __AF_callstack_push76_v0__305=$__AF_callstack_push76_v0;
                echo $__AF_callstack_push76_v0__305 > /dev/null 2>&1
fi
fi
        callstack_current_sp__78_v0 ;
        __AF_callstack_current_sp78_v0__308=$__AF_callstack_current_sp78_v0;
        if [ $(echo $__AF_callstack_current_sp78_v0__308 '==' $(echo ${stack_base} '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            callstack_pop__77_v0 ;
            __AF_callstack_pop77_v0__309=$__AF_callstack_pop77_v0;
            local top=$__AF_callstack_pop77_v0__309
            callstack_push__76_v0 ${top};
            __AF_callstack_push76_v0__310=$__AF_callstack_push76_v0;
            echo $__AF_callstack_push76_v0__310 > /dev/null 2>&1
            if [ $(echo ${top} '>=' 0 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
                break
fi
fi
        is_eof__394_v0 ;
        __AF_is_eof394_v0__318=$__AF_is_eof394_v0;
        if [ $__AF_is_eof394_v0__318 != 0 ]; then
            eof_before_next_object=1
            break
fi
        is_whitespace__395_v0 ;
        __AF_is_whitespace395_v0__325=$__AF_is_whitespace395_v0;
        if [ $__AF_is_whitespace395_v0__325 != 0 ]; then
            consume_next__393_v0 ;
            __AF_consume_next393_v0__326="${__AF_consume_next393_v0}";
            echo "${__AF_consume_next393_v0__326}" > /dev/null 2>&1
            continue
fi
        is_comment_begin__396_v0 ;
        __AF_is_comment_begin396_v0__329=$__AF_is_comment_begin396_v0;
        if [ $__AF_is_comment_begin396_v0__329 != 0 ]; then
            consume_comment__397_v0 ;
            __AF_consume_comment397_v0__330=("${__AF_consume_comment397_v0[@]}");
            local result=("${__AF_consume_comment397_v0__330[@]}")
            result_is_err__42_v0 result[@];
            __AF_result_is_err42_v0__331=$__AF_result_is_err42_v0;
            if [ $__AF_result_is_err42_v0__331 != 0 ]; then
                last_error=("${result[@]}")
                break
fi
            continue
fi
        is_number_begin__398_v0 ;
        __AF_is_number_begin398_v0__337=$__AF_is_number_begin398_v0;
        if [ $__AF_is_number_begin398_v0__337 != 0 ]; then
            consume_number__399_v0 ;
            __AF_consume_number399_v0__338=("${__AF_consume_number399_v0[@]}");
            local result=("${__AF_consume_number399_v0__338[@]}")
            result_is_err__42_v0 result[@];
            __AF_result_is_err42_v0__339=$__AF_result_is_err42_v0;
            if [ $__AF_result_is_err42_v0__339 != 0 ]; then
                last_error=("${result[@]}")
                break
fi
            ok_val__43_v0 result[@];
            __AF_ok_val43_v0__343=$__AF_ok_val43_v0;
            callstack_push__76_v0 $__AF_ok_val43_v0__343;
            __AF_callstack_push76_v0__343=$__AF_callstack_push76_v0;
            echo $__AF_callstack_push76_v0__343 > /dev/null 2>&1
            continue
fi
        is_text_begin__400_v0 ;
        __AF_is_text_begin400_v0__346=$__AF_is_text_begin400_v0;
        if [ $__AF_is_text_begin400_v0__346 != 0 ]; then
            consume_text__401_v0 ;
            __AF_consume_text401_v0__347=("${__AF_consume_text401_v0[@]}");
            local result=("${__AF_consume_text401_v0__347[@]}")
            result_is_err__42_v0 result[@];
            __AF_result_is_err42_v0__348=$__AF_result_is_err42_v0;
            if [ $__AF_result_is_err42_v0__348 != 0 ]; then
                last_error=("${result[@]}")
                break
fi
            ok_val__43_v0 result[@];
            __AF_ok_val43_v0__352=$__AF_ok_val43_v0;
            callstack_push__76_v0 $__AF_ok_val43_v0__352;
            __AF_callstack_push76_v0__352=$__AF_callstack_push76_v0;
            echo $__AF_callstack_push76_v0__352 > /dev/null 2>&1
            continue
fi
        is_symlike_begin__402_v0 ;
        __AF_is_symlike_begin402_v0__355=$__AF_is_symlike_begin402_v0;
        if [ $__AF_is_symlike_begin402_v0__355 != 0 ]; then
            consume_symlike__403_v0 ;
            __AF_consume_symlike403_v0__356=("${__AF_consume_symlike403_v0[@]}");
            local result=("${__AF_consume_symlike403_v0__356[@]}")
            result_is_err__42_v0 result[@];
            __AF_result_is_err42_v0__357=$__AF_result_is_err42_v0;
            if [ $__AF_result_is_err42_v0__357 != 0 ]; then
                last_error=("${result[@]}")
                break
fi
            ok_val__43_v0 result[@];
            __AF_ok_val43_v0__361=$__AF_ok_val43_v0;
            callstack_push__76_v0 $__AF_ok_val43_v0__361;
            __AF_callstack_push76_v0__361=$__AF_callstack_push76_v0;
            echo $__AF_callstack_push76_v0__361 > /dev/null 2>&1
            continue
fi
        is_list_begin__404_v0 ;
        __AF_is_list_begin404_v0__364=$__AF_is_list_begin404_v0;
        if [ $__AF_is_list_begin404_v0__364 != 0 ]; then
            consume_next__393_v0 ;
            __AF_consume_next393_v0__365="${__AF_consume_next393_v0}";
            echo "${__AF_consume_next393_v0__365}" > /dev/null 2>&1
            callstack_push__76_v0 ${list_start};
            __AF_callstack_push76_v0__366=$__AF_callstack_push76_v0;
            echo $__AF_callstack_push76_v0__366 > /dev/null 2>&1
            continue
fi
        is_dot__407_v0 ;
        __AF_is_dot407_v0__369=$__AF_is_dot407_v0;
        if [ $__AF_is_dot407_v0__369 != 0 ]; then
            consume_next__393_v0 ;
            __AF_consume_next393_v0__370="${__AF_consume_next393_v0}";
            echo "${__AF_consume_next393_v0__370}" > /dev/null 2>&1
            callstack_push__76_v0 ${dot};
            __AF_callstack_push76_v0__371=$__AF_callstack_push76_v0;
            echo $__AF_callstack_push76_v0__371 > /dev/null 2>&1
            continue
fi
        is_list_end__405_v0 ;
        __AF_is_list_end405_v0__374=$__AF_is_list_end405_v0;
        if [ $__AF_is_list_end405_v0__374 != 0 ]; then
            consume_next__393_v0 ;
            __AF_consume_next393_v0__375="${__AF_consume_next393_v0}";
            echo "${__AF_consume_next393_v0__375}" > /dev/null 2>&1
            new_nil__123_v0 ;
            __AF_new_nil123_v0__376=$__AF_new_nil123_v0;
            local list=$__AF_new_nil123_v0__376
            local last_popped=$(echo  '-' 4 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
            local has_dot=0
            local invalid=0
            local i=0
            while :
do
                callstack_pop__77_v0 ;
                __AF_callstack_pop77_v0__382=$__AF_callstack_pop77_v0;
                local top=$__AF_callstack_pop77_v0__382
                if [ $(echo ${top} '==' ${list_start} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
                    break
fi
                if [ $(echo ${top} '==' ${dot} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
                    has_dot=1
                    if [ $(echo ${i} '!=' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
                        code_parse_error__28_v0 ;
                        __AF_code_parse_error28_v0__389="${__AF_code_parse_error28_v0}";
                        new_err__40_v0 "${__AF_code_parse_error28_v0__389}" "malformed cons-cell";
                        __AF_new_err40_v0__389=("${__AF_new_err40_v0[@]}");
                        last_error=("${__AF_new_err40_v0__389[@]}")
                        invalid=1
                        break
fi
                    list=${last_popped}
                    i=$(echo ${i} '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
                    continue
fi
                if [ $(echo ${top} '<' 0 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
                    code_parse_error__28_v0 ;
                    __AF_code_parse_error28_v0__398="${__AF_code_parse_error28_v0}";
                    new_err__40_v0 "${__AF_code_parse_error28_v0__398}" "malformed cons-cell";
                    __AF_new_err40_v0__398=("${__AF_new_err40_v0[@]}");
                    last_error=("${__AF_new_err40_v0__398[@]}")
                    invalid=1
                    break
fi
                last_popped=${top}
                new_cons__124_v0 ${top} ${list};
                __AF_new_cons124_v0__403=$__AF_new_cons124_v0;
                list=$__AF_new_cons124_v0__403
                i=$(echo ${i} '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
done
            if [ ${invalid} != 0 ]; then
                break
fi
            if [ $(echo ${has_dot} '&&' $(echo ${i} '<' 3 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
                code_parse_error__28_v0 ;
                __AF_code_parse_error28_v0__410="${__AF_code_parse_error28_v0}";
                new_err__40_v0 "${__AF_code_parse_error28_v0__410}" "malformed cons-cell";
                __AF_new_err40_v0__410=("${__AF_new_err40_v0[@]}");
                last_error=("${__AF_new_err40_v0__410[@]}")
                break
fi
            callstack_push__76_v0 ${list};
            __AF_callstack_push76_v0__413=$__AF_callstack_push76_v0;
            echo $__AF_callstack_push76_v0__413 > /dev/null 2>&1
            continue
fi
        is_quote__406_v0 ;
        __AF_is_quote406_v0__416=$__AF_is_quote406_v0;
        if [ $__AF_is_quote406_v0__416 != 0 ]; then
            consume_next__393_v0 ;
            __AF_consume_next393_v0__417="${__AF_consume_next393_v0}";
            echo "${__AF_consume_next393_v0__417}" > /dev/null 2>&1
            callstack_push__76_v0 ${quote_next_object};
            __AF_callstack_push76_v0__418=$__AF_callstack_push76_v0;
            echo $__AF_callstack_push76_v0__418 > /dev/null 2>&1
            continue
fi
        peek__392_v0 0;
        __AF_peek392_v0__421="${__AF_peek392_v0}";
        new_parse_error__391_v0 "unexpected character: ""${__AF_peek392_v0__421}";
        __AF_new_parse_error391_v0__421=("${__AF_new_parse_error391_v0[@]}");
        last_error=("${__AF_new_parse_error391_v0__421[@]}")
        break
done
    callstack_current_sp__78_v0 ;
    __AF_callstack_current_sp78_v0__424=$__AF_callstack_current_sp78_v0;
    if [ $(echo $(echo $__AF_callstack_current_sp78_v0__424 '==' ${stack_base} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') '&&' ${eof_before_next_object} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_stop_iteration__33_v0 ;
        __AF_code_stop_iteration33_v0__426="${__AF_code_stop_iteration33_v0}";
        new_err__40_v0 "${__AF_code_stop_iteration33_v0__426}" "EOF";
        __AF_new_err40_v0__426=("${__AF_new_err40_v0[@]}");
        __AF_parse_sexp408_v0=("${__AF_new_err40_v0__426[@]}");
        return 0
fi
    result_is_err__42_v0 last_error[@];
    __AF_result_is_err42_v0__428=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__428 != 0 ]; then
        callstack_rewind__79_v0 ${stack_base};
        __AF_callstack_rewind79_v0__429=$__AF_callstack_rewind79_v0;
        echo $__AF_callstack_rewind79_v0__429 > /dev/null 2>&1
        __AF_parse_sexp408_v0=("${last_error[@]}");
        return 0
fi
    callstack_current_sp__78_v0 ;
    __AF_callstack_current_sp78_v0__432=$__AF_callstack_current_sp78_v0;
    if [ $(echo $__AF_callstack_current_sp78_v0__432 '!=' $(echo ${stack_base} '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        callstack_rewind__79_v0 ${stack_base};
        __AF_callstack_rewind79_v0__433=$__AF_callstack_rewind79_v0;
        echo $__AF_callstack_rewind79_v0__433 > /dev/null 2>&1
        new_parse_error__391_v0 "unexpected EOF";
        __AF_new_parse_error391_v0__434=("${__AF_new_parse_error391_v0[@]}");
        __AF_parse_sexp408_v0=("${__AF_new_parse_error391_v0__434[@]}");
        return 0
fi
    callstack_pop__77_v0 ;
    __AF_callstack_pop77_v0__436=$__AF_callstack_pop77_v0;
    local last_value=$__AF_callstack_pop77_v0__436
    if [ $(echo ${last_value} '<' 0 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        new_parse_error__391_v0 "parenthesis not closed";
        __AF_new_parse_error391_v0__438=("${__AF_new_parse_error391_v0[@]}");
        __AF_parse_sexp408_v0=("${__AF_new_parse_error391_v0__438[@]}");
        return 0
fi
    new_ok__39_v0 ${last_value};
    __AF_new_ok39_v0__440=("${__AF_new_ok39_v0[@]}");
    __AF_parse_sexp408_v0=("${__AF_new_ok39_v0__440[@]}");
    return 0
}
function default_retval__577_v0 {
    code_internal_error__34_v0 ;
    __AF_code_internal_error34_v0__6="${__AF_code_internal_error34_v0}";
    new_err__40_v0 "${__AF_code_internal_error34_v0__6}" "return value not given";
    __AF_new_err40_v0__6=("${__AF_new_err40_v0[@]}");
    __AF_default_retval577_v0=("${__AF_new_err40_v0__6[@]}");
    return 0
}
__12__last_funcref=""
__13__should_track_next_funcall=0
__14__funcall_args=$(echo  '-' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
default_retval__577_v0 ;
__AF_default_retval577_v0__12=("${__AF_default_retval577_v0[@]}");
__15__funcall_retval=("${__AF_default_retval577_v0__12[@]}")
function native_track_next_funcall__578_v0 {
    __13__should_track_next_funcall=1
}
function native_get_last_funcref__579_v0 {
    __AF_native_get_last_funcref579_v0="${__12__last_funcref}";
    return 0
}
function native_get_args__580_v0 {
    if [ ${__13__should_track_next_funcall} != 0 ]; then
        __13__should_track_next_funcall=0
        __AMBER_VAL_6=$(echo "${FUNCNAME[1]}");
        __AS=$?;
        __12__last_funcref="${__AMBER_VAL_6}"
        new_err__40_v0 "native_function_tracked" "the function call is tracked";
        __AF_new_err40_v0__83=("${__AF_new_err40_v0[@]}");
        __AF_native_get_args580_v0=("${__AF_new_err40_v0__83[@]}");
        return 0
fi
    if [ $(echo ${__14__funcall_args} '<' 0 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        new_err__40_v0 "improper_native_function_call" "native function should be called via native_call()";
        __AF_new_err40_v0__86=("${__AF_new_err40_v0[@]}");
        __AF_native_get_args580_v0=("${__AF_new_err40_v0__86[@]}");
        return 0
fi
    local args=${__14__funcall_args}
    __14__funcall_args=$(echo  '-' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
    default_retval__577_v0 ;
    __AF_default_retval577_v0__90=("${__AF_default_retval577_v0[@]}");
    __15__funcall_retval=("${__AF_default_retval577_v0__90[@]}")
    new_ok__39_v0 ${args};
    __AF_new_ok39_v0__91=("${__AF_new_ok39_v0[@]}");
    __AF_native_get_args580_v0=("${__AF_new_ok39_v0__91[@]}");
    return 0
}
function native_return__581_v0 {
    local result=("${!1}")
    __15__funcall_retval=("${result[@]}")
}
function native_call__582_v0 {
    local funcref=$1
    local args=$2
    if [ $([ "_${funcref}" != "_" ]; echo $?) != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__101="${__AF_code_invalid_argument30_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__101}" "null funcref";
        __AF_new_err40_v0__101=("${__AF_new_err40_v0[@]}");
        __AF_native_call582_v0=("${__AF_new_err40_v0__101[@]}");
        return 0
fi
    __14__funcall_args=${args}
    default_retval__577_v0 ;
    __AF_default_retval577_v0__104=("${__AF_default_retval577_v0[@]}");
    err_add_trace__46_v0 __AF_default_retval577_v0__104[@] "native function <""${funcref}"">";
    __AF_err_add_trace46_v0__104=("${__AF_err_add_trace46_v0[@]}");
    __15__funcall_retval=("${__AF_err_add_trace46_v0__104[@]}")
            ${funcref}
__AS=$?
    local result=("${__15__funcall_retval[@]}")
    __14__funcall_args=$(echo  '-' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
    default_retval__577_v0 ;
    __AF_default_retval577_v0__108=("${__AF_default_retval577_v0[@]}");
    __15__funcall_retval=("${__AF_default_retval577_v0__108[@]}")
    __AF_native_call582_v0=("${result[@]}");
    return 0
}
__16__funcref_eval_expr=""
function eval_expr__592_v0 {
    local expr=$1
    local env=$2
    local context=$3
    new_nil__123_v0 ;
    __AF_new_nil123_v0__13=$__AF_new_nil123_v0;
    local args=$__AF_new_nil123_v0__13
    new_text__120_v0 "${context}";
    __AF_new_text120_v0__14=$__AF_new_text120_v0;
    new_cons__124_v0 $__AF_new_text120_v0__14 ${args};
    __AF_new_cons124_v0__14=$__AF_new_cons124_v0;
    args=$__AF_new_cons124_v0__14
    new_cons__124_v0 ${env} ${args};
    __AF_new_cons124_v0__15=$__AF_new_cons124_v0;
    args=$__AF_new_cons124_v0__15
    new_cons__124_v0 ${expr} ${args};
    __AF_new_cons124_v0__16=$__AF_new_cons124_v0;
    args=$__AF_new_cons124_v0__16
    native_call__582_v0 "${__16__funcref_eval_expr}" ${args};
    __AF_native_call582_v0__17=("${__AF_native_call582_v0[@]}");
    __AF_eval_expr592_v0=("${__AF_native_call582_v0__17[@]}");
    return 0
}
function eval_sequence__593_v0 {
    local expr_seq=$1
    local env=$2
    local ctx=$3
    new_nil__123_v0 ;
    __AF_new_nil123_v0__22=$__AF_new_nil123_v0;
    local last_val=$__AF_new_nil123_v0__22
    while :
do
        object_is_nil__102_v0 ${expr_seq};
        __AF_object_is_nil102_v0__24=$__AF_object_is_nil102_v0;
        if [ $__AF_object_is_nil102_v0__24 != 0 ]; then
            break
fi
        object_is_cons__103_v0 ${expr_seq};
        __AF_object_is_cons103_v0__27=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__27 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_syntax_error__31_v0 ;
            __AF_code_syntax_error31_v0__28="${__AF_code_syntax_error31_v0}";
            object_to_string__148_v0 ${expr_seq};
            __AF_object_to_string148_v0__28="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_syntax_error31_v0__28}" "invalid sequence of expressions: ""${__AF_object_to_string148_v0__28}";
            __AF_new_err40_v0__28=("${__AF_new_err40_v0[@]}");
            local err=("${__AF_new_err40_v0__28[@]}")
            __AF_eval_sequence593_v0=("${err[@]}");
            return 0
fi
        cons_car__107_v0 ${expr_seq};
        __AF_cons_car107_v0__31=$__AF_cons_car107_v0;
        local expr=$__AF_cons_car107_v0__31
        cons_cdr__108_v0 ${expr_seq};
        __AF_cons_cdr108_v0__32=$__AF_cons_cdr108_v0;
        expr_seq=$__AF_cons_cdr108_v0__32
        eval_expr__592_v0 ${expr} ${env} "${ctx}";
        __AF_eval_expr592_v0__34=("${__AF_eval_expr592_v0[@]}");
        local val_result=("${__AF_eval_expr592_v0__34[@]}")
        result_is_err__42_v0 val_result[@];
        __AF_result_is_err42_v0__35=$__AF_result_is_err42_v0;
        if [ $__AF_result_is_err42_v0__35 != 0 ]; then
            __AF_eval_sequence593_v0=("${val_result[@]}");
            return 0
fi
        ok_val__43_v0 val_result[@];
        __AF_ok_val43_v0__38=$__AF_ok_val43_v0;
        last_val=$__AF_ok_val43_v0__38
done
    new_ok__39_v0 ${last_val};
    __AF_new_ok39_v0__40=("${__AF_new_ok39_v0[@]}");
    __AF_eval_sequence593_v0=("${__AF_new_ok39_v0__40[@]}");
    return 0
}
function eval_decl__594_v0 {
    local expr=$1
    local env=$2
    local context=$3
    object_is_cons__103_v0 ${expr};
    __AF_object_is_cons103_v0__47=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__47 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_syntax_error__31_v0 ;
        __AF_code_syntax_error31_v0__48="${__AF_code_syntax_error31_v0}";
        object_to_string__148_v0 ${expr};
        __AF_object_to_string148_v0__48="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_syntax_error31_v0__48}" "invalid decl: ""${__AF_object_to_string148_v0__48}";
        __AF_new_err40_v0__48=("${__AF_new_err40_v0[@]}");
        __AF_eval_decl594_v0=("${__AF_new_err40_v0__48[@]}");
        return 0
fi
    cons_car__107_v0 ${expr};
    __AF_cons_car107_v0__50=$__AF_cons_car107_v0;
    local decl_expr=$__AF_cons_car107_v0__50
    cons_cdr__108_v0 ${expr};
    __AF_cons_cdr108_v0__51=$__AF_cons_cdr108_v0;
    local args=$__AF_cons_cdr108_v0__51
    object_is_symbol__100_v0 ${decl_expr};
    __AF_object_is_symbol100_v0__52=$__AF_object_is_symbol100_v0;
    if [ $(echo  '!' $__AF_object_is_symbol100_v0__52 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_decl__38_v0 ;
        __AF_code_invalid_decl38_v0__53="${__AF_code_invalid_decl38_v0}";
        object_to_string__148_v0 ${decl_expr};
        __AF_object_to_string148_v0__53="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_decl38_v0__53}" "invalid decl: ""${__AF_object_to_string148_v0__53}";
        __AF_new_err40_v0__53=("${__AF_new_err40_v0[@]}");
        __AF_eval_decl594_v0=("${__AF_new_err40_v0__53[@]}");
        return 0
fi
    env_lookup__296_v0 ${env} ${decl_expr};
    __AF_env_lookup296_v0__55=("${__AF_env_lookup296_v0[@]}");
    local decl_val_result=("${__AF_env_lookup296_v0__55[@]}")
    result_is_err__42_v0 decl_val_result[@];
    __AF_result_is_err42_v0__56=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__56 != 0 ]; then
        __AF_eval_decl594_v0=("${decl_val_result[@]}");
        return 0
fi
    ok_val__43_v0 decl_val_result[@];
    __AF_ok_val43_v0__59=$__AF_ok_val43_v0;
    local decl_val=$__AF_ok_val43_v0__59
    object_is_decl__140_v0 ${decl_val};
    __AF_object_is_decl140_v0__60=$__AF_object_is_decl140_v0;
    if [ $(echo  '!' $__AF_object_is_decl140_v0__60 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_decl__38_v0 ;
        __AF_code_invalid_decl38_v0__61="${__AF_code_invalid_decl38_v0}";
        object_to_string__148_v0 ${decl_expr};
        __AF_object_to_string148_v0__61="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_decl38_v0__61}" "not a decl: ""${__AF_object_to_string148_v0__61}";
        __AF_new_err40_v0__61=("${__AF_new_err40_v0[@]}");
        __AF_eval_decl594_v0=("${__AF_new_err40_v0__61[@]}");
        return 0
fi
    decl_funcref__141_v0 ${decl_val};
    __AF_decl_funcref141_v0__63="${__AF_decl_funcref141_v0}";
    local decl_fref="${__AF_decl_funcref141_v0__63}"
    new_text__120_v0 "${context}";
    __AF_new_text120_v0__64=$__AF_new_text120_v0;
    new_cons__124_v0 $__AF_new_text120_v0__64 ${args};
    __AF_new_cons124_v0__64=$__AF_new_cons124_v0;
    args=$__AF_new_cons124_v0__64
    new_cons__124_v0 ${env} ${args};
    __AF_new_cons124_v0__65=$__AF_new_cons124_v0;
    args=$__AF_new_cons124_v0__65
    native_call__582_v0 "${decl_fref}" ${args};
    __AF_native_call582_v0__66=("${__AF_native_call582_v0[@]}");
    local new_env_result=("${__AF_native_call582_v0__66[@]}")
    __AF_eval_decl594_v0=("${new_env_result[@]}");
    return 0
}
function new_toplevel_expr__595_v0 {
    local val=$1
    __AMBER_ARRAY_19=("expr" ${val});
    __AF_new_toplevel_expr595_v0=("${__AMBER_ARRAY_19[@]}");
    return 0
}
function new_toplevel_decl__598_v0 {
    local val=$1
    __AMBER_ARRAY_20=("decl" ${val});
    __AF_new_toplevel_decl598_v0=("${__AMBER_ARRAY_20[@]}");
    return 0
}
function result_is_toplevel_decl__599_v0 {
    local result=("${!1}")
    __AF_result_is_toplevel_decl599_v0=$([ "_${result[0]}" != "_decl" ]; echo $?);
    return 0
}
function toplevel_decl_env__600_v0 {
    local result=("${!1}")
    __AF_toplevel_decl_env600_v0="${result[1]}";
    return 0
}
function eval_toplevel__601_v0 {
    local expr=$1
    local env=$2
    local context=$3
    eval_decl__594_v0 ${expr} ${env} "${context}";
    __AF_eval_decl594_v0__99=("${__AF_eval_decl594_v0[@]}");
    local decl_result=("${__AF_eval_decl594_v0__99[@]}")
    result_is_ok__41_v0 decl_result[@];
    __AF_result_is_ok41_v0__100=$__AF_result_is_ok41_v0;
    if [ $__AF_result_is_ok41_v0__100 != 0 ]; then
        ok_val__43_v0 decl_result[@];
        __AF_ok_val43_v0__101=$__AF_ok_val43_v0;
        local env=$__AF_ok_val43_v0__101
        new_toplevel_decl__598_v0 ${env};
        __AF_new_toplevel_decl598_v0__102=("${__AF_new_toplevel_decl598_v0[@]}");
        __AF_eval_toplevel601_v0=("${__AF_new_toplevel_decl598_v0__102[@]}");
        return 0
fi
    err_code__44_v0 decl_result[@];
    __AF_err_code44_v0__104="${__AF_err_code44_v0}";
    code_invalid_decl__38_v0 ;
    __AF_code_invalid_decl38_v0__104="${__AF_code_invalid_decl38_v0}";
    if [ $([ "_${__AF_err_code44_v0__104}" == "_${__AF_code_invalid_decl38_v0__104}" ]; echo $?) != 0 ]; then
        __AF_eval_toplevel601_v0=("${decl_result[@]}");
        return 0
fi
    eval_expr__592_v0 ${expr} ${env} "${context}";
    __AF_eval_expr592_v0__107=("${__AF_eval_expr592_v0[@]}");
    local expr_result=("${__AF_eval_expr592_v0__107[@]}")
    result_is_ok__41_v0 expr_result[@];
    __AF_result_is_ok41_v0__108=$__AF_result_is_ok41_v0;
    if [ $__AF_result_is_ok41_v0__108 != 0 ]; then
        ok_val__43_v0 expr_result[@];
        __AF_ok_val43_v0__109=$__AF_ok_val43_v0;
        local val=$__AF_ok_val43_v0__109
        new_toplevel_expr__595_v0 ${val};
        __AF_new_toplevel_expr595_v0__110=("${__AF_new_toplevel_expr595_v0[@]}");
        __AF_eval_toplevel601_v0=("${__AF_new_toplevel_expr595_v0__110[@]}");
        return 0
fi
    __AF_eval_toplevel601_v0=("${expr_result[@]}");
    return 0
}
function expr_is_literal__602_v0 {
    local expr=$1
    object_is_num__98_v0 ${expr};
    __AF_object_is_num98_v0__116=$__AF_object_is_num98_v0;
    if [ $__AF_object_is_num98_v0__116 != 0 ]; then
        __AF_expr_is_literal602_v0=1;
        return 0
fi
    object_is_text__99_v0 ${expr};
    __AF_object_is_text99_v0__119=$__AF_object_is_text99_v0;
    if [ $__AF_object_is_text99_v0__119 != 0 ]; then
        __AF_expr_is_literal602_v0=1;
        return 0
fi
    object_is_t__101_v0 ${expr};
    __AF_object_is_t101_v0__122=$__AF_object_is_t101_v0;
    if [ $__AF_object_is_t101_v0__122 != 0 ]; then
        __AF_expr_is_literal602_v0=1;
        return 0
fi
    object_is_nil__102_v0 ${expr};
    __AF_object_is_nil102_v0__125=$__AF_object_is_nil102_v0;
    if [ $__AF_object_is_nil102_v0__125 != 0 ]; then
        __AF_expr_is_literal602_v0=1;
        return 0
fi
    __AF_expr_is_literal602_v0=0;
    return 0
}
function eval_literal__603_v0 {
    local expr=$1
    new_ok__39_v0 ${expr};
    __AF_new_ok39_v0__132=("${__AF_new_ok39_v0[@]}");
    __AF_eval_literal603_v0=("${__AF_new_ok39_v0__132[@]}");
    return 0
}
function expr_is_var__604_v0 {
    local expr=$1
    object_is_symbol__100_v0 ${expr};
    __AF_object_is_symbol100_v0__136=$__AF_object_is_symbol100_v0;
    __AF_expr_is_var604_v0=$__AF_object_is_symbol100_v0__136;
    return 0
}
function eval_var__605_v0 {
    local expr=$1
    local env=$2
    env_lookup__296_v0 ${env} ${expr};
    __AF_env_lookup296_v0__140=("${__AF_env_lookup296_v0[@]}");
    __AF_eval_var605_v0=("${__AF_env_lookup296_v0__140[@]}");
    return 0
}
function apply_closure__606_v0 {
    local cl=$1
    local args=$2
    closure_name__135_v0 ${cl};
    __AF_closure_name135_v0__144="${__AF_closure_name135_v0}";
    local ctx="${__AF_closure_name135_v0__144}"
    closure_params__136_v0 ${cl};
    __AF_closure_params136_v0__145=$__AF_closure_params136_v0;
    local params=$__AF_closure_params136_v0__145
    closure_body__137_v0 ${cl};
    __AF_closure_body137_v0__146=$__AF_closure_body137_v0;
    local body=$__AF_closure_body137_v0__146
    closure_env__138_v0 ${cl};
    __AF_closure_env138_v0__147=$__AF_closure_env138_v0;
    local env=$__AF_closure_env138_v0__147
    while :
do
        object_is_nil__102_v0 ${params};
        __AF_object_is_nil102_v0__150=$__AF_object_is_nil102_v0;
        if [ $__AF_object_is_nil102_v0__150 != 0 ]; then
            object_is_nil__102_v0 ${args};
            __AF_object_is_nil102_v0__151=$__AF_object_is_nil102_v0;
            if [ $(echo  '!' $__AF_object_is_nil102_v0__151 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
                code_invalid_argument__30_v0 ;
                __AF_code_invalid_argument30_v0__152="${__AF_code_invalid_argument30_v0}";
                new_err__40_v0 "${__AF_code_invalid_argument30_v0__152}" "argument number mismatch";
                __AF_new_err40_v0__152=("${__AF_new_err40_v0[@]}");
                __AF_apply_closure606_v0=("${__AF_new_err40_v0__152[@]}");
                return 0
fi
            break
fi
        object_is_nil__102_v0 ${args};
        __AF_object_is_nil102_v0__156=$__AF_object_is_nil102_v0;
        if [ $__AF_object_is_nil102_v0__156 != 0 ]; then
            object_is_nil__102_v0 ${params};
            __AF_object_is_nil102_v0__157=$__AF_object_is_nil102_v0;
            if [ $(echo  '!' $__AF_object_is_nil102_v0__157 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
                code_invalid_argument__30_v0 ;
                __AF_code_invalid_argument30_v0__158="${__AF_code_invalid_argument30_v0}";
                new_err__40_v0 "${__AF_code_invalid_argument30_v0__158}" "argument number mismatch";
                __AF_new_err40_v0__158=("${__AF_new_err40_v0[@]}");
                __AF_apply_closure606_v0=("${__AF_new_err40_v0__158[@]}");
                return 0
fi
            break
fi
        cons_car__107_v0 ${params};
        __AF_cons_car107_v0__162=$__AF_cons_car107_v0;
        local param=$__AF_cons_car107_v0__162
        cons_cdr__108_v0 ${params};
        __AF_cons_cdr108_v0__163=$__AF_cons_cdr108_v0;
        params=$__AF_cons_cdr108_v0__163
        cons_car__107_v0 ${args};
        __AF_cons_car107_v0__164=$__AF_cons_car107_v0;
        local arg=$__AF_cons_car107_v0__164
        cons_cdr__108_v0 ${args};
        __AF_cons_cdr108_v0__165=$__AF_cons_cdr108_v0;
        args=$__AF_cons_cdr108_v0__165
        object_is_symbol__100_v0 ${param};
        __AF_object_is_symbol100_v0__167=$__AF_object_is_symbol100_v0;
        if [ $(echo  '!' $__AF_object_is_symbol100_v0__167 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_syntax_error__31_v0 ;
            __AF_code_syntax_error31_v0__168="${__AF_code_syntax_error31_v0}";
            object_to_string__148_v0 ${param};
            __AF_object_to_string148_v0__168="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_syntax_error31_v0__168}" "invalid parameter name: ""${__AF_object_to_string148_v0__168}";
            __AF_new_err40_v0__168=("${__AF_new_err40_v0[@]}");
            __AF_apply_closure606_v0=("${__AF_new_err40_v0__168[@]}");
            return 0
fi
        env_define__295_v0 ${env} ${param} ${arg};
        __AF_env_define295_v0__170=$__AF_env_define295_v0;
        env=$__AF_env_define295_v0__170
done
    new_nil__123_v0 ;
    __AF_new_nil123_v0__173=$__AF_new_nil123_v0;
    local last_value=$__AF_new_nil123_v0__173
    while :
do
        object_is_nil__102_v0 ${body};
        __AF_object_is_nil102_v0__175=$__AF_object_is_nil102_v0;
        if [ $__AF_object_is_nil102_v0__175 != 0 ]; then
            break
fi
        object_is_cons__103_v0 ${body};
        __AF_object_is_cons103_v0__178=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__178 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_syntax_error__31_v0 ;
            __AF_code_syntax_error31_v0__179="${__AF_code_syntax_error31_v0}";
            object_to_string__148_v0 ${body};
            __AF_object_to_string148_v0__179="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_syntax_error31_v0__179}" "invalid closure body: ""${__AF_object_to_string148_v0__179}";
            __AF_new_err40_v0__179=("${__AF_new_err40_v0[@]}");
            __AF_apply_closure606_v0=("${__AF_new_err40_v0__179[@]}");
            return 0
fi
        cons_car__107_v0 ${body};
        __AF_cons_car107_v0__181=$__AF_cons_car107_v0;
        local expr=$__AF_cons_car107_v0__181
        cons_cdr__108_v0 ${body};
        __AF_cons_cdr108_v0__182=$__AF_cons_cdr108_v0;
        body=$__AF_cons_cdr108_v0__182
        eval_expr__592_v0 ${expr} ${env} "${ctx}";
        __AF_eval_expr592_v0__183=("${__AF_eval_expr592_v0[@]}");
        local result=("${__AF_eval_expr592_v0__183[@]}")
        result_is_err__42_v0 result[@];
        __AF_result_is_err42_v0__184=$__AF_result_is_err42_v0;
        if [ $__AF_result_is_err42_v0__184 != 0 ]; then
            __AF_apply_closure606_v0=("${result[@]}");
            return 0
fi
        ok_val__43_v0 result[@];
        __AF_ok_val43_v0__187=$__AF_ok_val43_v0;
        last_value=$__AF_ok_val43_v0__187
done
    new_ok__39_v0 ${last_value};
    __AF_new_ok39_v0__189=("${__AF_new_ok39_v0[@]}");
    __AF_apply_closure606_v0=("${__AF_new_ok39_v0__189[@]}");
    return 0
}
function apply_function__607_v0 {
    local f=$1
    local args=$2
    object_is_native_fun__126_v0 ${f};
    __AF_object_is_native_fun126_v0__194=$__AF_object_is_native_fun126_v0;
    if [ $__AF_object_is_native_fun126_v0__194 != 0 ]; then
        native_fun_funcref__127_v0 ${f};
        __AF_native_fun_funcref127_v0__195="${__AF_native_fun_funcref127_v0}";
        local fref="${__AF_native_fun_funcref127_v0__195}"
        native_call__582_v0 "${fref}" ${args};
        __AF_native_call582_v0__196=("${__AF_native_call582_v0[@]}");
        local call_result=("${__AF_native_call582_v0__196[@]}")
        result_is_err__42_v0 call_result[@];
        __AF_result_is_err42_v0__197=$__AF_result_is_err42_v0;
        if [ $__AF_result_is_err42_v0__197 != 0 ]; then
            err_add_trace__46_v0 call_result[@] "native function <""${fref}"">";
            __AF_err_add_trace46_v0__198=("${__AF_err_add_trace46_v0[@]}");
            local err=("${__AF_err_add_trace46_v0__198[@]}")
            __AF_apply_function607_v0=("${err[@]}");
            return 0
fi
        __AF_apply_function607_v0=("${call_result[@]}");
        return 0
fi
    object_is_closure__134_v0 ${f};
    __AF_object_is_closure134_v0__204=$__AF_object_is_closure134_v0;
    if [ $__AF_object_is_closure134_v0__204 != 0 ]; then
        apply_closure__606_v0 ${f} ${args};
        __AF_apply_closure606_v0__205=("${__AF_apply_closure606_v0[@]}");
        local call_result=("${__AF_apply_closure606_v0__205[@]}")
        result_is_err__42_v0 call_result[@];
        __AF_result_is_err42_v0__206=$__AF_result_is_err42_v0;
        if [ $__AF_result_is_err42_v0__206 != 0 ]; then
            closure_name__135_v0 ${f};
            __AF_closure_name135_v0__207="${__AF_closure_name135_v0}";
            err_add_trace__46_v0 call_result[@] "${__AF_closure_name135_v0__207}";
            __AF_err_add_trace46_v0__207=("${__AF_err_add_trace46_v0[@]}");
            local err=("${__AF_err_add_trace46_v0__207[@]}")
            __AF_apply_function607_v0=("${err[@]}");
            return 0
fi
        __AF_apply_function607_v0=("${call_result[@]}");
        return 0
fi
    object_is_decl__140_v0 ${f};
    __AF_object_is_decl140_v0__213=$__AF_object_is_decl140_v0;
    if [ $__AF_object_is_decl140_v0__213 != 0 ]; then
        code_syntax_error__31_v0 ;
        __AF_code_syntax_error31_v0__214="${__AF_code_syntax_error31_v0}";
        object_to_string__148_v0 ${f};
        __AF_object_to_string148_v0__214="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_syntax_error31_v0__214}" "declaration ""${__AF_object_to_string148_v0__214}"" cannot be used here";
        __AF_new_err40_v0__214=("${__AF_new_err40_v0[@]}");
        local err=("${__AF_new_err40_v0__214[@]}")
        __AF_apply_function607_v0=("${err[@]}");
        return 0
fi
    code_value_error__32_v0 ;
    __AF_code_value_error32_v0__218="${__AF_code_value_error32_v0}";
    object_to_string__148_v0 ${f};
    __AF_object_to_string148_v0__218="${__AF_object_to_string148_v0}";
    new_err__40_v0 "${__AF_code_value_error32_v0__218}" "${__AF_object_to_string148_v0__218}"" is not callable";
    __AF_new_err40_v0__218=("${__AF_new_err40_v0[@]}");
    local err=("${__AF_new_err40_v0__218[@]}")
    __AF_apply_function607_v0=("${err[@]}");
    return 0
}
function eval_app__608_v0 {
    local expr=$1
    local env=$2
    local context=$3
    object_is_cons__103_v0 ${expr};
    __AF_object_is_cons103_v0__223=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__223 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_syntax_error__31_v0 ;
        __AF_code_syntax_error31_v0__224="${__AF_code_syntax_error31_v0}";
        object_to_string__148_v0 ${expr};
        __AF_object_to_string148_v0__224="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_syntax_error31_v0__224}" "malformed function application: ""${__AF_object_to_string148_v0__224}";
        __AF_new_err40_v0__224=("${__AF_new_err40_v0[@]}");
        local err=("${__AF_new_err40_v0__224[@]}")
        __AF_eval_app608_v0=("${err[@]}");
        return 0
fi
    cons_car__107_v0 ${expr};
    __AF_cons_car107_v0__227=$__AF_cons_car107_v0;
    local fun_expr=$__AF_cons_car107_v0__227
    cons_cdr__108_v0 ${expr};
    __AF_cons_cdr108_v0__228=$__AF_cons_cdr108_v0;
    local args_exprs=$__AF_cons_cdr108_v0__228
    new_nil__123_v0 ;
    __AF_new_nil123_v0__230=$__AF_new_nil123_v0;
    local eval_fun_args=$__AF_new_nil123_v0__230
    text_value__105_v0 ${context};
    __AF_text_value105_v0__231="${__AF_text_value105_v0}";
    eval_expr__592_v0 ${fun_expr} ${env} "${__AF_text_value105_v0__231}";
    __AF_eval_expr592_v0__231=("${__AF_eval_expr592_v0[@]}");
    local result_fun_val=("${__AF_eval_expr592_v0__231[@]}")
    result_is_err__42_v0 result_fun_val[@];
    __AF_result_is_err42_v0__232=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__232 != 0 ]; then
        __AF_eval_app608_v0=("${result_fun_val[@]}");
        return 0
fi
    ok_val__43_v0 result_fun_val[@];
    __AF_ok_val43_v0__235=$__AF_ok_val43_v0;
    local fun_val=$__AF_ok_val43_v0__235
    object_is_special_form__130_v0 ${fun_val};
    __AF_object_is_special_form130_v0__236=$__AF_object_is_special_form130_v0;
    if [ $__AF_object_is_special_form130_v0__236 != 0 ]; then
        special_form_funcref__131_v0 ${fun_val};
        __AF_special_form_funcref131_v0__237="${__AF_special_form_funcref131_v0}";
        local fref="${__AF_special_form_funcref131_v0__237}"
        new_cons__124_v0 ${context} ${args_exprs};
        __AF_new_cons124_v0__238=$__AF_new_cons124_v0;
        local sf_args=$__AF_new_cons124_v0__238
        new_cons__124_v0 ${env} ${sf_args};
        __AF_new_cons124_v0__239=$__AF_new_cons124_v0;
        sf_args=$__AF_new_cons124_v0__239
        native_call__582_v0 "${fref}" ${sf_args};
        __AF_native_call582_v0__240=("${__AF_native_call582_v0[@]}");
        local call_result=("${__AF_native_call582_v0__240[@]}")
        result_is_err__42_v0 call_result[@];
        __AF_result_is_err42_v0__241=$__AF_result_is_err42_v0;
        if [ $__AF_result_is_err42_v0__241 != 0 ]; then
            err_add_trace__46_v0 call_result[@] "special form <""${fref}"">";
            __AF_err_add_trace46_v0__242=("${__AF_err_add_trace46_v0[@]}");
            local err=("${__AF_err_add_trace46_v0__242[@]}")
            __AF_eval_app608_v0=("${err[@]}");
            return 0
fi
        __AF_eval_app608_v0=("${call_result[@]}");
        return 0
fi
    object_is_decl__140_v0 ${fun_val};
    __AF_object_is_decl140_v0__249=$__AF_object_is_decl140_v0;
    if [ $__AF_object_is_decl140_v0__249 != 0 ]; then
        code_syntax_error__31_v0 ;
        __AF_code_syntax_error31_v0__250="${__AF_code_syntax_error31_v0}";
        object_to_string__148_v0 ${fun_val};
        __AF_object_to_string148_v0__250="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_syntax_error31_v0__250}" "declaration ""${__AF_object_to_string148_v0__250}"" cannot be used here";
        __AF_new_err40_v0__250=("${__AF_new_err40_v0[@]}");
        local err=("${__AF_new_err40_v0__250[@]}")
        __AF_eval_app608_v0=("${err[@]}");
        return 0
fi
    __AMBER_ARRAY_21=();
    local args_val_array=("${__AMBER_ARRAY_21[@]}")
    local iter=${args_exprs}
    while :
do
        object_is_nil__102_v0 ${iter};
        __AF_object_is_nil102_v0__257=$__AF_object_is_nil102_v0;
        if [ $__AF_object_is_nil102_v0__257 != 0 ]; then
            break
fi
        object_is_cons__103_v0 ${iter};
        __AF_object_is_cons103_v0__260=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__260 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_syntax_error__31_v0 ;
            __AF_code_syntax_error31_v0__261="${__AF_code_syntax_error31_v0}";
            object_to_string__148_v0 ${expr};
            __AF_object_to_string148_v0__261="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_syntax_error31_v0__261}" "malformed function application: ""${__AF_object_to_string148_v0__261}";
            __AF_new_err40_v0__261=("${__AF_new_err40_v0[@]}");
            local err=("${__AF_new_err40_v0__261[@]}")
            __AF_eval_app608_v0=("${err[@]}");
            return 0
fi
        cons_car__107_v0 ${iter};
        __AF_cons_car107_v0__264=$__AF_cons_car107_v0;
        local arg_expr=$__AF_cons_car107_v0__264
        cons_cdr__108_v0 ${iter};
        __AF_cons_cdr108_v0__265=$__AF_cons_cdr108_v0;
        iter=$__AF_cons_cdr108_v0__265
        text_value__105_v0 ${context};
        __AF_text_value105_v0__266="${__AF_text_value105_v0}";
        eval_expr__592_v0 ${arg_expr} ${env} "${__AF_text_value105_v0__266}";
        __AF_eval_expr592_v0__266=("${__AF_eval_expr592_v0[@]}");
        local result_arg_val=("${__AF_eval_expr592_v0__266[@]}")
        result_is_err__42_v0 result_arg_val[@];
        __AF_result_is_err42_v0__267=$__AF_result_is_err42_v0;
        if [ $__AF_result_is_err42_v0__267 != 0 ]; then
            __AF_eval_app608_v0=("${result_arg_val[@]}");
            return 0
fi
        ok_val__43_v0 result_arg_val[@];
        __AF_ok_val43_v0__270=$__AF_ok_val43_v0;
        __AMBER_ARRAY_22=($__AF_ok_val43_v0__270);
        __AMBER_ARRAY_ADD_23=("${__AMBER_ARRAY_22[@]}" "${args_val_array[@]}");
        args_val_array=("${__AMBER_ARRAY_ADD_23[@]}")
done
    new_nil__123_v0 ;
    __AF_new_nil123_v0__273=$__AF_new_nil123_v0;
    local args_vals=$__AF_new_nil123_v0__273
    for i in "${args_val_array[@]}"
do
        new_cons__124_v0 ${i} ${args_vals};
        __AF_new_cons124_v0__275=$__AF_new_cons124_v0;
        args_vals=$__AF_new_cons124_v0__275
done
    apply_function__607_v0 ${fun_val} ${args_vals};
    __AF_apply_function607_v0__278=("${__AF_apply_function607_v0[@]}");
    __AF_eval_app608_v0=("${__AF_apply_function607_v0__278[@]}");
    return 0
}
function eval_expr_impl__610_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__286=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__286[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__287=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__287 != 0 ]; then
        __AF_eval_expr_impl610_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__290=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__290
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__291=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__291 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__292="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__292="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__292}" "invalid argument: ""${__AF_object_to_string148_v0__292}";
        __AF_new_err40_v0__292=("${__AF_new_err40_v0[@]}");
        local err=("${__AF_new_err40_v0__292[@]}")
        err_add_trace__46_v0 err[@] "eval";
        __AF_err_add_trace46_v0__293=("${__AF_err_add_trace46_v0[@]}");
        err=("${__AF_err_add_trace46_v0__293[@]}")
        native_return__581_v0 err[@];
        __AF_native_return581_v0__294=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__294 > /dev/null 2>&1
        __AF_eval_expr_impl610_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__297=$__AF_cons_car107_v0;
    local expr=$__AF_cons_car107_v0__297
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__298=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__298
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__299=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__299 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__300="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__300="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__300}" "invalid argument: ""${__AF_object_to_string148_v0__300}";
        __AF_new_err40_v0__300=("${__AF_new_err40_v0[@]}");
        local err=("${__AF_new_err40_v0__300[@]}")
        err_add_trace__46_v0 err[@] "eval";
        __AF_err_add_trace46_v0__301=("${__AF_err_add_trace46_v0[@]}");
        err=("${__AF_err_add_trace46_v0__301[@]}")
        native_return__581_v0 err[@];
        __AF_native_return581_v0__302=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__302 > /dev/null 2>&1
        __AF_eval_expr_impl610_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__305=$__AF_cons_car107_v0;
    local env=$__AF_cons_car107_v0__305
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__306=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__306
    object_is_cons__103_v0 ${env};
    __AF_object_is_cons103_v0__307=$__AF_object_is_cons103_v0;
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__307=$__AF_object_is_cons103_v0;
    if [ $(echo $(echo  '!' $__AF_object_is_cons103_v0__307 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') '||' $(echo  '!' $__AF_object_is_cons103_v0__307 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__308="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__308="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__308}" "invalid argument: ""${__AF_object_to_string148_v0__308}";
        __AF_new_err40_v0__308=("${__AF_new_err40_v0[@]}");
        local err=("${__AF_new_err40_v0__308[@]}")
        err_add_trace__46_v0 err[@] "eval";
        __AF_err_add_trace46_v0__309=("${__AF_err_add_trace46_v0[@]}");
        err=("${__AF_err_add_trace46_v0__309[@]}")
        native_return__581_v0 err[@];
        __AF_native_return581_v0__310=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__310 > /dev/null 2>&1
        __AF_eval_expr_impl610_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__313=$__AF_cons_car107_v0;
    local context=$__AF_cons_car107_v0__313
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__314=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__314
    object_is_text__99_v0 ${context};
    __AF_object_is_text99_v0__315=$__AF_object_is_text99_v0;
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__315=$__AF_object_is_nil102_v0;
    if [ $(echo $(echo  '!' $__AF_object_is_text99_v0__315 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') '||' $(echo  '!' $__AF_object_is_nil102_v0__315 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__316="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__316="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__316}" "invalid argument: ""${__AF_object_to_string148_v0__316}";
        __AF_new_err40_v0__316=("${__AF_new_err40_v0[@]}");
        local err=("${__AF_new_err40_v0__316[@]}")
        err_add_trace__46_v0 err[@] "eval";
        __AF_err_add_trace46_v0__317=("${__AF_err_add_trace46_v0[@]}");
        err=("${__AF_err_add_trace46_v0__317[@]}")
        native_return__581_v0 err[@];
        __AF_native_return581_v0__318=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__318 > /dev/null 2>&1
        __AF_eval_expr_impl610_v0='';
        return 0
fi
    expr_is_literal__602_v0 ${expr};
    __AF_expr_is_literal602_v0__321=$__AF_expr_is_literal602_v0;
    if [ $__AF_expr_is_literal602_v0__321 != 0 ]; then
        eval_literal__603_v0 ${expr};
        __AF_eval_literal603_v0__322=("${__AF_eval_literal603_v0[@]}");
        local result_val=("${__AF_eval_literal603_v0__322[@]}")
        native_return__581_v0 result_val[@];
        __AF_native_return581_v0__323=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__323 > /dev/null 2>&1
        __AF_eval_expr_impl610_v0='';
        return 0
fi
    expr_is_var__604_v0 ${expr};
    __AF_expr_is_var604_v0__326=$__AF_expr_is_var604_v0;
    if [ $__AF_expr_is_var604_v0__326 != 0 ]; then
        eval_var__605_v0 ${expr} ${env};
        __AF_eval_var605_v0__327=("${__AF_eval_var605_v0[@]}");
        local result_val=("${__AF_eval_var605_v0__327[@]}")
        native_return__581_v0 result_val[@];
        __AF_native_return581_v0__328=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__328 > /dev/null 2>&1
        __AF_eval_expr_impl610_v0='';
        return 0
fi
    eval_app__608_v0 ${expr} ${env} ${context};
    __AF_eval_app608_v0__331=("${__AF_eval_app608_v0[@]}");
    local result_val=("${__AF_eval_app608_v0__331[@]}")
    native_return__581_v0 result_val[@];
    __AF_native_return581_v0__332=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__332 > /dev/null 2>&1
    __AF_eval_expr_impl610_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__336=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__336 > /dev/null 2>&1
eval_expr_impl__610_v0 ;
__AF_eval_expr_impl610_v0__337=$__AF_eval_expr_impl610_v0;
echo $__AF_eval_expr_impl610_v0__337 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__338="${__AF_native_get_last_funcref579_v0}";
__16__funcref_eval_expr="${__AF_native_get_last_funcref579_v0__338}"
__17__funcref_special_quote=""
__18__funcref_special_set=""
__19__funcref_special_if=""
__20__funcref_special_cond=""
__21__funcref_special_let=""
__22__funcref_special_letrec=""
__23__funcref_special_lambda=""
__24__funcref_special_begin=""
__25__funcref_decl_def=""
__26__funcref_decl_defun=""
__27__special_quote_desc="Returns an unevaluated argument.

\`\`\`
> (quote 3)
;=> 3
> (quote foo)
;=> foo
> (quote (a b c))
;=> (a b c)
> '(a b c)   ; shorthand for quote
;=> (a b c)
\`\`\`
"
function special_quote_impl__803_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__40=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__40[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__41=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__41 != 0 ]; then
        __AF_special_quote_impl803_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__44=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__44
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__45=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__45 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__46="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__46="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__46}" "invalid argument list: ""${__AF_object_to_string148_v0__46}";
        __AF_new_err40_v0__46=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__46[@];
        __AF_native_return581_v0__46=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__46 > /dev/null 2>&1
        __AF_special_quote_impl803_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__49=$__AF_cons_car107_v0;
    local env=$__AF_cons_car107_v0__49
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__50=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__50
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__51=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__51 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__52="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__52="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__52}" "invalid argument list: ""${__AF_object_to_string148_v0__52}";
        __AF_new_err40_v0__52=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__52[@];
        __AF_native_return581_v0__52=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__52 > /dev/null 2>&1
        __AF_special_quote_impl803_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__55=$__AF_cons_car107_v0;
    local ctx=$__AF_cons_car107_v0__55
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__56=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__56
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__57=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__57 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__58="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__58="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__58}" "invalid argument list: ""${__AF_object_to_string148_v0__58}";
        __AF_new_err40_v0__58=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__58[@];
        __AF_native_return581_v0__58=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__58 > /dev/null 2>&1
        __AF_special_quote_impl803_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__61=$__AF_cons_car107_v0;
    local content=$__AF_cons_car107_v0__61
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__62=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__62
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__63=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__63 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__64="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__64="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__64}" "invalid argument list: ""${__AF_object_to_string148_v0__64}";
        __AF_new_err40_v0__64=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__64[@];
        __AF_native_return581_v0__64=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__64 > /dev/null 2>&1
        __AF_special_quote_impl803_v0='';
        return 0
fi
    new_ok__39_v0 ${content};
    __AF_new_ok39_v0__67=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__67[@];
    __AF_native_return581_v0__67=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__67 > /dev/null 2>&1
    __AF_special_quote_impl803_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__71=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__71 > /dev/null 2>&1
special_quote_impl__803_v0 ;
__AF_special_quote_impl803_v0__72=$__AF_special_quote_impl803_v0;
echo $__AF_special_quote_impl803_v0__72 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__73="${__AF_native_get_last_funcref579_v0}";
__17__funcref_special_quote="${__AF_native_get_last_funcref579_v0__73}"
__28__special_set_desc="Updates the value of a variable.

\`\`\`
> (let ((a 1)
        (b 2))
      (set! a 999)
      (cons a b))
;=> (999 . 2)
\`\`\`
"
function special_set_impl__805_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__91=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__91[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__92=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__92 != 0 ]; then
        __AF_special_set_impl805_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__95=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__95
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__96=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__96 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__97="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__97="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__97}" "invalid argument list: ""${__AF_object_to_string148_v0__97}";
        __AF_new_err40_v0__97=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__97[@];
        __AF_native_return581_v0__97=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__97 > /dev/null 2>&1
        __AF_special_set_impl805_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__100=$__AF_cons_car107_v0;
    local env=$__AF_cons_car107_v0__100
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__101=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__101
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__102=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__102 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__103="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__103="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__103}" "invalid argument list: ""${__AF_object_to_string148_v0__103}";
        __AF_new_err40_v0__103=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__103[@];
        __AF_native_return581_v0__103=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__103 > /dev/null 2>&1
        __AF_special_set_impl805_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__106=$__AF_cons_car107_v0;
    local ctx=$__AF_cons_car107_v0__106
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__107=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__107
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__108=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__108 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__109="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__109="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__109}" "invalid argument list: ""${__AF_object_to_string148_v0__109}";
        __AF_new_err40_v0__109=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__109[@];
        __AF_native_return581_v0__109=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__109 > /dev/null 2>&1
        __AF_special_set_impl805_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__112=$__AF_cons_car107_v0;
    local var_name=$__AF_cons_car107_v0__112
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__113=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__113
    object_is_symbol__100_v0 ${var_name};
    __AF_object_is_symbol100_v0__114=$__AF_object_is_symbol100_v0;
    if [ $(echo  '!' $__AF_object_is_symbol100_v0__114 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__115="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__115="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__115}" "invalid argument list: ""${__AF_object_to_string148_v0__115}";
        __AF_new_err40_v0__115=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__115[@];
        __AF_native_return581_v0__115=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__115 > /dev/null 2>&1
        __AF_special_set_impl805_v0='';
        return 0
fi
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__118=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__118 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__119="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__119="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__119}" "invalid argument list: ""${__AF_object_to_string148_v0__119}";
        __AF_new_err40_v0__119=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__119[@];
        __AF_native_return581_v0__119=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__119 > /dev/null 2>&1
        __AF_special_set_impl805_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__122=$__AF_cons_car107_v0;
    local value=$__AF_cons_car107_v0__122
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__123=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__123
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__124=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__124 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__125="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__125="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__125}" "invalid argument list: ""${__AF_object_to_string148_v0__125}";
        __AF_new_err40_v0__125=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__125[@];
        __AF_native_return581_v0__125=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__125 > /dev/null 2>&1
        __AF_special_set_impl805_v0='';
        return 0
fi
    env_set__297_v0 ${env} ${var_name} ${value};
    __AF_env_set297_v0__128=("${__AF_env_set297_v0[@]}");
    local result=("${__AF_env_set297_v0__128[@]}")
    result_is_err__42_v0 result[@];
    __AF_result_is_err42_v0__129=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__129 != 0 ]; then
        native_return__581_v0 result[@];
        __AF_native_return581_v0__130=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__130 > /dev/null 2>&1
        __AF_special_set_impl805_v0='';
        return 0
fi
    new_nil__123_v0 ;
    __AF_new_nil123_v0__133=$__AF_new_nil123_v0;
    new_ok__39_v0 $__AF_new_nil123_v0__133;
    __AF_new_ok39_v0__133=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__133[@];
    __AF_native_return581_v0__133=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__133 > /dev/null 2>&1
    __AF_special_set_impl805_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__137=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__137 > /dev/null 2>&1
special_set_impl__805_v0 ;
__AF_special_set_impl805_v0__138=$__AF_special_set_impl805_v0;
echo $__AF_special_set_impl805_v0__138 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__139="${__AF_native_get_last_funcref579_v0}";
__18__funcref_special_set="${__AF_native_get_last_funcref579_v0__139}"
__29__special_if_desc="Branches the execution of a code based on a given condition.

\`\`\`
> (if t 1 2)
;=> 1
> (if nil 1 2)
;=> 2
> (if (eqv? 1 2)
      (error \"unreachable\"))
;=> nil
\`\`\`
"
function special_if_impl__807_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__159=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__159[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__160=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__160 != 0 ]; then
        __AF_special_if_impl807_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__163=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__163
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__164=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__164 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__165="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__165="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__165}" "invalid argument list: ""${__AF_object_to_string148_v0__165}";
        __AF_new_err40_v0__165=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__165[@];
        __AF_native_return581_v0__165=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__165 > /dev/null 2>&1
        __AF_special_if_impl807_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__168=$__AF_cons_car107_v0;
    local env=$__AF_cons_car107_v0__168
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__169=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__169
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__170=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__170 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__171="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__171="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__171}" "invalid argument list: ""${__AF_object_to_string148_v0__171}";
        __AF_new_err40_v0__171=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__171[@];
        __AF_native_return581_v0__171=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__171 > /dev/null 2>&1
        __AF_special_if_impl807_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__174=$__AF_cons_car107_v0;
    local ctx=$__AF_cons_car107_v0__174
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__175=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__175
    object_is_text__99_v0 ${ctx};
    __AF_object_is_text99_v0__176=$__AF_object_is_text99_v0;
    if [ $(echo  '!' $__AF_object_is_text99_v0__176 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__177="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__177="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__177}" "invalid argument list: ""${__AF_object_to_string148_v0__177}";
        __AF_new_err40_v0__177=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__177[@];
        __AF_native_return581_v0__177=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__177 > /dev/null 2>&1
        __AF_special_if_impl807_v0='';
        return 0
fi
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__180=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__180 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__181="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__181="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__181}" "invalid argument list: ""${__AF_object_to_string148_v0__181}";
        __AF_new_err40_v0__181=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__181[@];
        __AF_native_return581_v0__181=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__181 > /dev/null 2>&1
        __AF_special_if_impl807_v0='';
        return 0
fi
    text_value__105_v0 ${ctx};
    __AF_text_value105_v0__184="${__AF_text_value105_v0}";
    local ctx="${__AF_text_value105_v0__184}"
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__185=$__AF_cons_car107_v0;
    local cond_expr=$__AF_cons_car107_v0__185
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__186=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__186
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__187=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__187 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__188="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__188="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__188}" "invalid argument list: ""${__AF_object_to_string148_v0__188}";
        __AF_new_err40_v0__188=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__188[@];
        __AF_native_return581_v0__188=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__188 > /dev/null 2>&1
        __AF_special_if_impl807_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__191=$__AF_cons_car107_v0;
    local conseq_expr=$__AF_cons_car107_v0__191
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__192=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__192
    new_nil__123_v0 ;
    __AF_new_nil123_v0__193=$__AF_new_nil123_v0;
    local alt_expr=$__AF_new_nil123_v0__193
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__194=$__AF_object_is_cons103_v0;
    if [ $__AF_object_is_cons103_v0__194 != 0 ]; then
        cons_car__107_v0 ${args};
        __AF_cons_car107_v0__195=$__AF_cons_car107_v0;
        alt_expr=$__AF_cons_car107_v0__195
        cons_cdr__108_v0 ${args};
        __AF_cons_cdr108_v0__196=$__AF_cons_cdr108_v0;
        args=$__AF_cons_cdr108_v0__196
fi
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__198=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__198 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__199="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__199="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__199}" "invalid argument list: ""${__AF_object_to_string148_v0__199}";
        __AF_new_err40_v0__199=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__199[@];
        __AF_native_return581_v0__199=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__199 > /dev/null 2>&1
        __AF_special_if_impl807_v0='';
        return 0
fi
    eval_expr__592_v0 ${cond_expr} ${env} "${ctx}";
    __AF_eval_expr592_v0__203=("${__AF_eval_expr592_v0[@]}");
    local cond_result=("${__AF_eval_expr592_v0__203[@]}")
    result_is_err__42_v0 cond_result[@];
    __AF_result_is_err42_v0__204=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__204 != 0 ]; then
        native_return__581_v0 cond_result[@];
        __AF_native_return581_v0__205=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__205 > /dev/null 2>&1
        __AF_special_if_impl807_v0='';
        return 0
fi
    ok_val__43_v0 cond_result[@];
    __AF_ok_val43_v0__208=$__AF_ok_val43_v0;
    local cond_val=$__AF_ok_val43_v0__208
    object_is_nil__102_v0 ${cond_val};
    __AF_object_is_nil102_v0__209=$__AF_object_is_nil102_v0;
    if [ $__AF_object_is_nil102_v0__209 != 0 ]; then
        eval_expr__592_v0 ${alt_expr} ${env} "${ctx}";
        __AF_eval_expr592_v0__210=("${__AF_eval_expr592_v0[@]}");
        local alt_result=("${__AF_eval_expr592_v0__210[@]}")
        native_return__581_v0 alt_result[@];
        __AF_native_return581_v0__211=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__211 > /dev/null 2>&1
        __AF_special_if_impl807_v0='';
        return 0
fi
    eval_expr__592_v0 ${conseq_expr} ${env} "${ctx}";
    __AF_eval_expr592_v0__214=("${__AF_eval_expr592_v0[@]}");
    local conseq_result=("${__AF_eval_expr592_v0__214[@]}")
    native_return__581_v0 conseq_result[@];
    __AF_native_return581_v0__215=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__215 > /dev/null 2>&1
    __AF_special_if_impl807_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__219=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__219 > /dev/null 2>&1
special_if_impl__807_v0 ;
__AF_special_if_impl807_v0__220=$__AF_special_if_impl807_v0;
echo $__AF_special_if_impl807_v0__220 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__221="${__AF_native_get_last_funcref579_v0}";
__19__funcref_special_if="${__AF_native_get_last_funcref579_v0__221}"
__30__special_cond_desc="Similar to \`if\`, but takes multiple clauses.

\`\`\`
> (let ((a 3))
    (cond
      ((eqv? a 2) (echo \"foo\") \"a is 2\")
      ((eqv? a 3) (echo \"bar\") \"a is 3\")
      (else \"not sure\")))
bar
;=> \"a is 3\"
\`\`\`
"
function special_cond_impl__809_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__241=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__241[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__242=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__242 != 0 ]; then
        __AF_special_cond_impl809_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__245=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__245
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__246=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__246 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__247="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__247="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__247}" "invalid argument list: ""${__AF_object_to_string148_v0__247}";
        __AF_new_err40_v0__247=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__247[@];
        __AF_native_return581_v0__247=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__247 > /dev/null 2>&1
        __AF_special_cond_impl809_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__250=$__AF_cons_car107_v0;
    local env=$__AF_cons_car107_v0__250
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__251=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__251
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__252=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__252 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__253="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__253="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__253}" "invalid argument list: ""${__AF_object_to_string148_v0__253}";
        __AF_new_err40_v0__253=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__253[@];
        __AF_native_return581_v0__253=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__253 > /dev/null 2>&1
        __AF_special_cond_impl809_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__256=$__AF_cons_car107_v0;
    local ctx=$__AF_cons_car107_v0__256
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__257=$__AF_cons_cdr108_v0;
    local clauses=$__AF_cons_cdr108_v0__257
    object_is_text__99_v0 ${ctx};
    __AF_object_is_text99_v0__258=$__AF_object_is_text99_v0;
    if [ $(echo  '!' $__AF_object_is_text99_v0__258 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__259="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__259="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__259}" "invalid argument list: ""${__AF_object_to_string148_v0__259}";
        __AF_new_err40_v0__259=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__259[@];
        __AF_native_return581_v0__259=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__259 > /dev/null 2>&1
        __AF_special_cond_impl809_v0='';
        return 0
fi
    text_value__105_v0 ${ctx};
    __AF_text_value105_v0__262="${__AF_text_value105_v0}";
    local ctx="${__AF_text_value105_v0__262}"
    while :
do
        object_is_nil__102_v0 ${clauses};
        __AF_object_is_nil102_v0__264=$__AF_object_is_nil102_v0;
        if [ $__AF_object_is_nil102_v0__264 != 0 ]; then
            break
fi
        object_is_cons__103_v0 ${clauses};
        __AF_object_is_cons103_v0__267=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__267 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_syntax_error__31_v0 ;
            __AF_code_syntax_error31_v0__268="${__AF_code_syntax_error31_v0}";
            object_to_string__148_v0 ${clauses};
            __AF_object_to_string148_v0__268="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_syntax_error31_v0__268}" "invalid cond clause: ""${__AF_object_to_string148_v0__268}";
            __AF_new_err40_v0__268=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__268[@];
            __AF_native_return581_v0__268=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__268 > /dev/null 2>&1
            __AF_special_cond_impl809_v0='';
            return 0
fi
        cons_car__107_v0 ${clauses};
        __AF_cons_car107_v0__271=$__AF_cons_car107_v0;
        local clause=$__AF_cons_car107_v0__271
        cons_cdr__108_v0 ${clauses};
        __AF_cons_cdr108_v0__272=$__AF_cons_cdr108_v0;
        clauses=$__AF_cons_cdr108_v0__272
        object_is_cons__103_v0 ${clause};
        __AF_object_is_cons103_v0__273=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__273 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_syntax_error__31_v0 ;
            __AF_code_syntax_error31_v0__274="${__AF_code_syntax_error31_v0}";
            object_to_string__148_v0 ${clause};
            __AF_object_to_string148_v0__274="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_syntax_error31_v0__274}" "invalid cond clause: ""${__AF_object_to_string148_v0__274}";
            __AF_new_err40_v0__274=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__274[@];
            __AF_native_return581_v0__274=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__274 > /dev/null 2>&1
            __AF_special_cond_impl809_v0='';
            return 0
fi
        cons_car__107_v0 ${clause};
        __AF_cons_car107_v0__277=$__AF_cons_car107_v0;
        local cond_expr=$__AF_cons_car107_v0__277
        cons_cdr__108_v0 ${clause};
        __AF_cons_cdr108_v0__278=$__AF_cons_cdr108_v0;
        local cond_body=$__AF_cons_cdr108_v0__278
        local cond_met=0
        object_is_symbol__100_v0 ${cond_expr};
        __AF_object_is_symbol100_v0__281=$__AF_object_is_symbol100_v0;
        symbol_name__106_v0 ${cond_expr};
        __AF_symbol_name106_v0__281="${__AF_symbol_name106_v0}";
        if [ $(echo $__AF_object_is_symbol100_v0__281 '&&' $([ "_${__AF_symbol_name106_v0__281}" != "_else" ]; echo $?) | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            cond_met=1
else
            eval_expr__592_v0 ${cond_expr} ${env} "${ctx}";
            __AF_eval_expr592_v0__284=("${__AF_eval_expr592_v0[@]}");
            local cond_val_result=("${__AF_eval_expr592_v0__284[@]}")
            result_is_err__42_v0 cond_val_result[@];
            __AF_result_is_err42_v0__285=$__AF_result_is_err42_v0;
            if [ $__AF_result_is_err42_v0__285 != 0 ]; then
                native_return__581_v0 cond_val_result[@];
                __AF_native_return581_v0__286=$__AF_native_return581_v0;
                echo $__AF_native_return581_v0__286 > /dev/null 2>&1
                __AF_special_cond_impl809_v0='';
                return 0
fi
            ok_val__43_v0 cond_val_result[@];
            __AF_ok_val43_v0__289=$__AF_ok_val43_v0;
            local cond_val=$__AF_ok_val43_v0__289
            object_is_nil__102_v0 ${cond_val};
            __AF_object_is_nil102_v0__290=$__AF_object_is_nil102_v0;
            if [ $(echo  '!' $__AF_object_is_nil102_v0__290 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
                cond_met=1
fi
fi
        if [ $(echo  '!' ${cond_met} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            continue
fi
        eval_sequence__593_v0 ${cond_body} ${env} "${ctx}";
        __AF_eval_sequence593_v0__299=("${__AF_eval_sequence593_v0[@]}");
        local result_val=("${__AF_eval_sequence593_v0__299[@]}")
        native_return__581_v0 result_val[@];
        __AF_native_return581_v0__300=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__300 > /dev/null 2>&1
        __AF_special_cond_impl809_v0='';
        return 0
done
    new_nil__123_v0 ;
    __AF_new_nil123_v0__304=$__AF_new_nil123_v0;
    new_ok__39_v0 $__AF_new_nil123_v0__304;
    __AF_new_ok39_v0__304=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__304[@];
    __AF_native_return581_v0__304=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__304 > /dev/null 2>&1
    __AF_special_cond_impl809_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__308=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__308 > /dev/null 2>&1
special_cond_impl__809_v0 ;
__AF_special_cond_impl809_v0__309=$__AF_special_cond_impl809_v0;
echo $__AF_special_cond_impl809_v0__309 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__310="${__AF_native_get_last_funcref579_v0}";
__20__funcref_special_cond="${__AF_native_get_last_funcref579_v0__310}"
__31__special_let_desc="Binds values to local variables.

\`\`\`
> (let ((a 1)
        (b 2))
      (+ a b))
;=> 3
\`\`\`
"
function special_let_impl__811_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__327=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__327[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__328=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__328 != 0 ]; then
        __AF_special_let_impl811_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__331=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__331
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__332=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__332 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__333="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__333="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__333}" "invalid argument list: ""${__AF_object_to_string148_v0__333}";
        __AF_new_err40_v0__333=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__333[@];
        __AF_native_return581_v0__333=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__333 > /dev/null 2>&1
        __AF_special_let_impl811_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__336=$__AF_cons_car107_v0;
    local env=$__AF_cons_car107_v0__336
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__337=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__337
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__338=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__338 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__339="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__339="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__339}" "invalid argument list: ""${__AF_object_to_string148_v0__339}";
        __AF_new_err40_v0__339=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__339[@];
        __AF_native_return581_v0__339=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__339 > /dev/null 2>&1
        __AF_special_let_impl811_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__342=$__AF_cons_car107_v0;
    local ctx=$__AF_cons_car107_v0__342
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__343=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__343
    object_is_text__99_v0 ${ctx};
    __AF_object_is_text99_v0__344=$__AF_object_is_text99_v0;
    if [ $(echo  '!' $__AF_object_is_text99_v0__344 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__345="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__345="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__345}" "invalid argument list: ""${__AF_object_to_string148_v0__345}";
        __AF_new_err40_v0__345=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__345[@];
        __AF_native_return581_v0__345=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__345 > /dev/null 2>&1
        __AF_special_let_impl811_v0='';
        return 0
fi
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__348=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__348 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__349="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__349="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__349}" "invalid argument list: ""${__AF_object_to_string148_v0__349}";
        __AF_new_err40_v0__349=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__349[@];
        __AF_native_return581_v0__349=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__349 > /dev/null 2>&1
        __AF_special_let_impl811_v0='';
        return 0
fi
    text_value__105_v0 ${ctx};
    __AF_text_value105_v0__352="${__AF_text_value105_v0}";
    local ctx="${__AF_text_value105_v0__352}"
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__354=$__AF_cons_car107_v0;
    local var_binds=$__AF_cons_car107_v0__354
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__355=$__AF_cons_cdr108_v0;
    local body=$__AF_cons_cdr108_v0__355
    local body_env=${env}
    while :
do
        object_is_nil__102_v0 ${var_binds};
        __AF_object_is_nil102_v0__358=$__AF_object_is_nil102_v0;
        if [ $__AF_object_is_nil102_v0__358 != 0 ]; then
            break
fi
        object_is_cons__103_v0 ${var_binds};
        __AF_object_is_cons103_v0__361=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__361 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_syntax_error__31_v0 ;
            __AF_code_syntax_error31_v0__362="${__AF_code_syntax_error31_v0}";
            object_to_string__148_v0 ${var_binds};
            __AF_object_to_string148_v0__362="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_syntax_error31_v0__362}" "invalid variable binding: ""${__AF_object_to_string148_v0__362}";
            __AF_new_err40_v0__362=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__362[@];
            __AF_native_return581_v0__362=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__362 > /dev/null 2>&1
            __AF_special_let_impl811_v0='';
            return 0
fi
        cons_car__107_v0 ${var_binds};
        __AF_cons_car107_v0__365=$__AF_cons_car107_v0;
        local bind=$__AF_cons_car107_v0__365
        cons_cdr__108_v0 ${var_binds};
        __AF_cons_cdr108_v0__366=$__AF_cons_cdr108_v0;
        var_binds=$__AF_cons_cdr108_v0__366
        object_is_cons__103_v0 ${bind};
        __AF_object_is_cons103_v0__367=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__367 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_syntax_error__31_v0 ;
            __AF_code_syntax_error31_v0__368="${__AF_code_syntax_error31_v0}";
            object_to_string__148_v0 ${bind};
            __AF_object_to_string148_v0__368="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_syntax_error31_v0__368}" "invalid variable binding: ""${__AF_object_to_string148_v0__368}";
            __AF_new_err40_v0__368=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__368[@];
            __AF_native_return581_v0__368=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__368 > /dev/null 2>&1
            __AF_special_let_impl811_v0='';
            return 0
fi
        cons_car__107_v0 ${bind};
        __AF_cons_car107_v0__371=$__AF_cons_car107_v0;
        local var_name=$__AF_cons_car107_v0__371
        cons_cdr__108_v0 ${bind};
        __AF_cons_cdr108_v0__372=$__AF_cons_cdr108_v0;
        local var_expr_and_rest=$__AF_cons_cdr108_v0__372
        object_is_symbol__100_v0 ${var_name};
        __AF_object_is_symbol100_v0__373=$__AF_object_is_symbol100_v0;
        if [ $(echo  '!' $__AF_object_is_symbol100_v0__373 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_syntax_error__31_v0 ;
            __AF_code_syntax_error31_v0__374="${__AF_code_syntax_error31_v0}";
            object_to_string__148_v0 ${var_name};
            __AF_object_to_string148_v0__374="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_syntax_error31_v0__374}" "invalid variable name: ""${__AF_object_to_string148_v0__374}";
            __AF_new_err40_v0__374=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__374[@];
            __AF_native_return581_v0__374=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__374 > /dev/null 2>&1
            __AF_special_let_impl811_v0='';
            return 0
fi
        object_is_cons__103_v0 ${var_expr_and_rest};
        __AF_object_is_cons103_v0__377=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__377 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_syntax_error__31_v0 ;
            __AF_code_syntax_error31_v0__378="${__AF_code_syntax_error31_v0}";
            object_to_string__148_v0 ${bind};
            __AF_object_to_string148_v0__378="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_syntax_error31_v0__378}" "invalid variable binding: ""${__AF_object_to_string148_v0__378}";
            __AF_new_err40_v0__378=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__378[@];
            __AF_native_return581_v0__378=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__378 > /dev/null 2>&1
            __AF_special_let_impl811_v0='';
            return 0
fi
        cons_car__107_v0 ${var_expr_and_rest};
        __AF_cons_car107_v0__381=$__AF_cons_car107_v0;
        local var_expr=$__AF_cons_car107_v0__381
        cons_cdr__108_v0 ${var_expr_and_rest};
        __AF_cons_cdr108_v0__382=$__AF_cons_cdr108_v0;
        object_is_nil__102_v0 $__AF_cons_cdr108_v0__382;
        __AF_object_is_nil102_v0__382=$__AF_object_is_nil102_v0;
        if [ $(echo  '!' $__AF_object_is_nil102_v0__382 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_syntax_error__31_v0 ;
            __AF_code_syntax_error31_v0__383="${__AF_code_syntax_error31_v0}";
            object_to_string__148_v0 ${bind};
            __AF_object_to_string148_v0__383="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_syntax_error31_v0__383}" "invalid variable binding: ""${__AF_object_to_string148_v0__383}";
            __AF_new_err40_v0__383=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__383[@];
            __AF_native_return581_v0__383=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__383 > /dev/null 2>&1
            __AF_special_let_impl811_v0='';
            return 0
fi
        eval_expr__592_v0 ${var_expr} ${env} "${ctx}";
        __AF_eval_expr592_v0__387=("${__AF_eval_expr592_v0[@]}");
        local var_val_result=("${__AF_eval_expr592_v0__387[@]}")
        result_is_err__42_v0 var_val_result[@];
        __AF_result_is_err42_v0__388=$__AF_result_is_err42_v0;
        if [ $__AF_result_is_err42_v0__388 != 0 ]; then
            native_return__581_v0 var_val_result[@];
            __AF_native_return581_v0__389=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__389 > /dev/null 2>&1
            __AF_special_let_impl811_v0='';
            return 0
fi
        ok_val__43_v0 var_val_result[@];
        __AF_ok_val43_v0__392=$__AF_ok_val43_v0;
        local var_val=$__AF_ok_val43_v0__392
        env_define__295_v0 ${body_env} ${var_name} ${var_val};
        __AF_env_define295_v0__393=$__AF_env_define295_v0;
        body_env=$__AF_env_define295_v0__393
done
    eval_sequence__593_v0 ${body} ${body_env} "${ctx}";
    __AF_eval_sequence593_v0__396=("${__AF_eval_sequence593_v0[@]}");
    local result_val=("${__AF_eval_sequence593_v0__396[@]}")
    native_return__581_v0 result_val[@];
    __AF_native_return581_v0__397=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__397 > /dev/null 2>&1
    __AF_special_let_impl811_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__401=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__401 > /dev/null 2>&1
special_let_impl__811_v0 ;
__AF_special_let_impl811_v0__402=$__AF_special_let_impl811_v0;
echo $__AF_special_let_impl811_v0__402 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__403="${__AF_native_get_last_funcref579_v0}";
__21__funcref_special_let="${__AF_native_get_last_funcref579_v0__403}"
__32__special_letrec_desc="Similar to \`let\`, but when binding values to variables,
their expressions can access the local variables that are being defined.

\`\`\`
> (letrec ((f (lambda (n) (if (eqv? n 0) 0 (+ n (g (- n 1))))))
           (g (lambda (n) (if (eqv? n 0) 0 (+ n (f (- n 1)))))))
      (f 3))
;=> 6
\`\`\`
"
function special_letrec_impl__813_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__421=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__421[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__422=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__422 != 0 ]; then
        __AF_special_letrec_impl813_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__425=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__425
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__426=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__426 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__427="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__427="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__427}" "invalid argument list: ""${__AF_object_to_string148_v0__427}";
        __AF_new_err40_v0__427=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__427[@];
        __AF_native_return581_v0__427=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__427 > /dev/null 2>&1
        __AF_special_letrec_impl813_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__430=$__AF_cons_car107_v0;
    local env=$__AF_cons_car107_v0__430
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__431=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__431
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__432=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__432 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__433="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__433="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__433}" "invalid argument list: ""${__AF_object_to_string148_v0__433}";
        __AF_new_err40_v0__433=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__433[@];
        __AF_native_return581_v0__433=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__433 > /dev/null 2>&1
        __AF_special_letrec_impl813_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__436=$__AF_cons_car107_v0;
    local ctx=$__AF_cons_car107_v0__436
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__437=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__437
    object_is_text__99_v0 ${ctx};
    __AF_object_is_text99_v0__438=$__AF_object_is_text99_v0;
    if [ $(echo  '!' $__AF_object_is_text99_v0__438 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__439="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__439="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__439}" "invalid argument list: ""${__AF_object_to_string148_v0__439}";
        __AF_new_err40_v0__439=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__439[@];
        __AF_native_return581_v0__439=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__439 > /dev/null 2>&1
        __AF_special_letrec_impl813_v0='';
        return 0
fi
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__442=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__442 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__443="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__443="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__443}" "invalid argument list: ""${__AF_object_to_string148_v0__443}";
        __AF_new_err40_v0__443=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__443[@];
        __AF_native_return581_v0__443=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__443 > /dev/null 2>&1
        __AF_special_letrec_impl813_v0='';
        return 0
fi
    text_value__105_v0 ${ctx};
    __AF_text_value105_v0__446="${__AF_text_value105_v0}";
    local ctx="${__AF_text_value105_v0__446}"
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__448=$__AF_cons_car107_v0;
    local var_binds=$__AF_cons_car107_v0__448
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__449=$__AF_cons_cdr108_v0;
    local body=$__AF_cons_cdr108_v0__449
    local iter=${var_binds}
    __AMBER_ARRAY_24=();
    local var_names=("${__AMBER_ARRAY_24[@]}")
    while :
do
        object_is_nil__102_v0 ${iter};
        __AF_object_is_nil102_v0__454=$__AF_object_is_nil102_v0;
        if [ $__AF_object_is_nil102_v0__454 != 0 ]; then
            break
fi
        object_is_cons__103_v0 ${iter};
        __AF_object_is_cons103_v0__457=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__457 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_syntax_error__31_v0 ;
            __AF_code_syntax_error31_v0__458="${__AF_code_syntax_error31_v0}";
            object_to_string__148_v0 ${var_binds};
            __AF_object_to_string148_v0__458="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_syntax_error31_v0__458}" "invalid variable binding: ""${__AF_object_to_string148_v0__458}";
            __AF_new_err40_v0__458=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__458[@];
            __AF_native_return581_v0__458=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__458 > /dev/null 2>&1
            __AF_special_letrec_impl813_v0='';
            return 0
fi
        cons_car__107_v0 ${iter};
        __AF_cons_car107_v0__461=$__AF_cons_car107_v0;
        local bind=$__AF_cons_car107_v0__461
        cons_cdr__108_v0 ${iter};
        __AF_cons_cdr108_v0__462=$__AF_cons_cdr108_v0;
        iter=$__AF_cons_cdr108_v0__462
        object_is_cons__103_v0 ${bind};
        __AF_object_is_cons103_v0__463=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__463 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_syntax_error__31_v0 ;
            __AF_code_syntax_error31_v0__464="${__AF_code_syntax_error31_v0}";
            object_to_string__148_v0 ${bind};
            __AF_object_to_string148_v0__464="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_syntax_error31_v0__464}" "invalid variable binding: ""${__AF_object_to_string148_v0__464}";
            __AF_new_err40_v0__464=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__464[@];
            __AF_native_return581_v0__464=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__464 > /dev/null 2>&1
            __AF_special_letrec_impl813_v0='';
            return 0
fi
        cons_car__107_v0 ${bind};
        __AF_cons_car107_v0__467=$__AF_cons_car107_v0;
        local var_name=$__AF_cons_car107_v0__467
        object_is_symbol__100_v0 ${var_name};
        __AF_object_is_symbol100_v0__468=$__AF_object_is_symbol100_v0;
        if [ $(echo  '!' $__AF_object_is_symbol100_v0__468 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_syntax_error__31_v0 ;
            __AF_code_syntax_error31_v0__469="${__AF_code_syntax_error31_v0}";
            object_to_string__148_v0 ${var_name};
            __AF_object_to_string148_v0__469="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_syntax_error31_v0__469}" "invalid variable name: ""${__AF_object_to_string148_v0__469}";
            __AF_new_err40_v0__469=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__469[@];
            __AF_native_return581_v0__469=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__469 > /dev/null 2>&1
            __AF_special_letrec_impl813_v0='';
            return 0
fi
        __AMBER_ARRAY_25=(${var_name});
        var_names+=("${__AMBER_ARRAY_25[@]}")
        new_nil__123_v0 ;
        __AF_new_nil123_v0__473=$__AF_new_nil123_v0;
        env_define__295_v0 ${env} ${var_name} $__AF_new_nil123_v0__473;
        __AF_env_define295_v0__473=$__AF_env_define295_v0;
        env=$__AF_env_define295_v0__473
done
    local iter=${var_binds}
    __AMBER_ARRAY_26=();
    local var_values=("${__AMBER_ARRAY_26[@]}")
    while :
do
        object_is_nil__102_v0 ${iter};
        __AF_object_is_nil102_v0__479=$__AF_object_is_nil102_v0;
        if [ $__AF_object_is_nil102_v0__479 != 0 ]; then
            break
fi
        object_is_cons__103_v0 ${iter};
        __AF_object_is_cons103_v0__482=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__482 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_syntax_error__31_v0 ;
            __AF_code_syntax_error31_v0__483="${__AF_code_syntax_error31_v0}";
            object_to_string__148_v0 ${var_binds};
            __AF_object_to_string148_v0__483="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_syntax_error31_v0__483}" "invalid variable binding: ""${__AF_object_to_string148_v0__483}";
            __AF_new_err40_v0__483=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__483[@];
            __AF_native_return581_v0__483=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__483 > /dev/null 2>&1
            __AF_special_letrec_impl813_v0='';
            return 0
fi
        cons_car__107_v0 ${iter};
        __AF_cons_car107_v0__486=$__AF_cons_car107_v0;
        local bind=$__AF_cons_car107_v0__486
        cons_cdr__108_v0 ${iter};
        __AF_cons_cdr108_v0__487=$__AF_cons_cdr108_v0;
        iter=$__AF_cons_cdr108_v0__487
        object_is_cons__103_v0 ${bind};
        __AF_object_is_cons103_v0__488=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__488 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_syntax_error__31_v0 ;
            __AF_code_syntax_error31_v0__489="${__AF_code_syntax_error31_v0}";
            object_to_string__148_v0 ${bind};
            __AF_object_to_string148_v0__489="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_syntax_error31_v0__489}" "invalid variable binding: ""${__AF_object_to_string148_v0__489}";
            __AF_new_err40_v0__489=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__489[@];
            __AF_native_return581_v0__489=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__489 > /dev/null 2>&1
            __AF_special_letrec_impl813_v0='';
            return 0
fi
        cons_cdr__108_v0 ${bind};
        __AF_cons_cdr108_v0__492=$__AF_cons_cdr108_v0;
        local var_expr_and_rest=$__AF_cons_cdr108_v0__492
        object_is_cons__103_v0 ${var_expr_and_rest};
        __AF_object_is_cons103_v0__493=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__493 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_syntax_error__31_v0 ;
            __AF_code_syntax_error31_v0__494="${__AF_code_syntax_error31_v0}";
            object_to_string__148_v0 ${bind};
            __AF_object_to_string148_v0__494="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_syntax_error31_v0__494}" "invalid variable binding: ""${__AF_object_to_string148_v0__494}";
            __AF_new_err40_v0__494=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__494[@];
            __AF_native_return581_v0__494=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__494 > /dev/null 2>&1
            __AF_special_letrec_impl813_v0='';
            return 0
fi
        cons_car__107_v0 ${var_expr_and_rest};
        __AF_cons_car107_v0__497=$__AF_cons_car107_v0;
        local var_expr=$__AF_cons_car107_v0__497
        cons_cdr__108_v0 ${var_expr_and_rest};
        __AF_cons_cdr108_v0__498=$__AF_cons_cdr108_v0;
        object_is_nil__102_v0 $__AF_cons_cdr108_v0__498;
        __AF_object_is_nil102_v0__498=$__AF_object_is_nil102_v0;
        if [ $(echo  '!' $__AF_object_is_nil102_v0__498 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_syntax_error__31_v0 ;
            __AF_code_syntax_error31_v0__499="${__AF_code_syntax_error31_v0}";
            object_to_string__148_v0 ${bind};
            __AF_object_to_string148_v0__499="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_syntax_error31_v0__499}" "invalid variable binding: ""${__AF_object_to_string148_v0__499}";
            __AF_new_err40_v0__499=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__499[@];
            __AF_native_return581_v0__499=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__499 > /dev/null 2>&1
            __AF_special_letrec_impl813_v0='';
            return 0
fi
        eval_expr__592_v0 ${var_expr} ${env} "${ctx}";
        __AF_eval_expr592_v0__503=("${__AF_eval_expr592_v0[@]}");
        local var_val_result=("${__AF_eval_expr592_v0__503[@]}")
        result_is_err__42_v0 var_val_result[@];
        __AF_result_is_err42_v0__504=$__AF_result_is_err42_v0;
        if [ $__AF_result_is_err42_v0__504 != 0 ]; then
            native_return__581_v0 var_val_result[@];
            __AF_native_return581_v0__505=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__505 > /dev/null 2>&1
            __AF_special_letrec_impl813_v0='';
            return 0
fi
        ok_val__43_v0 var_val_result[@];
        __AF_ok_val43_v0__508=$__AF_ok_val43_v0;
        local var_val=$__AF_ok_val43_v0__508
        __AMBER_ARRAY_27=(${var_val});
        var_values+=("${__AMBER_ARRAY_27[@]}")
done
    local i=0
    while :
do
        len__18_v0 var_names[@];
        __AF_len18_v0__514=$__AF_len18_v0;
        if [ $(echo $__AF_len18_v0__514 '<=' ${i} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            break
fi
        local name="${var_names[${i}]}"
        local value="${var_values[${i}]}"
        env_set__297_v0 ${env} ${name} ${value};
        __AF_env_set297_v0__519=("${__AF_env_set297_v0[@]}");
        local set_result=("${__AF_env_set297_v0__519[@]}")
        result_is_err__42_v0 set_result[@];
        __AF_result_is_err42_v0__520=$__AF_result_is_err42_v0;
        if [ $__AF_result_is_err42_v0__520 != 0 ]; then
            native_return__581_v0 set_result[@];
            __AF_native_return581_v0__521=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__521 > /dev/null 2>&1
            __AF_special_letrec_impl813_v0='';
            return 0
fi
        i=$(echo ${i} '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
done
    eval_sequence__593_v0 ${body} ${env} "${ctx}";
    __AF_eval_sequence593_v0__527=("${__AF_eval_sequence593_v0[@]}");
    local result_val=("${__AF_eval_sequence593_v0__527[@]}")
    native_return__581_v0 result_val[@];
    __AF_native_return581_v0__528=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__528 > /dev/null 2>&1
    __AF_special_letrec_impl813_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__532=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__532 > /dev/null 2>&1
special_letrec_impl__813_v0 ;
__AF_special_letrec_impl813_v0__533=$__AF_special_letrec_impl813_v0;
echo $__AF_special_letrec_impl813_v0__533 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__534="${__AF_native_get_last_funcref579_v0}";
__22__funcref_special_letrec="${__AF_native_get_last_funcref579_v0__534}"
__33__special_lambda_desc="Makes an anonymous function.

\`\`\`
> ((lambda (a b)
       (echo \"Calculating...\")
       (+ a b))
   1 2)
Calculating...
;=> 3
\`\`\`
"
function special_lambda_impl__815_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__553=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__553[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__554=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__554 != 0 ]; then
        __AF_special_lambda_impl815_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__557=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__557
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__558=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__558 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__559="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__559="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__559}" "invalid argument list: ""${__AF_object_to_string148_v0__559}";
        __AF_new_err40_v0__559=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__559[@];
        __AF_native_return581_v0__559=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__559 > /dev/null 2>&1
        __AF_special_lambda_impl815_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__562=$__AF_cons_car107_v0;
    local env=$__AF_cons_car107_v0__562
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__563=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__563
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__564=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__564 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__565="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__565="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__565}" "invalid argument list: ""${__AF_object_to_string148_v0__565}";
        __AF_new_err40_v0__565=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__565[@];
        __AF_native_return581_v0__565=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__565 > /dev/null 2>&1
        __AF_special_lambda_impl815_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__568=$__AF_cons_car107_v0;
    local ctx=$__AF_cons_car107_v0__568
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__569=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__569
    object_is_text__99_v0 ${ctx};
    __AF_object_is_text99_v0__570=$__AF_object_is_text99_v0;
    if [ $(echo  '!' $__AF_object_is_text99_v0__570 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__571="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__571="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__571}" "invalid argument list: ""${__AF_object_to_string148_v0__571}";
        __AF_new_err40_v0__571=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__571[@];
        __AF_native_return581_v0__571=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__571 > /dev/null 2>&1
        __AF_special_lambda_impl815_v0='';
        return 0
fi
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__574=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__574 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__575="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__575="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__575}" "invalid argument list: ""${__AF_object_to_string148_v0__575}";
        __AF_new_err40_v0__575=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__575[@];
        __AF_native_return581_v0__575=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__575 > /dev/null 2>&1
        __AF_special_lambda_impl815_v0='';
        return 0
fi
    text_value__105_v0 ${ctx};
    __AF_text_value105_v0__578="${__AF_text_value105_v0}";
    local ctx="${__AF_text_value105_v0__578}"
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__579=$__AF_cons_car107_v0;
    local params=$__AF_cons_car107_v0__579
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__580=$__AF_cons_cdr108_v0;
    local body=$__AF_cons_cdr108_v0__580
    local iter=${params}
    while :
do
        object_is_nil__102_v0 ${iter};
        __AF_object_is_nil102_v0__584=$__AF_object_is_nil102_v0;
        if [ $__AF_object_is_nil102_v0__584 != 0 ]; then
            break
fi
        object_is_cons__103_v0 ${iter};
        __AF_object_is_cons103_v0__587=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__587 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_syntax_error__31_v0 ;
            __AF_code_syntax_error31_v0__588="${__AF_code_syntax_error31_v0}";
            object_to_string__148_v0 ${params};
            __AF_object_to_string148_v0__588="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_syntax_error31_v0__588}" "invalid parameter list: ""${__AF_object_to_string148_v0__588}";
            __AF_new_err40_v0__588=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__588[@];
            __AF_native_return581_v0__588=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__588 > /dev/null 2>&1
            __AF_special_lambda_impl815_v0='';
            return 0
fi
        cons_car__107_v0 ${iter};
        __AF_cons_car107_v0__591=$__AF_cons_car107_v0;
        local param=$__AF_cons_car107_v0__591
        cons_cdr__108_v0 ${iter};
        __AF_cons_cdr108_v0__592=$__AF_cons_cdr108_v0;
        iter=$__AF_cons_cdr108_v0__592
        object_is_symbol__100_v0 ${param};
        __AF_object_is_symbol100_v0__593=$__AF_object_is_symbol100_v0;
        if [ $(echo  '!' $__AF_object_is_symbol100_v0__593 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_syntax_error__31_v0 ;
            __AF_code_syntax_error31_v0__594="${__AF_code_syntax_error31_v0}";
            object_to_string__148_v0 ${params};
            __AF_object_to_string148_v0__594="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_syntax_error31_v0__594}" "invalid parameter list: ""${__AF_object_to_string148_v0__594}";
            __AF_new_err40_v0__594=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__594[@];
            __AF_native_return581_v0__594=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__594 > /dev/null 2>&1
            __AF_special_lambda_impl815_v0='';
            return 0
fi
done
    local name="${ctx}""/<lambda>"
    new_text__120_v0 "${name}";
    __AF_new_text120_v0__599=$__AF_new_text120_v0;
    local name=$__AF_new_text120_v0__599
    new_closure__133_v0 ${name} ${params} ${body} ${env};
    __AF_new_closure133_v0__600=$__AF_new_closure133_v0;
    local cl=$__AF_new_closure133_v0__600
    new_ok__39_v0 ${cl};
    __AF_new_ok39_v0__601=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__601[@];
    __AF_native_return581_v0__601=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__601 > /dev/null 2>&1
    __AF_special_lambda_impl815_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__605=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__605 > /dev/null 2>&1
special_lambda_impl__815_v0 ;
__AF_special_lambda_impl815_v0__606=$__AF_special_lambda_impl815_v0;
echo $__AF_special_lambda_impl815_v0__606 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__607="${__AF_native_get_last_funcref579_v0}";
__23__funcref_special_lambda="${__AF_native_get_last_funcref579_v0__607}"
__34__special_begin_desc="Evaluates a sequence of expressions.

\`\`\`
> (begin
    (echo \"Hello\")
    123)
Hello
;=> 123
\`\`\`
"
function special_begin_impl__817_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__625=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__625[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__626=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__626 != 0 ]; then
        __AF_special_begin_impl817_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__629=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__629
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__630=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__630 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__631="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__631="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__631}" "invalid argument list: ""${__AF_object_to_string148_v0__631}";
        __AF_new_err40_v0__631=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__631[@];
        __AF_native_return581_v0__631=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__631 > /dev/null 2>&1
        __AF_special_begin_impl817_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__634=$__AF_cons_car107_v0;
    local env=$__AF_cons_car107_v0__634
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__635=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__635
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__636=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__636 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__637="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__637="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__637}" "invalid argument list: ""${__AF_object_to_string148_v0__637}";
        __AF_new_err40_v0__637=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__637[@];
        __AF_native_return581_v0__637=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__637 > /dev/null 2>&1
        __AF_special_begin_impl817_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__640=$__AF_cons_car107_v0;
    local ctx=$__AF_cons_car107_v0__640
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__641=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__641
    object_is_text__99_v0 ${ctx};
    __AF_object_is_text99_v0__642=$__AF_object_is_text99_v0;
    if [ $(echo  '!' $__AF_object_is_text99_v0__642 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__643="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__643="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__643}" "invalid argument list: ""${__AF_object_to_string148_v0__643}";
        __AF_new_err40_v0__643=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__643[@];
        __AF_native_return581_v0__643=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__643 > /dev/null 2>&1
        __AF_special_begin_impl817_v0='';
        return 0
fi
    local body=${args}
    text_value__105_v0 ${ctx};
    __AF_text_value105_v0__648="${__AF_text_value105_v0}";
    eval_sequence__593_v0 ${body} ${env} "${__AF_text_value105_v0__648}";
    __AF_eval_sequence593_v0__648=("${__AF_eval_sequence593_v0[@]}");
    local result=("${__AF_eval_sequence593_v0__648[@]}")
    native_return__581_v0 result[@];
    __AF_native_return581_v0__649=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__649 > /dev/null 2>&1
    __AF_special_begin_impl817_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__653=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__653 > /dev/null 2>&1
special_begin_impl__817_v0 ;
__AF_special_begin_impl817_v0__654=$__AF_special_begin_impl817_v0;
echo $__AF_special_begin_impl817_v0__654 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__655="${__AF_native_get_last_funcref579_v0}";
__24__funcref_special_begin="${__AF_native_get_last_funcref579_v0__655}"
__35__decl_def_desc="Defines a variable.

\`\`\`
> (def x (+ 1 2))
> x
;=> 3
\`\`\`
"
function decl_def_impl__819_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__671=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__671[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__672=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__672 != 0 ]; then
        __AF_decl_def_impl819_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__675=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__675
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__676=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__676 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__677="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__677="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__677}" "invalid argument list: ""${__AF_object_to_string148_v0__677}";
        __AF_new_err40_v0__677=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__677[@];
        __AF_native_return581_v0__677=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__677 > /dev/null 2>&1
        __AF_decl_def_impl819_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__680=$__AF_cons_car107_v0;
    local env=$__AF_cons_car107_v0__680
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__681=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__681
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__682=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__682 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__683="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__683="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__683}" "invalid argument list: ""${__AF_object_to_string148_v0__683}";
        __AF_new_err40_v0__683=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__683[@];
        __AF_native_return581_v0__683=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__683 > /dev/null 2>&1
        __AF_decl_def_impl819_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__686=$__AF_cons_car107_v0;
    local ctx=$__AF_cons_car107_v0__686
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__687=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__687
    object_is_text__99_v0 ${ctx};
    __AF_object_is_text99_v0__688=$__AF_object_is_text99_v0;
    if [ $(echo  '!' $__AF_object_is_text99_v0__688 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__689="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__689="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__689}" "invalid argument list: ""${__AF_object_to_string148_v0__689}";
        __AF_new_err40_v0__689=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__689[@];
        __AF_native_return581_v0__689=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__689 > /dev/null 2>&1
        __AF_decl_def_impl819_v0='';
        return 0
fi
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__692=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__692 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__693="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__693="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__693}" "invalid argument list: ""${__AF_object_to_string148_v0__693}";
        __AF_new_err40_v0__693=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__693[@];
        __AF_native_return581_v0__693=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__693 > /dev/null 2>&1
        __AF_decl_def_impl819_v0='';
        return 0
fi
    text_value__105_v0 ${ctx};
    __AF_text_value105_v0__696="${__AF_text_value105_v0}";
    local ctx="${__AF_text_value105_v0__696}"
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__697=$__AF_cons_car107_v0;
    local name=$__AF_cons_car107_v0__697
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__698=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__698
    object_is_symbol__100_v0 ${name};
    __AF_object_is_symbol100_v0__699=$__AF_object_is_symbol100_v0;
    if [ $(echo  '!' $__AF_object_is_symbol100_v0__699 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__700="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${name};
        __AF_object_to_string148_v0__700="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__700}" "invalid variable name: ""${__AF_object_to_string148_v0__700}";
        __AF_new_err40_v0__700=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__700[@];
        __AF_native_return581_v0__700=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__700 > /dev/null 2>&1
        __AF_decl_def_impl819_v0='';
        return 0
fi
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__703=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__703 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__704="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__704="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__704}" "invalid argument list: ""${__AF_object_to_string148_v0__704}";
        __AF_new_err40_v0__704=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__704[@];
        __AF_native_return581_v0__704=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__704 > /dev/null 2>&1
        __AF_decl_def_impl819_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__707=$__AF_cons_car107_v0;
    local expr=$__AF_cons_car107_v0__707
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__708=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__708
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__709=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__709 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__710="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__710="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__710}" "invalid argument list: ""${__AF_object_to_string148_v0__710}";
        __AF_new_err40_v0__710=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__710[@];
        __AF_native_return581_v0__710=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__710 > /dev/null 2>&1
        __AF_decl_def_impl819_v0='';
        return 0
fi
    eval_expr__592_v0 ${expr} ${env} "${ctx}";
    __AF_eval_expr592_v0__713=("${__AF_eval_expr592_v0[@]}");
    local value_result=("${__AF_eval_expr592_v0__713[@]}")
    result_is_err__42_v0 value_result[@];
    __AF_result_is_err42_v0__714=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__714 != 0 ]; then
        native_return__581_v0 value_result[@];
        __AF_native_return581_v0__715=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__715 > /dev/null 2>&1
        __AF_decl_def_impl819_v0='';
        return 0
fi
    ok_val__43_v0 value_result[@];
    __AF_ok_val43_v0__718=$__AF_ok_val43_v0;
    local value=$__AF_ok_val43_v0__718
    env_define__295_v0 ${env} ${name} ${value};
    __AF_env_define295_v0__719=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__719
    new_ok__39_v0 ${env};
    __AF_new_ok39_v0__720=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__720[@];
    __AF_native_return581_v0__720=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__720 > /dev/null 2>&1
    __AF_decl_def_impl819_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__724=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__724 > /dev/null 2>&1
decl_def_impl__819_v0 ;
__AF_decl_def_impl819_v0__725=$__AF_decl_def_impl819_v0;
echo $__AF_decl_def_impl819_v0__725 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__726="${__AF_native_get_last_funcref579_v0}";
__25__funcref_decl_def="${__AF_native_get_last_funcref579_v0__726}"
__36__decl_defun_desc="Defines a function.

\`\`\`
> (defun incr (x) (+ x 1))
> (incr 3)
;=> 4
> (defun sum (xs) (if xs (+ (car xs) (sum (cdr xs)) 0)))
> (sum '(1 2 3))
;=> 6
\`\`\`
"
function decl_defun_impl__821_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__745=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__745[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__746=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__746 != 0 ]; then
        __AF_decl_defun_impl821_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__749=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__749
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__750=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__750 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__751="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__751="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__751}" "invalid argument list: ""${__AF_object_to_string148_v0__751}";
        __AF_new_err40_v0__751=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__751[@];
        __AF_native_return581_v0__751=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__751 > /dev/null 2>&1
        __AF_decl_defun_impl821_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__754=$__AF_cons_car107_v0;
    local env=$__AF_cons_car107_v0__754
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__755=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__755
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__756=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__756 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__757="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__757="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__757}" "invalid argument list: ""${__AF_object_to_string148_v0__757}";
        __AF_new_err40_v0__757=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__757[@];
        __AF_native_return581_v0__757=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__757 > /dev/null 2>&1
        __AF_decl_defun_impl821_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__760=$__AF_cons_car107_v0;
    local ctx=$__AF_cons_car107_v0__760
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__761=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__761
    object_is_text__99_v0 ${ctx};
    __AF_object_is_text99_v0__762=$__AF_object_is_text99_v0;
    if [ $(echo  '!' $__AF_object_is_text99_v0__762 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__763="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__763="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__763}" "invalid argument list: ""${__AF_object_to_string148_v0__763}";
        __AF_new_err40_v0__763=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__763[@];
        __AF_native_return581_v0__763=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__763 > /dev/null 2>&1
        __AF_decl_defun_impl821_v0='';
        return 0
fi
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__766=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__766 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__767="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__767="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__767}" "invalid argument list: ""${__AF_object_to_string148_v0__767}";
        __AF_new_err40_v0__767=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__767[@];
        __AF_native_return581_v0__767=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__767 > /dev/null 2>&1
        __AF_decl_defun_impl821_v0='';
        return 0
fi
    text_value__105_v0 ${ctx};
    __AF_text_value105_v0__770="${__AF_text_value105_v0}";
    local ctx="${__AF_text_value105_v0__770}"
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__771=$__AF_cons_car107_v0;
    local name=$__AF_cons_car107_v0__771
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__772=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__772
    object_is_symbol__100_v0 ${name};
    __AF_object_is_symbol100_v0__773=$__AF_object_is_symbol100_v0;
    if [ $(echo  '!' $__AF_object_is_symbol100_v0__773 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__774="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${name};
        __AF_object_to_string148_v0__774="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__774}" "invalid variable name: ""${__AF_object_to_string148_v0__774}";
        __AF_new_err40_v0__774=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__774[@];
        __AF_native_return581_v0__774=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__774 > /dev/null 2>&1
        __AF_decl_defun_impl821_v0='';
        return 0
fi
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__777=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__777 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__778="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__778="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__778}" "invalid argument list: ""${__AF_object_to_string148_v0__778}";
        __AF_new_err40_v0__778=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__778[@];
        __AF_native_return581_v0__778=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__778 > /dev/null 2>&1
        __AF_decl_defun_impl821_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__781=$__AF_cons_car107_v0;
    local params=$__AF_cons_car107_v0__781
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__782=$__AF_cons_cdr108_v0;
    local body=$__AF_cons_cdr108_v0__782
    object_is_cons__103_v0 ${body};
    __AF_object_is_cons103_v0__783=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__783 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__784="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__784="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__784}" "invalid argument list: ""${__AF_object_to_string148_v0__784}";
        __AF_new_err40_v0__784=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__784[@];
        __AF_native_return581_v0__784=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__784 > /dev/null 2>&1
        __AF_decl_defun_impl821_v0='';
        return 0
fi
    local iter=${params}
    while :
do
        object_is_nil__102_v0 ${iter};
        __AF_object_is_nil102_v0__789=$__AF_object_is_nil102_v0;
        if [ $__AF_object_is_nil102_v0__789 != 0 ]; then
            break
fi
        object_is_cons__103_v0 ${iter};
        __AF_object_is_cons103_v0__792=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__792 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__793="${__AF_code_invalid_argument30_v0}";
            object_to_string__148_v0 ${params};
            __AF_object_to_string148_v0__793="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__793}" "invalid function parameter list: ""${__AF_object_to_string148_v0__793}";
            __AF_new_err40_v0__793=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__793[@];
            __AF_native_return581_v0__793=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__793 > /dev/null 2>&1
            __AF_decl_defun_impl821_v0='';
            return 0
fi
        cons_car__107_v0 ${iter};
        __AF_cons_car107_v0__796=$__AF_cons_car107_v0;
        local param=$__AF_cons_car107_v0__796
        cons_cdr__108_v0 ${iter};
        __AF_cons_cdr108_v0__797=$__AF_cons_cdr108_v0;
        iter=$__AF_cons_cdr108_v0__797
        object_is_symbol__100_v0 ${param};
        __AF_object_is_symbol100_v0__798=$__AF_object_is_symbol100_v0;
        if [ $(echo  '!' $__AF_object_is_symbol100_v0__798 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__799="${__AF_code_invalid_argument30_v0}";
            object_to_string__148_v0 ${param};
            __AF_object_to_string148_v0__799="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__799}" "invalid function parameter: ""${__AF_object_to_string148_v0__799}";
            __AF_new_err40_v0__799=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__799[@];
            __AF_native_return581_v0__799=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__799 > /dev/null 2>&1
            __AF_decl_defun_impl821_v0='';
            return 0
fi
done
    new_nil__123_v0 ;
    __AF_new_nil123_v0__804=$__AF_new_nil123_v0;
    env_define__295_v0 ${env} ${name} $__AF_new_nil123_v0__804;
    __AF_env_define295_v0__804=$__AF_env_define295_v0;
    local body_env=$__AF_env_define295_v0__804
    new_closure__133_v0 ${name} ${params} ${body} ${body_env};
    __AF_new_closure133_v0__805=$__AF_new_closure133_v0;
    local cl=$__AF_new_closure133_v0__805
    env_define__295_v0 ${env} ${name} ${cl};
    __AF_env_define295_v0__806=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__806
    env_set__297_v0 ${body_env} ${name} ${cl};
    __AF_env_set297_v0__807=("${__AF_env_set297_v0[@]}");
    echo "${__AF_env_set297_v0__807[@]}" > /dev/null 2>&1
    new_ok__39_v0 ${env};
    __AF_new_ok39_v0__808=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__808[@];
    __AF_native_return581_v0__808=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__808 > /dev/null 2>&1
    __AF_decl_defun_impl821_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__812=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__812 > /dev/null 2>&1
decl_defun_impl__821_v0 ;
__AF_decl_defun_impl821_v0__813=$__AF_decl_defun_impl821_v0;
echo $__AF_decl_defun_impl821_v0__813 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__814="${__AF_native_get_last_funcref579_v0}";
__26__funcref_decl_defun="${__AF_native_get_last_funcref579_v0__814}"
function runtime_corelib_syntax_import__822_v0 {
    local env=$1
    new_symbol__121_v0 "quote";
    __AF_new_symbol121_v0__821=$__AF_new_symbol121_v0;
    new_special_form__129_v0 "${__17__funcref_special_quote}" "${__27__special_quote_desc}";
    __AF_new_special_form129_v0__821=$__AF_new_special_form129_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__821 $__AF_new_special_form129_v0__821;
    __AF_env_define295_v0__821=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__821
    new_symbol__121_v0 "lambda";
    __AF_new_symbol121_v0__822=$__AF_new_symbol121_v0;
    new_special_form__129_v0 "${__23__funcref_special_lambda}" "${__33__special_lambda_desc}";
    __AF_new_special_form129_v0__822=$__AF_new_special_form129_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__822 $__AF_new_special_form129_v0__822;
    __AF_env_define295_v0__822=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__822
    new_symbol__121_v0 "set!";
    __AF_new_symbol121_v0__823=$__AF_new_symbol121_v0;
    new_special_form__129_v0 "${__18__funcref_special_set}" "${__28__special_set_desc}";
    __AF_new_special_form129_v0__823=$__AF_new_special_form129_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__823 $__AF_new_special_form129_v0__823;
    __AF_env_define295_v0__823=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__823
    new_symbol__121_v0 "begin";
    __AF_new_symbol121_v0__824=$__AF_new_symbol121_v0;
    new_special_form__129_v0 "${__24__funcref_special_begin}" "${__34__special_begin_desc}";
    __AF_new_special_form129_v0__824=$__AF_new_special_form129_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__824 $__AF_new_special_form129_v0__824;
    __AF_env_define295_v0__824=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__824
    new_symbol__121_v0 "cond";
    __AF_new_symbol121_v0__825=$__AF_new_symbol121_v0;
    new_special_form__129_v0 "${__20__funcref_special_cond}" "${__30__special_cond_desc}";
    __AF_new_special_form129_v0__825=$__AF_new_special_form129_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__825 $__AF_new_special_form129_v0__825;
    __AF_env_define295_v0__825=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__825
    new_symbol__121_v0 "if";
    __AF_new_symbol121_v0__826=$__AF_new_symbol121_v0;
    new_special_form__129_v0 "${__19__funcref_special_if}" "${__29__special_if_desc}";
    __AF_new_special_form129_v0__826=$__AF_new_special_form129_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__826 $__AF_new_special_form129_v0__826;
    __AF_env_define295_v0__826=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__826
    new_symbol__121_v0 "letrec";
    __AF_new_symbol121_v0__827=$__AF_new_symbol121_v0;
    new_special_form__129_v0 "${__22__funcref_special_letrec}" "${__32__special_letrec_desc}";
    __AF_new_special_form129_v0__827=$__AF_new_special_form129_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__827 $__AF_new_special_form129_v0__827;
    __AF_env_define295_v0__827=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__827
    new_symbol__121_v0 "let";
    __AF_new_symbol121_v0__828=$__AF_new_symbol121_v0;
    new_special_form__129_v0 "${__21__funcref_special_let}" "${__31__special_let_desc}";
    __AF_new_special_form129_v0__828=$__AF_new_special_form129_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__828 $__AF_new_special_form129_v0__828;
    __AF_env_define295_v0__828=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__828
    new_symbol__121_v0 "defun";
    __AF_new_symbol121_v0__829=$__AF_new_symbol121_v0;
    new_decl__139_v0 "${__26__funcref_decl_defun}" "${__36__decl_defun_desc}";
    __AF_new_decl139_v0__829=$__AF_new_decl139_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__829 $__AF_new_decl139_v0__829;
    __AF_env_define295_v0__829=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__829
    new_symbol__121_v0 "def";
    __AF_new_symbol121_v0__830=$__AF_new_symbol121_v0;
    new_decl__139_v0 "${__25__funcref_decl_def}" "${__35__decl_def_desc}";
    __AF_new_decl139_v0__830=$__AF_new_decl139_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__830 $__AF_new_decl139_v0__830;
    __AF_env_define295_v0__830=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__830
    __AF_runtime_corelib_syntax_import822_v0=${env};
    return 0
}
__37__funcref_eqv=""
__38__funcref_equal=""
__39__funcref_cons=""
__40__funcref_car=""
__41__funcref_cdr=""
__42__funcref_set_car=""
__43__funcref_set_cdr=""
__44__funcref_is_num=""
__45__funcref_is_text=""
__46__funcref_is_symbol=""
__47__funcref_is_t=""
__48__funcref_is_nil=""
__49__funcref_is_cons=""
__50__eqv_desc="Returns \`t\` if the arguments are the same; otherwise returns \`nil\`.

\`\`\`
> (eqv? 1 1)
;=> t
> (eqv? 1 2)
;=> nil
> (eqv? \"foo\" 'foo)
;=> nil
> (eqv? (cons 1 2) (cons 1 2))
;=> nil
> (let ((pair (cons 1 2)))
    (eqv? pair pair))
;=> t
\`\`\`
"
function eqv_impl__935_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__45=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__45[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__46=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__46 != 0 ]; then
        __AF_eqv_impl935_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__49=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__49
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__50=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__50 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__51="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__51="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__51}" "invalid argument list: ""${__AF_object_to_string148_v0__51}";
        __AF_new_err40_v0__51=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__51[@];
        __AF_native_return581_v0__51=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__51 > /dev/null 2>&1
        __AF_eqv_impl935_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__54=$__AF_cons_car107_v0;
    local lhs=$__AF_cons_car107_v0__54
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__55=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__55
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__56=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__56 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__57="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__57="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__57}" "invalid argument list: ""${__AF_object_to_string148_v0__57}";
        __AF_new_err40_v0__57=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__57[@];
        __AF_native_return581_v0__57=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__57 > /dev/null 2>&1
        __AF_eqv_impl935_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__60=$__AF_cons_car107_v0;
    local rhs=$__AF_cons_car107_v0__60
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__61=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__61
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__62=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__62 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__63="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__63="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__63}" "invalid argument list: ""${__AF_object_to_string148_v0__63}";
        __AF_new_err40_v0__63=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__63[@];
        __AF_native_return581_v0__63=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__63 > /dev/null 2>&1
        __AF_eqv_impl935_v0='';
        return 0
fi
    object_eqv__145_v0 ${lhs} ${rhs};
    __AF_object_eqv145_v0__66=$__AF_object_eqv145_v0;
    if [ $__AF_object_eqv145_v0__66 != 0 ]; then
        new_t__122_v0 ;
        __AF_new_t122_v0__67=$__AF_new_t122_v0;
        new_ok__39_v0 $__AF_new_t122_v0__67;
        __AF_new_ok39_v0__67=("${__AF_new_ok39_v0[@]}");
        native_return__581_v0 __AF_new_ok39_v0__67[@];
        __AF_native_return581_v0__67=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__67 > /dev/null 2>&1
        __AF_eqv_impl935_v0='';
        return 0
fi
    new_nil__123_v0 ;
    __AF_new_nil123_v0__70=$__AF_new_nil123_v0;
    new_ok__39_v0 $__AF_new_nil123_v0__70;
    __AF_new_ok39_v0__70=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__70[@];
    __AF_native_return581_v0__70=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__70 > /dev/null 2>&1
    __AF_eqv_impl935_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__74=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__74 > /dev/null 2>&1
eqv_impl__935_v0 ;
__AF_eqv_impl935_v0__75=$__AF_eqv_impl935_v0;
echo $__AF_eqv_impl935_v0__75 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__76="${__AF_native_get_last_funcref579_v0}";
__37__funcref_eqv="${__AF_native_get_last_funcref579_v0__76}"
__51__equal_desc="Returns \`t\` if the arguments are structually equal; otherwise returns \`nil\`.

\`\`\`
> (equal? 1 1)
;=> t
> (equal? 1 2)
;=> nil
> (equal? \"foo\" 'foo)
;=> nil
> (equal? (cons 1 2) (cons 1 2))
;=> t
> (let ((pair (cons 1 2)))
    (equal? pair pair))
;=> t
\`\`\`
"
function equal_impl__937_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__100=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__100[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__101=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__101 != 0 ]; then
        __AF_equal_impl937_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__104=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__104
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__105=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__105 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__106="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__106="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__106}" "invalid argument list: ""${__AF_object_to_string148_v0__106}";
        __AF_new_err40_v0__106=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__106[@];
        __AF_native_return581_v0__106=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__106 > /dev/null 2>&1
        __AF_equal_impl937_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__109=$__AF_cons_car107_v0;
    local lhs=$__AF_cons_car107_v0__109
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__110=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__110
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__111=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__111 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__112="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__112="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__112}" "invalid argument list: ""${__AF_object_to_string148_v0__112}";
        __AF_new_err40_v0__112=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__112[@];
        __AF_native_return581_v0__112=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__112 > /dev/null 2>&1
        __AF_equal_impl937_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__115=$__AF_cons_car107_v0;
    local rhs=$__AF_cons_car107_v0__115
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__116=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__116
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__117=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__117 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__118="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__118="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__118}" "invalid argument list: ""${__AF_object_to_string148_v0__118}";
        __AF_new_err40_v0__118=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__118[@];
        __AF_native_return581_v0__118=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__118 > /dev/null 2>&1
        __AF_equal_impl937_v0='';
        return 0
fi
    object_equal__146_v0 ${lhs} ${rhs};
    __AF_object_equal146_v0__121=$__AF_object_equal146_v0;
    if [ $__AF_object_equal146_v0__121 != 0 ]; then
        new_t__122_v0 ;
        __AF_new_t122_v0__122=$__AF_new_t122_v0;
        new_ok__39_v0 $__AF_new_t122_v0__122;
        __AF_new_ok39_v0__122=("${__AF_new_ok39_v0[@]}");
        native_return__581_v0 __AF_new_ok39_v0__122[@];
        __AF_native_return581_v0__122=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__122 > /dev/null 2>&1
        __AF_equal_impl937_v0='';
        return 0
fi
    new_nil__123_v0 ;
    __AF_new_nil123_v0__125=$__AF_new_nil123_v0;
    new_ok__39_v0 $__AF_new_nil123_v0__125;
    __AF_new_ok39_v0__125=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__125[@];
    __AF_native_return581_v0__125=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__125 > /dev/null 2>&1
    __AF_equal_impl937_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__129=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__129 > /dev/null 2>&1
equal_impl__937_v0 ;
__AF_equal_impl937_v0__130=$__AF_equal_impl937_v0;
echo $__AF_equal_impl937_v0__130 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__131="${__AF_native_get_last_funcref579_v0}";
__38__funcref_equal="${__AF_native_get_last_funcref579_v0__131}"
__52__cons_desc="Makes a cons-cell.

\`\`\`
> (cons 1 2)
;=> (1 . 2)
> (cons 'a (cons 'b (cons 'c nil)))
;=> (a b c)
\`\`\`
"
function cons_impl__939_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__148=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__148[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__149=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__149 != 0 ]; then
        __AF_cons_impl939_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__152=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__152
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__153=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__153 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__154="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__154="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__154}" "invalid argument list: ""${__AF_object_to_string148_v0__154}";
        __AF_new_err40_v0__154=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__154[@];
        __AF_native_return581_v0__154=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__154 > /dev/null 2>&1
        __AF_cons_impl939_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__157=$__AF_cons_car107_v0;
    local car=$__AF_cons_car107_v0__157
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__158=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__158
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__159=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__159 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__160="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__160="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__160}" "invalid argument list: ""${__AF_object_to_string148_v0__160}";
        __AF_new_err40_v0__160=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__160[@];
        __AF_native_return581_v0__160=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__160 > /dev/null 2>&1
        __AF_cons_impl939_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__163=$__AF_cons_car107_v0;
    local cdr=$__AF_cons_car107_v0__163
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__164=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__164
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__165=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__165 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__166="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__166="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__166}" "invalid argument list: ""${__AF_object_to_string148_v0__166}";
        __AF_new_err40_v0__166=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__166[@];
        __AF_native_return581_v0__166=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__166 > /dev/null 2>&1
        __AF_cons_impl939_v0='';
        return 0
fi
    new_cons__124_v0 ${car} ${cdr};
    __AF_new_cons124_v0__169=$__AF_new_cons124_v0;
    local pair=$__AF_new_cons124_v0__169
    new_ok__39_v0 ${pair};
    __AF_new_ok39_v0__170=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__170[@];
    __AF_native_return581_v0__170=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__170 > /dev/null 2>&1
    __AF_cons_impl939_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__174=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__174 > /dev/null 2>&1
cons_impl__939_v0 ;
__AF_cons_impl939_v0__175=$__AF_cons_impl939_v0;
echo $__AF_cons_impl939_v0__175 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__176="${__AF_native_get_last_funcref579_v0}";
__39__funcref_cons="${__AF_native_get_last_funcref579_v0__176}"
__53__car_desc="Returns the first element of a cons-cell.

\`\`\`
> (car (cons 1 2))
;=> 1
\`\`\`
"
function car_impl__941_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__191=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__191[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__192=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__192 != 0 ]; then
        __AF_car_impl941_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__195=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__195
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__196=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__196 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__197="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__197="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__197}" "invalid argument list: ""${__AF_object_to_string148_v0__197}";
        __AF_new_err40_v0__197=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__197[@];
        __AF_native_return581_v0__197=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__197 > /dev/null 2>&1
        __AF_car_impl941_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__200=$__AF_cons_car107_v0;
    local pair=$__AF_cons_car107_v0__200
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__201=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__201
    object_is_cons__103_v0 ${pair};
    __AF_object_is_cons103_v0__202=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__202 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__203="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__203="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__203}" "invalid argument list: ""${__AF_object_to_string148_v0__203}";
        __AF_new_err40_v0__203=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__203[@];
        __AF_native_return581_v0__203=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__203 > /dev/null 2>&1
        __AF_car_impl941_v0='';
        return 0
fi
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__206=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__206 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__207="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__207="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__207}" "invalid argument list: ""${__AF_object_to_string148_v0__207}";
        __AF_new_err40_v0__207=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__207[@];
        __AF_native_return581_v0__207=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__207 > /dev/null 2>&1
        __AF_car_impl941_v0='';
        return 0
fi
    cons_car__107_v0 ${pair};
    __AF_cons_car107_v0__210=$__AF_cons_car107_v0;
    local car=$__AF_cons_car107_v0__210
    new_ok__39_v0 ${car};
    __AF_new_ok39_v0__211=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__211[@];
    __AF_native_return581_v0__211=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__211 > /dev/null 2>&1
    __AF_car_impl941_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__215=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__215 > /dev/null 2>&1
car_impl__941_v0 ;
__AF_car_impl941_v0__216=$__AF_car_impl941_v0;
echo $__AF_car_impl941_v0__216 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__217="${__AF_native_get_last_funcref579_v0}";
__40__funcref_car="${__AF_native_get_last_funcref579_v0__217}"
__54__cdr_desc="Returns the second element of a cons-cell.

\`\`\`
> (cdr (cons 1 2))
;=> 2
\`\`\`
"
function cdr_impl__943_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__232=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__232[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__233=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__233 != 0 ]; then
        __AF_cdr_impl943_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__236=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__236
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__237=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__237 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__238="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__238="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__238}" "invalid argument list: ""${__AF_object_to_string148_v0__238}";
        __AF_new_err40_v0__238=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__238[@];
        __AF_native_return581_v0__238=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__238 > /dev/null 2>&1
        __AF_cdr_impl943_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__241=$__AF_cons_car107_v0;
    local pair=$__AF_cons_car107_v0__241
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__242=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__242
    object_is_cons__103_v0 ${pair};
    __AF_object_is_cons103_v0__243=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__243 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__244="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__244="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__244}" "invalid argument list: ""${__AF_object_to_string148_v0__244}";
        __AF_new_err40_v0__244=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__244[@];
        __AF_native_return581_v0__244=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__244 > /dev/null 2>&1
        __AF_cdr_impl943_v0='';
        return 0
fi
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__247=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__247 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__248="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__248="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__248}" "invalid argument list: ""${__AF_object_to_string148_v0__248}";
        __AF_new_err40_v0__248=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__248[@];
        __AF_native_return581_v0__248=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__248 > /dev/null 2>&1
        __AF_cdr_impl943_v0='';
        return 0
fi
    cons_cdr__108_v0 ${pair};
    __AF_cons_cdr108_v0__251=$__AF_cons_cdr108_v0;
    local cdr=$__AF_cons_cdr108_v0__251
    new_ok__39_v0 ${cdr};
    __AF_new_ok39_v0__252=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__252[@];
    __AF_native_return581_v0__252=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__252 > /dev/null 2>&1
    __AF_cdr_impl943_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__256=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__256 > /dev/null 2>&1
cdr_impl__943_v0 ;
__AF_cdr_impl943_v0__257=$__AF_cdr_impl943_v0;
echo $__AF_cdr_impl943_v0__257 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__258="${__AF_native_get_last_funcref579_v0}";
__41__funcref_cdr="${__AF_native_get_last_funcref579_v0__258}"
__55__set_car_desc="Updates the first element of a cons-cell.

\`\`\`
> (let ((pair (cons 1 2)))
      (set-car! pair 999)
      pair)
;=> (999 . 2)
\`\`\`
"
function set_car_impl__945_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__275=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__275[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__276=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__276 != 0 ]; then
        __AF_set_car_impl945_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__279=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__279
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__280=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__280 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__281="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__281="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__281}" "invalid argument list: ""${__AF_object_to_string148_v0__281}";
        __AF_new_err40_v0__281=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__281[@];
        __AF_native_return581_v0__281=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__281 > /dev/null 2>&1
        __AF_set_car_impl945_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__284=$__AF_cons_car107_v0;
    local pair=$__AF_cons_car107_v0__284
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__285=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__285
    object_is_cons__103_v0 ${pair};
    __AF_object_is_cons103_v0__286=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__286 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__287="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__287="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__287}" "invalid argument list: ""${__AF_object_to_string148_v0__287}";
        __AF_new_err40_v0__287=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__287[@];
        __AF_native_return581_v0__287=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__287 > /dev/null 2>&1
        __AF_set_car_impl945_v0='';
        return 0
fi
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__290=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__290 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__291="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__291="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__291}" "invalid argument list: ""${__AF_object_to_string148_v0__291}";
        __AF_new_err40_v0__291=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__291[@];
        __AF_native_return581_v0__291=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__291 > /dev/null 2>&1
        __AF_set_car_impl945_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__294=$__AF_cons_car107_v0;
    local new_car=$__AF_cons_car107_v0__294
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__295=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__295
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__296=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__296 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__297="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__297="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__297}" "invalid argument list: ""${__AF_object_to_string148_v0__297}";
        __AF_new_err40_v0__297=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__297[@];
        __AF_native_return581_v0__297=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__297 > /dev/null 2>&1
        __AF_set_car_impl945_v0='';
        return 0
fi
    cons_set_car__115_v0 ${pair} ${new_car};
    __AF_cons_set_car115_v0__300=$__AF_cons_set_car115_v0;
    echo $__AF_cons_set_car115_v0__300 > /dev/null 2>&1
    new_nil__123_v0 ;
    __AF_new_nil123_v0__301=$__AF_new_nil123_v0;
    new_ok__39_v0 $__AF_new_nil123_v0__301;
    __AF_new_ok39_v0__301=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__301[@];
    __AF_native_return581_v0__301=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__301 > /dev/null 2>&1
    __AF_set_car_impl945_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__305=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__305 > /dev/null 2>&1
set_car_impl__945_v0 ;
__AF_set_car_impl945_v0__306=$__AF_set_car_impl945_v0;
echo $__AF_set_car_impl945_v0__306 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__307="${__AF_native_get_last_funcref579_v0}";
__42__funcref_set_car="${__AF_native_get_last_funcref579_v0__307}"
__56__set_cdr_desc="Updates the second element of a cons-cell.

\`\`\`
> (let ((pair (cons 1 2)))
      (set-cdr! pair 999)
      pair)
;=> (1 . 999)
\`\`\`
"
function set_cdr_impl__947_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__324=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__324[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__325=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__325 != 0 ]; then
        __AF_set_cdr_impl947_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__328=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__328
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__329=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__329 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__330="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__330="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__330}" "invalid argument list: ""${__AF_object_to_string148_v0__330}";
        __AF_new_err40_v0__330=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__330[@];
        __AF_native_return581_v0__330=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__330 > /dev/null 2>&1
        __AF_set_cdr_impl947_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__333=$__AF_cons_car107_v0;
    local pair=$__AF_cons_car107_v0__333
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__334=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__334
    object_is_cons__103_v0 ${pair};
    __AF_object_is_cons103_v0__335=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__335 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__336="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__336="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__336}" "invalid argument list: ""${__AF_object_to_string148_v0__336}";
        __AF_new_err40_v0__336=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__336[@];
        __AF_native_return581_v0__336=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__336 > /dev/null 2>&1
        __AF_set_cdr_impl947_v0='';
        return 0
fi
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__339=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__339 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__340="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__340="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__340}" "invalid argument list: ""${__AF_object_to_string148_v0__340}";
        __AF_new_err40_v0__340=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__340[@];
        __AF_native_return581_v0__340=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__340 > /dev/null 2>&1
        __AF_set_cdr_impl947_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__343=$__AF_cons_car107_v0;
    local new_cdr=$__AF_cons_car107_v0__343
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__344=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__344
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__345=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__345 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__346="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__346="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__346}" "invalid argument list: ""${__AF_object_to_string148_v0__346}";
        __AF_new_err40_v0__346=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__346[@];
        __AF_native_return581_v0__346=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__346 > /dev/null 2>&1
        __AF_set_cdr_impl947_v0='';
        return 0
fi
    cons_set_cdr__116_v0 ${pair} ${new_cdr};
    __AF_cons_set_cdr116_v0__349=$__AF_cons_set_cdr116_v0;
    echo $__AF_cons_set_cdr116_v0__349 > /dev/null 2>&1
    new_nil__123_v0 ;
    __AF_new_nil123_v0__350=$__AF_new_nil123_v0;
    new_ok__39_v0 $__AF_new_nil123_v0__350;
    __AF_new_ok39_v0__350=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__350[@];
    __AF_native_return581_v0__350=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__350 > /dev/null 2>&1
    __AF_set_cdr_impl947_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__354=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__354 > /dev/null 2>&1
set_cdr_impl__947_v0 ;
__AF_set_cdr_impl947_v0__355=$__AF_set_cdr_impl947_v0;
echo $__AF_set_cdr_impl947_v0__355 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__356="${__AF_native_get_last_funcref579_v0}";
__43__funcref_set_cdr="${__AF_native_get_last_funcref579_v0__356}"
__57__is_num_desc="Returns \`t\` if an argument is a num; otherwise returns \`nil\`.

\`\`\`
> (num? 3)
;=> t
> (num? \"foo\")
;=> nil
\`\`\`
"
function is_num_impl__949_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__373=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__373[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__374=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__374 != 0 ]; then
        __AF_is_num_impl949_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__377=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__377
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__378=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__378 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__379="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__379="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__379}" "wrong number of arguments: ""${__AF_object_to_string148_v0__379}";
        __AF_new_err40_v0__379=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__379[@];
        __AF_native_return581_v0__379=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__379 > /dev/null 2>&1
        __AF_is_num_impl949_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__382=$__AF_cons_car107_v0;
    local obj=$__AF_cons_car107_v0__382
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__383=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__383
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__384=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__384 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__385="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__385="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__385}" "wrong number of arguments: ""${__AF_object_to_string148_v0__385}";
        __AF_new_err40_v0__385=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__385[@];
        __AF_native_return581_v0__385=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__385 > /dev/null 2>&1
        __AF_is_num_impl949_v0='';
        return 0
fi
    object_is_num__98_v0 ${obj};
    __AF_object_is_num98_v0__388=$__AF_object_is_num98_v0;
    if [ $__AF_object_is_num98_v0__388 != 0 ]; then
        new_t__122_v0 ;
        __AF_new_t122_v0__389=$__AF_new_t122_v0;
        new_ok__39_v0 $__AF_new_t122_v0__389;
        __AF_new_ok39_v0__389=("${__AF_new_ok39_v0[@]}");
        native_return__581_v0 __AF_new_ok39_v0__389[@];
        __AF_native_return581_v0__389=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__389 > /dev/null 2>&1
        __AF_is_num_impl949_v0='';
        return 0
fi
    new_nil__123_v0 ;
    __AF_new_nil123_v0__392=$__AF_new_nil123_v0;
    new_ok__39_v0 $__AF_new_nil123_v0__392;
    __AF_new_ok39_v0__392=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__392[@];
    __AF_native_return581_v0__392=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__392 > /dev/null 2>&1
    __AF_is_num_impl949_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__396=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__396 > /dev/null 2>&1
is_num_impl__949_v0 ;
__AF_is_num_impl949_v0__397=$__AF_is_num_impl949_v0;
echo $__AF_is_num_impl949_v0__397 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__398="${__AF_native_get_last_funcref579_v0}";
__44__funcref_is_num="${__AF_native_get_last_funcref579_v0__398}"
__58__is_text_desc="Returns \`t\` if an argument is a text; otherwise returns \`nil\`.

\`\`\`
> (text? \"foo\")
;=> t
> (text? 'bar)
;=> nil
\`\`\`
"
function is_text_impl__951_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__416=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__416[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__417=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__417 != 0 ]; then
        __AF_is_text_impl951_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__420=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__420
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__421=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__421 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__422="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__422="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__422}" "wrong number of arguments: ""${__AF_object_to_string148_v0__422}";
        __AF_new_err40_v0__422=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__422[@];
        __AF_native_return581_v0__422=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__422 > /dev/null 2>&1
        __AF_is_text_impl951_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__425=$__AF_cons_car107_v0;
    local obj=$__AF_cons_car107_v0__425
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__426=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__426
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__427=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__427 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__428="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__428="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__428}" "wrong number of arguments: ""${__AF_object_to_string148_v0__428}";
        __AF_new_err40_v0__428=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__428[@];
        __AF_native_return581_v0__428=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__428 > /dev/null 2>&1
        __AF_is_text_impl951_v0='';
        return 0
fi
    object_is_text__99_v0 ${obj};
    __AF_object_is_text99_v0__431=$__AF_object_is_text99_v0;
    if [ $__AF_object_is_text99_v0__431 != 0 ]; then
        new_t__122_v0 ;
        __AF_new_t122_v0__432=$__AF_new_t122_v0;
        new_ok__39_v0 $__AF_new_t122_v0__432;
        __AF_new_ok39_v0__432=("${__AF_new_ok39_v0[@]}");
        native_return__581_v0 __AF_new_ok39_v0__432[@];
        __AF_native_return581_v0__432=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__432 > /dev/null 2>&1
        __AF_is_text_impl951_v0='';
        return 0
fi
    new_nil__123_v0 ;
    __AF_new_nil123_v0__435=$__AF_new_nil123_v0;
    new_ok__39_v0 $__AF_new_nil123_v0__435;
    __AF_new_ok39_v0__435=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__435[@];
    __AF_native_return581_v0__435=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__435 > /dev/null 2>&1
    __AF_is_text_impl951_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__439=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__439 > /dev/null 2>&1
is_text_impl__951_v0 ;
__AF_is_text_impl951_v0__440=$__AF_is_text_impl951_v0;
echo $__AF_is_text_impl951_v0__440 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__441="${__AF_native_get_last_funcref579_v0}";
__45__funcref_is_text="${__AF_native_get_last_funcref579_v0__441}"
__59__is_symbol_desc="Returns \`t\` if an argument is a symbol; otherwise returns \`nil\`.

\`\`\`
> (symbol? 'bar)
;=> t
> (symbol? t)
;=> nil
\`\`\`
"
function is_symbol_impl__953_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__459=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__459[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__460=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__460 != 0 ]; then
        __AF_is_symbol_impl953_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__463=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__463
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__464=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__464 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__465="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__465="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__465}" "wrong number of arguments: ""${__AF_object_to_string148_v0__465}";
        __AF_new_err40_v0__465=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__465[@];
        __AF_native_return581_v0__465=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__465 > /dev/null 2>&1
        __AF_is_symbol_impl953_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__468=$__AF_cons_car107_v0;
    local obj=$__AF_cons_car107_v0__468
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__469=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__469
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__470=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__470 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__471="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__471="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__471}" "wrong number of arguments: ""${__AF_object_to_string148_v0__471}";
        __AF_new_err40_v0__471=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__471[@];
        __AF_native_return581_v0__471=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__471 > /dev/null 2>&1
        __AF_is_symbol_impl953_v0='';
        return 0
fi
    object_is_symbol__100_v0 ${obj};
    __AF_object_is_symbol100_v0__474=$__AF_object_is_symbol100_v0;
    if [ $__AF_object_is_symbol100_v0__474 != 0 ]; then
        new_t__122_v0 ;
        __AF_new_t122_v0__475=$__AF_new_t122_v0;
        new_ok__39_v0 $__AF_new_t122_v0__475;
        __AF_new_ok39_v0__475=("${__AF_new_ok39_v0[@]}");
        native_return__581_v0 __AF_new_ok39_v0__475[@];
        __AF_native_return581_v0__475=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__475 > /dev/null 2>&1
        __AF_is_symbol_impl953_v0='';
        return 0
fi
    new_nil__123_v0 ;
    __AF_new_nil123_v0__478=$__AF_new_nil123_v0;
    new_ok__39_v0 $__AF_new_nil123_v0__478;
    __AF_new_ok39_v0__478=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__478[@];
    __AF_native_return581_v0__478=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__478 > /dev/null 2>&1
    __AF_is_symbol_impl953_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__482=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__482 > /dev/null 2>&1
is_symbol_impl__953_v0 ;
__AF_is_symbol_impl953_v0__483=$__AF_is_symbol_impl953_v0;
echo $__AF_is_symbol_impl953_v0__483 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__484="${__AF_native_get_last_funcref579_v0}";
__46__funcref_is_symbol="${__AF_native_get_last_funcref579_v0__484}"
__60__is_t_desc="Returns \`t\` if an argument is \`t\`; otherwise returns \`nil\`.

\`\`\`
> (t? t)
;=> t
> (t? nil)
;=> nil
\`\`\`
"
function is_t_impl__955_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__502=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__502[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__503=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__503 != 0 ]; then
        __AF_is_t_impl955_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__506=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__506
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__507=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__507 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__508="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__508="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__508}" "wrong number of arguments: ""${__AF_object_to_string148_v0__508}";
        __AF_new_err40_v0__508=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__508[@];
        __AF_native_return581_v0__508=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__508 > /dev/null 2>&1
        __AF_is_t_impl955_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__511=$__AF_cons_car107_v0;
    local obj=$__AF_cons_car107_v0__511
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__512=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__512
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__513=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__513 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__514="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__514="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__514}" "wrong number of arguments: ""${__AF_object_to_string148_v0__514}";
        __AF_new_err40_v0__514=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__514[@];
        __AF_native_return581_v0__514=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__514 > /dev/null 2>&1
        __AF_is_t_impl955_v0='';
        return 0
fi
    object_is_t__101_v0 ${obj};
    __AF_object_is_t101_v0__517=$__AF_object_is_t101_v0;
    if [ $__AF_object_is_t101_v0__517 != 0 ]; then
        new_t__122_v0 ;
        __AF_new_t122_v0__518=$__AF_new_t122_v0;
        new_ok__39_v0 $__AF_new_t122_v0__518;
        __AF_new_ok39_v0__518=("${__AF_new_ok39_v0[@]}");
        native_return__581_v0 __AF_new_ok39_v0__518[@];
        __AF_native_return581_v0__518=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__518 > /dev/null 2>&1
        __AF_is_t_impl955_v0='';
        return 0
fi
    new_nil__123_v0 ;
    __AF_new_nil123_v0__521=$__AF_new_nil123_v0;
    new_ok__39_v0 $__AF_new_nil123_v0__521;
    __AF_new_ok39_v0__521=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__521[@];
    __AF_native_return581_v0__521=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__521 > /dev/null 2>&1
    __AF_is_t_impl955_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__525=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__525 > /dev/null 2>&1
is_t_impl__955_v0 ;
__AF_is_t_impl955_v0__526=$__AF_is_t_impl955_v0;
echo $__AF_is_t_impl955_v0__526 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__527="${__AF_native_get_last_funcref579_v0}";
__47__funcref_is_t="${__AF_native_get_last_funcref579_v0__527}"
__61__is_nil_desc="Returns \`t\` if an argument is \`nil\`; otherwise returns \`nil\`.

\`\`\`
> (nil? nil)
;=> t
> (nil? (cons 1 2))
;=> nil
\`\`\`
"
function is_nil_impl__957_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__545=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__545[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__546=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__546 != 0 ]; then
        __AF_is_nil_impl957_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__549=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__549
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__550=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__550 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__551="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__551="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__551}" "wrong number of arguments: ""${__AF_object_to_string148_v0__551}";
        __AF_new_err40_v0__551=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__551[@];
        __AF_native_return581_v0__551=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__551 > /dev/null 2>&1
        __AF_is_nil_impl957_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__554=$__AF_cons_car107_v0;
    local obj=$__AF_cons_car107_v0__554
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__555=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__555
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__556=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__556 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__557="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__557="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__557}" "wrong number of arguments: ""${__AF_object_to_string148_v0__557}";
        __AF_new_err40_v0__557=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__557[@];
        __AF_native_return581_v0__557=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__557 > /dev/null 2>&1
        __AF_is_nil_impl957_v0='';
        return 0
fi
    object_is_nil__102_v0 ${obj};
    __AF_object_is_nil102_v0__560=$__AF_object_is_nil102_v0;
    if [ $__AF_object_is_nil102_v0__560 != 0 ]; then
        new_t__122_v0 ;
        __AF_new_t122_v0__561=$__AF_new_t122_v0;
        new_ok__39_v0 $__AF_new_t122_v0__561;
        __AF_new_ok39_v0__561=("${__AF_new_ok39_v0[@]}");
        native_return__581_v0 __AF_new_ok39_v0__561[@];
        __AF_native_return581_v0__561=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__561 > /dev/null 2>&1
        __AF_is_nil_impl957_v0='';
        return 0
fi
    new_nil__123_v0 ;
    __AF_new_nil123_v0__564=$__AF_new_nil123_v0;
    new_ok__39_v0 $__AF_new_nil123_v0__564;
    __AF_new_ok39_v0__564=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__564[@];
    __AF_native_return581_v0__564=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__564 > /dev/null 2>&1
    __AF_is_nil_impl957_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__568=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__568 > /dev/null 2>&1
is_nil_impl__957_v0 ;
__AF_is_nil_impl957_v0__569=$__AF_is_nil_impl957_v0;
echo $__AF_is_nil_impl957_v0__569 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__570="${__AF_native_get_last_funcref579_v0}";
__48__funcref_is_nil="${__AF_native_get_last_funcref579_v0__570}"
__62__is_cons_desc="Returns \`t\` if an argument is a cons-cell; otherwise returns \`nil\`.

\`\`\`
> (cons? (cons 1 2))
;=> t
> (cons? 3)
;=> nil
\`\`\`
"
function is_cons_impl__959_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__588=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__588[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__589=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__589 != 0 ]; then
        __AF_is_cons_impl959_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__592=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__592
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__593=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__593 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__594="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__594="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__594}" "wrong number of arguments: ""${__AF_object_to_string148_v0__594}";
        __AF_new_err40_v0__594=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__594[@];
        __AF_native_return581_v0__594=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__594 > /dev/null 2>&1
        __AF_is_cons_impl959_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__597=$__AF_cons_car107_v0;
    local obj=$__AF_cons_car107_v0__597
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__598=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__598
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__599=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__599 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__600="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__600="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__600}" "wrong number of arguments: ""${__AF_object_to_string148_v0__600}";
        __AF_new_err40_v0__600=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__600[@];
        __AF_native_return581_v0__600=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__600 > /dev/null 2>&1
        __AF_is_cons_impl959_v0='';
        return 0
fi
    object_is_cons__103_v0 ${obj};
    __AF_object_is_cons103_v0__603=$__AF_object_is_cons103_v0;
    if [ $__AF_object_is_cons103_v0__603 != 0 ]; then
        new_t__122_v0 ;
        __AF_new_t122_v0__604=$__AF_new_t122_v0;
        new_ok__39_v0 $__AF_new_t122_v0__604;
        __AF_new_ok39_v0__604=("${__AF_new_ok39_v0[@]}");
        native_return__581_v0 __AF_new_ok39_v0__604[@];
        __AF_native_return581_v0__604=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__604 > /dev/null 2>&1
        __AF_is_cons_impl959_v0='';
        return 0
fi
    new_nil__123_v0 ;
    __AF_new_nil123_v0__607=$__AF_new_nil123_v0;
    new_ok__39_v0 $__AF_new_nil123_v0__607;
    __AF_new_ok39_v0__607=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__607[@];
    __AF_native_return581_v0__607=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__607 > /dev/null 2>&1
    __AF_is_cons_impl959_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__611=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__611 > /dev/null 2>&1
is_cons_impl__959_v0 ;
__AF_is_cons_impl959_v0__612=$__AF_is_cons_impl959_v0;
echo $__AF_is_cons_impl959_v0__612 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__613="${__AF_native_get_last_funcref579_v0}";
__49__funcref_is_cons="${__AF_native_get_last_funcref579_v0__613}"
function runtime_corelib_primitive_import__960_v0 {
    local env=$1
    new_symbol__121_v0 "cons?";
    __AF_new_symbol121_v0__616=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__49__funcref_is_cons}" "${__62__is_cons_desc}";
    __AF_new_native_fun125_v0__616=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__616 $__AF_new_native_fun125_v0__616;
    __AF_env_define295_v0__616=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__616
    new_symbol__121_v0 "nil?";
    __AF_new_symbol121_v0__617=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__48__funcref_is_nil}" "${__61__is_nil_desc}";
    __AF_new_native_fun125_v0__617=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__617 $__AF_new_native_fun125_v0__617;
    __AF_env_define295_v0__617=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__617
    new_symbol__121_v0 "t?";
    __AF_new_symbol121_v0__618=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__47__funcref_is_t}" "${__60__is_t_desc}";
    __AF_new_native_fun125_v0__618=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__618 $__AF_new_native_fun125_v0__618;
    __AF_env_define295_v0__618=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__618
    new_symbol__121_v0 "symbol?";
    __AF_new_symbol121_v0__619=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__46__funcref_is_symbol}" "${__59__is_symbol_desc}";
    __AF_new_native_fun125_v0__619=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__619 $__AF_new_native_fun125_v0__619;
    __AF_env_define295_v0__619=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__619
    new_symbol__121_v0 "text?";
    __AF_new_symbol121_v0__620=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__45__funcref_is_text}" "${__58__is_text_desc}";
    __AF_new_native_fun125_v0__620=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__620 $__AF_new_native_fun125_v0__620;
    __AF_env_define295_v0__620=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__620
    new_symbol__121_v0 "num?";
    __AF_new_symbol121_v0__621=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__44__funcref_is_num}" "${__57__is_num_desc}";
    __AF_new_native_fun125_v0__621=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__621 $__AF_new_native_fun125_v0__621;
    __AF_env_define295_v0__621=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__621
    new_symbol__121_v0 "eqv?";
    __AF_new_symbol121_v0__622=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__37__funcref_eqv}" "${__50__eqv_desc}";
    __AF_new_native_fun125_v0__622=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__622 $__AF_new_native_fun125_v0__622;
    __AF_env_define295_v0__622=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__622
    new_symbol__121_v0 "equal?";
    __AF_new_symbol121_v0__623=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__38__funcref_equal}" "${__51__equal_desc}";
    __AF_new_native_fun125_v0__623=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__623 $__AF_new_native_fun125_v0__623;
    __AF_env_define295_v0__623=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__623
    new_symbol__121_v0 "set-cdr!";
    __AF_new_symbol121_v0__624=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__43__funcref_set_cdr}" "${__56__set_cdr_desc}";
    __AF_new_native_fun125_v0__624=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__624 $__AF_new_native_fun125_v0__624;
    __AF_env_define295_v0__624=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__624
    new_symbol__121_v0 "set-car!";
    __AF_new_symbol121_v0__625=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__42__funcref_set_car}" "${__55__set_car_desc}";
    __AF_new_native_fun125_v0__625=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__625 $__AF_new_native_fun125_v0__625;
    __AF_env_define295_v0__625=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__625
    new_symbol__121_v0 "cdr";
    __AF_new_symbol121_v0__626=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__41__funcref_cdr}" "${__54__cdr_desc}";
    __AF_new_native_fun125_v0__626=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__626 $__AF_new_native_fun125_v0__626;
    __AF_env_define295_v0__626=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__626
    new_symbol__121_v0 "car";
    __AF_new_symbol121_v0__627=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__40__funcref_car}" "${__53__car_desc}";
    __AF_new_native_fun125_v0__627=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__627 $__AF_new_native_fun125_v0__627;
    __AF_env_define295_v0__627=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__627
    new_symbol__121_v0 "cons";
    __AF_new_symbol121_v0__628=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__39__funcref_cons}" "${__52__cons_desc}";
    __AF_new_native_fun125_v0__628=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__628 $__AF_new_native_fun125_v0__628;
    __AF_env_define295_v0__628=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__628
    __AF_runtime_corelib_primitive_import960_v0=${env};
    return 0
}
__63__funcref_add=""
__64__funcref_sub=""
__65__funcref_mul=""
__66__funcref_div=""
__67__funcref_mod=""
__68__add_desc="Adds arguments.

\`\`\`
> (+)
;=> 0
> (+ 1)
;=> 1
> (+ 1 2 3)
;=> 6
\`\`\`
"
function add_impl__1075_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__32=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__32[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__33=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__33 != 0 ]; then
        __AF_add_impl1075_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__36=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__36
    local sum=0
    while :
do
        object_is_nil__102_v0 ${args};
        __AF_object_is_nil102_v0__39=$__AF_object_is_nil102_v0;
        if [ $__AF_object_is_nil102_v0__39 != 0 ]; then
            break
fi
        object_is_cons__103_v0 ${args};
        __AF_object_is_cons103_v0__42=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__42 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__43="${__AF_code_invalid_argument30_v0}";
            object_to_string__148_v0 ${args};
            __AF_object_to_string148_v0__43="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__43}" "invalid argument list: ""${__AF_object_to_string148_v0__43}";
            __AF_new_err40_v0__43=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__43[@];
            __AF_native_return581_v0__43=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__43 > /dev/null 2>&1
            __AF_add_impl1075_v0='';
            return 0
fi
        cons_car__107_v0 ${args};
        __AF_cons_car107_v0__46=$__AF_cons_car107_v0;
        local next=$__AF_cons_car107_v0__46
        cons_cdr__108_v0 ${args};
        __AF_cons_cdr108_v0__47=$__AF_cons_cdr108_v0;
        args=$__AF_cons_cdr108_v0__47
        object_is_num__98_v0 ${next};
        __AF_object_is_num98_v0__48=$__AF_object_is_num98_v0;
        if [ $(echo  '!' $__AF_object_is_num98_v0__48 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__49="${__AF_code_invalid_argument30_v0}";
            object_to_string__148_v0 ${next};
            __AF_object_to_string148_v0__49="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__49}" "not a number: ""${__AF_object_to_string148_v0__49}";
            __AF_new_err40_v0__49=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__49[@];
            __AF_native_return581_v0__49=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__49 > /dev/null 2>&1
            __AF_add_impl1075_v0='';
            return 0
fi
        num_value__104_v0 ${next};
        __AF_num_value104_v0__52=$__AF_num_value104_v0;
        sum=$(echo ${sum} '+' $__AF_num_value104_v0__52 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
done
    new_num__119_v0 ${sum};
    __AF_new_num119_v0__54=$__AF_new_num119_v0;
    new_ok__39_v0 $__AF_new_num119_v0__54;
    __AF_new_ok39_v0__54=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__54[@];
    __AF_native_return581_v0__54=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__54 > /dev/null 2>&1
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__57=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__57 > /dev/null 2>&1
add_impl__1075_v0 ;
__AF_add_impl1075_v0__58=$__AF_add_impl1075_v0;
echo $__AF_add_impl1075_v0__58 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__59="${__AF_native_get_last_funcref579_v0}";
__63__funcref_add="${__AF_native_get_last_funcref579_v0__59}"
__69__sub_desc="Subtracts arguments.

\`\`\`
> (- 3)
;=> -3
> (- 3 2)
;=> 1
> (- 3 2 1)
;=> 0
\`\`\`
"
function sub_impl__1077_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__78=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__78[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__79=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__79 != 0 ]; then
        __AF_sub_impl1077_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__82=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__82
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__83=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__83 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__84="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__84="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__84}" "empty argument: ""${__AF_object_to_string148_v0__84}";
        __AF_new_err40_v0__84=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__84[@];
        __AF_native_return581_v0__84=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__84 > /dev/null 2>&1
        __AF_sub_impl1077_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__87=$__AF_cons_car107_v0;
    local first_obj=$__AF_cons_car107_v0__87
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__88=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__88
    object_is_num__98_v0 ${first_obj};
    __AF_object_is_num98_v0__89=$__AF_object_is_num98_v0;
    if [ $(echo  '!' $__AF_object_is_num98_v0__89 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__90="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${first_obj};
        __AF_object_to_string148_v0__90="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__90}" "not a number: ""${__AF_object_to_string148_v0__90}";
        __AF_new_err40_v0__90=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__90[@];
        __AF_native_return581_v0__90=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__90 > /dev/null 2>&1
        __AF_sub_impl1077_v0='';
        return 0
fi
    num_value__104_v0 ${first_obj};
    __AF_num_value104_v0__93=$__AF_num_value104_v0;
    local result=$__AF_num_value104_v0__93
    local has_more_than_one_args=0
    while :
do
        object_is_nil__102_v0 ${args};
        __AF_object_is_nil102_v0__97=$__AF_object_is_nil102_v0;
        if [ $__AF_object_is_nil102_v0__97 != 0 ]; then
            break
fi
        has_more_than_one_args=1
        object_is_cons__103_v0 ${args};
        __AF_object_is_cons103_v0__101=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__101 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__102="${__AF_code_invalid_argument30_v0}";
            object_to_string__148_v0 ${args};
            __AF_object_to_string148_v0__102="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__102}" "invalid argument list: ""${__AF_object_to_string148_v0__102}";
            __AF_new_err40_v0__102=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__102[@];
            __AF_native_return581_v0__102=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__102 > /dev/null 2>&1
            __AF_sub_impl1077_v0='';
            return 0
fi
        cons_car__107_v0 ${args};
        __AF_cons_car107_v0__105=$__AF_cons_car107_v0;
        local next=$__AF_cons_car107_v0__105
        cons_cdr__108_v0 ${args};
        __AF_cons_cdr108_v0__106=$__AF_cons_cdr108_v0;
        args=$__AF_cons_cdr108_v0__106
        object_is_num__98_v0 ${next};
        __AF_object_is_num98_v0__107=$__AF_object_is_num98_v0;
        if [ $(echo  '!' $__AF_object_is_num98_v0__107 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__108="${__AF_code_invalid_argument30_v0}";
            object_to_string__148_v0 ${next};
            __AF_object_to_string148_v0__108="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__108}" "not a number: ""${__AF_object_to_string148_v0__108}";
            __AF_new_err40_v0__108=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__108[@];
            __AF_native_return581_v0__108=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__108 > /dev/null 2>&1
            __AF_sub_impl1077_v0='';
            return 0
fi
        num_value__104_v0 ${next};
        __AF_num_value104_v0__111=$__AF_num_value104_v0;
        result=$(echo ${result} '-' $__AF_num_value104_v0__111 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
done
    if [ $(echo  '!' ${has_more_than_one_args} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        result=$(echo  '-' ${result} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
fi
    new_num__119_v0 ${result};
    __AF_new_num119_v0__116=$__AF_new_num119_v0;
    new_ok__39_v0 $__AF_new_num119_v0__116;
    __AF_new_ok39_v0__116=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__116[@];
    __AF_native_return581_v0__116=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__116 > /dev/null 2>&1
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__119=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__119 > /dev/null 2>&1
sub_impl__1077_v0 ;
__AF_sub_impl1077_v0__120=$__AF_sub_impl1077_v0;
echo $__AF_sub_impl1077_v0__120 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__121="${__AF_native_get_last_funcref579_v0}";
__64__funcref_sub="${__AF_native_get_last_funcref579_v0__121}"
__70__mul_desc="Multiplies arguments.

\`\`\`
> (*)
;=> 1
> (* 3)
;=> 3
> (* 3 4 -5)
;=> -64
\`\`\`
"
function mul_impl__1079_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__140=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__140[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__141=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__141 != 0 ]; then
        __AF_mul_impl1079_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__144=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__144
    local prod=1
    while :
do
        object_is_nil__102_v0 ${args};
        __AF_object_is_nil102_v0__147=$__AF_object_is_nil102_v0;
        if [ $__AF_object_is_nil102_v0__147 != 0 ]; then
            break
fi
        object_is_cons__103_v0 ${args};
        __AF_object_is_cons103_v0__150=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__150 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__151="${__AF_code_invalid_argument30_v0}";
            object_to_string__148_v0 ${args};
            __AF_object_to_string148_v0__151="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__151}" "invalid argument list: ""${__AF_object_to_string148_v0__151}";
            __AF_new_err40_v0__151=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__151[@];
            __AF_native_return581_v0__151=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__151 > /dev/null 2>&1
            __AF_mul_impl1079_v0='';
            return 0
fi
        cons_car__107_v0 ${args};
        __AF_cons_car107_v0__154=$__AF_cons_car107_v0;
        local next=$__AF_cons_car107_v0__154
        cons_cdr__108_v0 ${args};
        __AF_cons_cdr108_v0__155=$__AF_cons_cdr108_v0;
        args=$__AF_cons_cdr108_v0__155
        object_is_num__98_v0 ${next};
        __AF_object_is_num98_v0__156=$__AF_object_is_num98_v0;
        if [ $(echo  '!' $__AF_object_is_num98_v0__156 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__157="${__AF_code_invalid_argument30_v0}";
            object_to_string__148_v0 ${next};
            __AF_object_to_string148_v0__157="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__157}" "not a number: ""${__AF_object_to_string148_v0__157}";
            __AF_new_err40_v0__157=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__157[@];
            __AF_native_return581_v0__157=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__157 > /dev/null 2>&1
            __AF_mul_impl1079_v0='';
            return 0
fi
        num_value__104_v0 ${next};
        __AF_num_value104_v0__160=$__AF_num_value104_v0;
        prod=$(echo ${prod} '*' $__AF_num_value104_v0__160 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
done
    new_num__119_v0 ${prod};
    __AF_new_num119_v0__162=$__AF_new_num119_v0;
    new_ok__39_v0 $__AF_new_num119_v0__162;
    __AF_new_ok39_v0__162=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__162[@];
    __AF_native_return581_v0__162=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__162 > /dev/null 2>&1
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__165=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__165 > /dev/null 2>&1
mul_impl__1079_v0 ;
__AF_mul_impl1079_v0__166=$__AF_mul_impl1079_v0;
echo $__AF_mul_impl1079_v0__166 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__167="${__AF_native_get_last_funcref579_v0}";
__65__funcref_mul="${__AF_native_get_last_funcref579_v0__167}"
__71__div_desc="Divides arguments.

\`\`\`
> (/ 3)
;=> .33333333333333333333
> (/ 9 3)
;=> 3
> (/ 9 3 3)
;=> 1
> (/ 9 0)
Error: zero_division: division by zero
at native function <div_impl__959_v0>
\`\`\`
"
function div_impl__1081_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__189=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__189[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__190=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__190 != 0 ]; then
        __AF_div_impl1081_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__193=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__193
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__194=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__194 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__195="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__195="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__195}" "empty argument: ""${__AF_object_to_string148_v0__195}";
        __AF_new_err40_v0__195=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__195[@];
        __AF_native_return581_v0__195=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__195 > /dev/null 2>&1
        __AF_div_impl1081_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__198=$__AF_cons_car107_v0;
    local first_obj=$__AF_cons_car107_v0__198
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__199=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__199
    object_is_num__98_v0 ${first_obj};
    __AF_object_is_num98_v0__200=$__AF_object_is_num98_v0;
    if [ $(echo  '!' $__AF_object_is_num98_v0__200 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__201="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${first_obj};
        __AF_object_to_string148_v0__201="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__201}" "not a number: ""${__AF_object_to_string148_v0__201}";
        __AF_new_err40_v0__201=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__201[@];
        __AF_native_return581_v0__201=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__201 > /dev/null 2>&1
        __AF_div_impl1081_v0='';
        return 0
fi
    num_value__104_v0 ${first_obj};
    __AF_num_value104_v0__204=$__AF_num_value104_v0;
    local result=$__AF_num_value104_v0__204
    local has_more_than_one_args=0
    while :
do
        object_is_nil__102_v0 ${args};
        __AF_object_is_nil102_v0__208=$__AF_object_is_nil102_v0;
        if [ $__AF_object_is_nil102_v0__208 != 0 ]; then
            break
fi
        has_more_than_one_args=1
        object_is_cons__103_v0 ${args};
        __AF_object_is_cons103_v0__212=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__212 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__213="${__AF_code_invalid_argument30_v0}";
            object_to_string__148_v0 ${args};
            __AF_object_to_string148_v0__213="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__213}" "invalid argument list: ""${__AF_object_to_string148_v0__213}";
            __AF_new_err40_v0__213=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__213[@];
            __AF_native_return581_v0__213=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__213 > /dev/null 2>&1
            __AF_div_impl1081_v0='';
            return 0
fi
        cons_car__107_v0 ${args};
        __AF_cons_car107_v0__216=$__AF_cons_car107_v0;
        local next=$__AF_cons_car107_v0__216
        cons_cdr__108_v0 ${args};
        __AF_cons_cdr108_v0__217=$__AF_cons_cdr108_v0;
        args=$__AF_cons_cdr108_v0__217
        object_is_num__98_v0 ${next};
        __AF_object_is_num98_v0__218=$__AF_object_is_num98_v0;
        if [ $(echo  '!' $__AF_object_is_num98_v0__218 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__219="${__AF_code_invalid_argument30_v0}";
            object_to_string__148_v0 ${next};
            __AF_object_to_string148_v0__219="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__219}" "not a number: ""${__AF_object_to_string148_v0__219}";
            __AF_new_err40_v0__219=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__219[@];
            __AF_native_return581_v0__219=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__219 > /dev/null 2>&1
            __AF_div_impl1081_v0='';
            return 0
fi
        num_value__104_v0 ${next};
        __AF_num_value104_v0__222=$__AF_num_value104_v0;
        if [ $(echo $__AF_num_value104_v0__222 '==' 0 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_zero_division__37_v0 ;
            __AF_code_zero_division37_v0__223="${__AF_code_zero_division37_v0}";
            new_err__40_v0 "${__AF_code_zero_division37_v0__223}" "division by zero";
            __AF_new_err40_v0__223=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__223[@];
            __AF_native_return581_v0__223=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__223 > /dev/null 2>&1
            __AF_div_impl1081_v0='';
            return 0
fi
        num_value__104_v0 ${next};
        __AF_num_value104_v0__226=$__AF_num_value104_v0;
        result=$(echo ${result} '/' $__AF_num_value104_v0__226 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
done
    if [ $(echo  '!' ${has_more_than_one_args} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        result=$(echo 1 '/' ${result} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
fi
    new_num__119_v0 ${result};
    __AF_new_num119_v0__231=$__AF_new_num119_v0;
    new_ok__39_v0 $__AF_new_num119_v0__231;
    __AF_new_ok39_v0__231=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__231[@];
    __AF_native_return581_v0__231=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__231 > /dev/null 2>&1
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__234=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__234 > /dev/null 2>&1
div_impl__1081_v0 ;
__AF_div_impl1081_v0__235=$__AF_div_impl1081_v0;
echo $__AF_div_impl1081_v0__235 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__236="${__AF_native_get_last_funcref579_v0}";
__66__funcref_div="${__AF_native_get_last_funcref579_v0__236}"
__72__mod_desc="Returns the remainder of a division.

\`\`\`
> (% 7 3)
1
> (% -7 3)
-2
> (% 7 0)
Error: zero_division: division by zero
at native function <mod_impl__959_v0>
\`\`\`
"
function mod_impl__1083_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__256=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__256[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__257=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__257 != 0 ]; then
        __AF_mod_impl1083_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__260=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__260
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__261=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__261 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__262="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__262="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__262}" "wrong number of arguments: ""${__AF_object_to_string148_v0__262}";
        __AF_new_err40_v0__262=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__262[@];
        __AF_native_return581_v0__262=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__262 > /dev/null 2>&1
        __AF_mod_impl1083_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__265=$__AF_cons_car107_v0;
    local x=$__AF_cons_car107_v0__265
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__266=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__266
    object_is_num__98_v0 ${x};
    __AF_object_is_num98_v0__267=$__AF_object_is_num98_v0;
    if [ $(echo  '!' $__AF_object_is_num98_v0__267 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__268="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${x};
        __AF_object_to_string148_v0__268="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__268}" "not a number: ""${__AF_object_to_string148_v0__268}";
        __AF_new_err40_v0__268=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__268[@];
        __AF_native_return581_v0__268=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__268 > /dev/null 2>&1
        __AF_mod_impl1083_v0='';
        return 0
fi
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__271=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__271 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__272="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__272="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__272}" "wrong number of arguments: ""${__AF_object_to_string148_v0__272}";
        __AF_new_err40_v0__272=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__272[@];
        __AF_native_return581_v0__272=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__272 > /dev/null 2>&1
        __AF_mod_impl1083_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__275=$__AF_cons_car107_v0;
    local y=$__AF_cons_car107_v0__275
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__276=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__276
    object_is_num__98_v0 ${y};
    __AF_object_is_num98_v0__277=$__AF_object_is_num98_v0;
    if [ $(echo  '!' $__AF_object_is_num98_v0__277 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__278="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${y};
        __AF_object_to_string148_v0__278="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__278}" "not a number: ""${__AF_object_to_string148_v0__278}";
        __AF_new_err40_v0__278=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__278[@];
        __AF_native_return581_v0__278=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__278 > /dev/null 2>&1
        __AF_mod_impl1083_v0='';
        return 0
fi
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__281=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__281 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__282="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__282="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__282}" "wrong number of arguments: ""${__AF_object_to_string148_v0__282}";
        __AF_new_err40_v0__282=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__282[@];
        __AF_native_return581_v0__282=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__282 > /dev/null 2>&1
        __AF_mod_impl1083_v0='';
        return 0
fi
    num_value__104_v0 ${y};
    __AF_num_value104_v0__285=$__AF_num_value104_v0;
    if [ $(echo $__AF_num_value104_v0__285 '==' 0 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_zero_division__37_v0 ;
        __AF_code_zero_division37_v0__286="${__AF_code_zero_division37_v0}";
        new_err__40_v0 "${__AF_code_zero_division37_v0__286}" "division by zero";
        __AF_new_err40_v0__286=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__286[@];
        __AF_native_return581_v0__286=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__286 > /dev/null 2>&1
        __AF_mod_impl1083_v0='';
        return 0
fi
    num_value__104_v0 ${x};
    __AF_num_value104_v0__289=$__AF_num_value104_v0;
    local x_val=$__AF_num_value104_v0__289
    num_value__104_v0 ${y};
    __AF_num_value104_v0__290=$__AF_num_value104_v0;
    local y_val=$__AF_num_value104_v0__290
    new_num__119_v0 $(echo ${x_val} '%' ${y_val} | bc  | sed '/\./ s/\.\{0,1\}0\{1,\}$//');
    __AF_new_num119_v0__291=$__AF_new_num119_v0;
    new_ok__39_v0 $__AF_new_num119_v0__291;
    __AF_new_ok39_v0__291=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__291[@];
    __AF_native_return581_v0__291=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__291 > /dev/null 2>&1
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__294=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__294 > /dev/null 2>&1
mod_impl__1083_v0 ;
__AF_mod_impl1083_v0__295=$__AF_mod_impl1083_v0;
echo $__AF_mod_impl1083_v0__295 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__296="${__AF_native_get_last_funcref579_v0}";
__67__funcref_mod="${__AF_native_get_last_funcref579_v0__296}"
function runtime_corelib_math_import__1084_v0 {
    local env=$1
    new_symbol__121_v0 "%";
    __AF_new_symbol121_v0__299=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__67__funcref_mod}" "${__72__mod_desc}";
    __AF_new_native_fun125_v0__299=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__299 $__AF_new_native_fun125_v0__299;
    __AF_env_define295_v0__299=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__299
    new_symbol__121_v0 "/";
    __AF_new_symbol121_v0__300=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__66__funcref_div}" "${__71__div_desc}";
    __AF_new_native_fun125_v0__300=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__300 $__AF_new_native_fun125_v0__300;
    __AF_env_define295_v0__300=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__300
    new_symbol__121_v0 "*";
    __AF_new_symbol121_v0__301=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__65__funcref_mul}" "${__70__mul_desc}";
    __AF_new_native_fun125_v0__301=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__301 $__AF_new_native_fun125_v0__301;
    __AF_env_define295_v0__301=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__301
    new_symbol__121_v0 "-";
    __AF_new_symbol121_v0__302=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__64__funcref_sub}" "${__69__sub_desc}";
    __AF_new_native_fun125_v0__302=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__302 $__AF_new_native_fun125_v0__302;
    __AF_env_define295_v0__302=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__302
    new_symbol__121_v0 "+";
    __AF_new_symbol121_v0__303=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__63__funcref_add}" "${__68__add_desc}";
    __AF_new_native_fun125_v0__303=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__303 $__AF_new_native_fun125_v0__303;
    __AF_env_define295_v0__303=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__303
    __AF_runtime_corelib_math_import1084_v0=${env};
    return 0
}
__73__funcref_list=""
__74__funcref_map=""
__75__funcref_iota=""
__76__list_desc="Makes a list.

\`\`\`
> (list)
;=> nil
> (list 1 2 3)
;=> (1 2 3)
\`\`\`
"
function list_impl__1192_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__28=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__28[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__29=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__29 != 0 ]; then
        __AF_list_impl1192_v0='';
        return 0
fi
    native_return__581_v0 result_args[@];
    __AF_native_return581_v0__32=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__32 > /dev/null 2>&1
    __AF_list_impl1192_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__36=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__36 > /dev/null 2>&1
list_impl__1192_v0 ;
__AF_list_impl1192_v0__37=$__AF_list_impl1192_v0;
echo $__AF_list_impl1192_v0__37 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__38="${__AF_native_get_last_funcref579_v0}";
__73__funcref_list="${__AF_native_get_last_funcref579_v0__38}"
__77__map_desc="Applies a function to each element of a list.

\`\`\`
> (defun double (x) (* x 2))
> (map double nil)
;=> nil
> (map double (list 1 2 3))
;=> (2 4 6)
\`\`\`
"
function map_impl__1194_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__56=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__56[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__57=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__57 != 0 ]; then
        __AF_map_impl1194_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__60=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__60
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__61=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__61 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__62="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__62="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__62}" "wrong number of arguments: ""${__AF_object_to_string148_v0__62}";
        __AF_new_err40_v0__62=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__62[@];
        __AF_native_return581_v0__62=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__62 > /dev/null 2>&1
        __AF_map_impl1194_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__65=$__AF_cons_car107_v0;
    local f=$__AF_cons_car107_v0__65
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__66=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__66
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__67=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__67 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__68="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__68="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__68}" "wrong number of arguments: ""${__AF_object_to_string148_v0__68}";
        __AF_new_err40_v0__68=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__68[@];
        __AF_native_return581_v0__68=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__68 > /dev/null 2>&1
        __AF_map_impl1194_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__71=$__AF_cons_car107_v0;
    local list=$__AF_cons_car107_v0__71
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__72=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__72
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__73=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__73 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__74="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__74="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__74}" "wrong number of arguments: ""${__AF_object_to_string148_v0__74}";
        __AF_new_err40_v0__74=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__74[@];
        __AF_native_return581_v0__74=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__74 > /dev/null 2>&1
        __AF_map_impl1194_v0='';
        return 0
fi
    __AMBER_ARRAY_28=();
    local values=("${__AMBER_ARRAY_28[@]}")
    while :
do
        object_is_nil__102_v0 ${list};
        __AF_object_is_nil102_v0__80=$__AF_object_is_nil102_v0;
        if [ $__AF_object_is_nil102_v0__80 != 0 ]; then
            break
fi
        object_is_cons__103_v0 ${list};
        __AF_object_is_cons103_v0__83=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__83 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__84="${__AF_code_invalid_argument30_v0}";
            object_to_string__148_v0 ${list};
            __AF_object_to_string148_v0__84="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__84}" "not a list: ""${__AF_object_to_string148_v0__84}";
            __AF_new_err40_v0__84=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__84[@];
            __AF_native_return581_v0__84=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__84 > /dev/null 2>&1
            __AF_map_impl1194_v0='';
            return 0
fi
        cons_car__107_v0 ${list};
        __AF_cons_car107_v0__87=$__AF_cons_car107_v0;
        local i=$__AF_cons_car107_v0__87
        cons_cdr__108_v0 ${list};
        __AF_cons_cdr108_v0__88=$__AF_cons_cdr108_v0;
        list=$__AF_cons_cdr108_v0__88
        new_nil__123_v0 ;
        __AF_new_nil123_v0__89=$__AF_new_nil123_v0;
        local fun_args=$__AF_new_nil123_v0__89
        new_cons__124_v0 ${i} ${fun_args};
        __AF_new_cons124_v0__90=$__AF_new_cons124_v0;
        fun_args=$__AF_new_cons124_v0__90
        apply_function__607_v0 ${f} ${fun_args};
        __AF_apply_function607_v0__91=("${__AF_apply_function607_v0[@]}");
        local result=("${__AF_apply_function607_v0__91[@]}")
        result_is_err__42_v0 result[@];
        __AF_result_is_err42_v0__92=$__AF_result_is_err42_v0;
        if [ $__AF_result_is_err42_v0__92 != 0 ]; then
            native_return__581_v0 result[@];
            __AF_native_return581_v0__93=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__93 > /dev/null 2>&1
            __AF_map_impl1194_v0='';
            return 0
fi
        ok_val__43_v0 result[@];
        __AF_ok_val43_v0__96=$__AF_ok_val43_v0;
        __AMBER_ARRAY_29=($__AF_ok_val43_v0__96);
        __AMBER_ARRAY_ADD_30=("${__AMBER_ARRAY_29[@]}" "${values[@]}");
        values=("${__AMBER_ARRAY_ADD_30[@]}")
done
    new_nil__123_v0 ;
    __AF_new_nil123_v0__99=$__AF_new_nil123_v0;
    local values_list=$__AF_new_nil123_v0__99
    for i in "${values[@]}"
do
        new_cons__124_v0 ${i} ${values_list};
        __AF_new_cons124_v0__101=$__AF_new_cons124_v0;
        values_list=$__AF_new_cons124_v0__101
done
    new_ok__39_v0 ${values_list};
    __AF_new_ok39_v0__103=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__103[@];
    __AF_native_return581_v0__103=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__103 > /dev/null 2>&1
    __AF_map_impl1194_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__107=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__107 > /dev/null 2>&1
map_impl__1194_v0 ;
__AF_map_impl1194_v0__108=$__AF_map_impl1194_v0;
echo $__AF_map_impl1194_v0__108 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__109="${__AF_native_get_last_funcref579_v0}";
__74__funcref_map="${__AF_native_get_last_funcref579_v0__109}"
__78__iota_desc="Returns a sequence of numbers.

\`\`\`
> (iota 3)
;=> (0 1 2)
> (iota 1 5)
;=> (1 2 3 4)
> (iota 0)
;=> nil
\`\`\`
"
function iota_impl__1196_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__128=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__128[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__129=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__129 != 0 ]; then
        __AF_iota_impl1196_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__132=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__132
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__133=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__133 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__134="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__134="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__134}" "wrong number of arguments: ""${__AF_object_to_string148_v0__134}";
        __AF_new_err40_v0__134=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__134[@];
        __AF_native_return581_v0__134=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__134 > /dev/null 2>&1
        __AF_iota_impl1196_v0='';
        return 0
fi
    local start=0
    local end=0
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__139=$__AF_cons_car107_v0;
    local first_arg=$__AF_cons_car107_v0__139
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__140=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__140
    object_is_num__98_v0 ${first_arg};
    __AF_object_is_num98_v0__141=$__AF_object_is_num98_v0;
    if [ $(echo  '!' $__AF_object_is_num98_v0__141 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__142="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${first_arg};
        __AF_object_to_string148_v0__142="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__142}" "not a number: ""${__AF_object_to_string148_v0__142}";
        __AF_new_err40_v0__142=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__142[@];
        __AF_native_return581_v0__142=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__142 > /dev/null 2>&1
        __AF_iota_impl1196_v0='';
        return 0
fi
    num_value__104_v0 ${first_arg};
    __AF_num_value104_v0__145=$__AF_num_value104_v0;
    end=$__AF_num_value104_v0__145
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__146=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__146 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        object_is_cons__103_v0 ${args};
        __AF_object_is_cons103_v0__147=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__147 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__148="${__AF_code_invalid_argument30_v0}";
            object_to_string__148_v0 ${args};
            __AF_object_to_string148_v0__148="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__148}" "invalid argument list: ""${__AF_object_to_string148_v0__148}";
            __AF_new_err40_v0__148=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__148[@];
            __AF_native_return581_v0__148=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__148 > /dev/null 2>&1
            __AF_iota_impl1196_v0='';
            return 0
fi
        cons_car__107_v0 ${args};
        __AF_cons_car107_v0__151=$__AF_cons_car107_v0;
        local second_arg=$__AF_cons_car107_v0__151
        cons_cdr__108_v0 ${args};
        __AF_cons_cdr108_v0__152=$__AF_cons_cdr108_v0;
        args=$__AF_cons_cdr108_v0__152
        object_is_num__98_v0 ${second_arg};
        __AF_object_is_num98_v0__153=$__AF_object_is_num98_v0;
        if [ $(echo  '!' $__AF_object_is_num98_v0__153 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__154="${__AF_code_invalid_argument30_v0}";
            object_to_string__148_v0 ${second_arg};
            __AF_object_to_string148_v0__154="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__154}" "not a number: ""${__AF_object_to_string148_v0__154}";
            __AF_new_err40_v0__154=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__154[@];
            __AF_native_return581_v0__154=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__154 > /dev/null 2>&1
            __AF_iota_impl1196_v0='';
            return 0
fi
        object_is_nil__102_v0 ${args};
        __AF_object_is_nil102_v0__157=$__AF_object_is_nil102_v0;
        if [ $(echo  '!' $__AF_object_is_nil102_v0__157 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__158="${__AF_code_invalid_argument30_v0}";
            object_to_string__148_v0 ${args};
            __AF_object_to_string148_v0__158="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__158}" "wrong number of arguments: ""${__AF_object_to_string148_v0__158}";
            __AF_new_err40_v0__158=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__158[@];
            __AF_native_return581_v0__158=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__158 > /dev/null 2>&1
            __AF_iota_impl1196_v0='';
            return 0
fi
        start=${end}
        num_value__104_v0 ${second_arg};
        __AF_num_value104_v0__162=$__AF_num_value104_v0;
        end=$__AF_num_value104_v0__162
fi
    local i=$(echo ${end} '-' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
    new_nil__123_v0 ;
    __AF_new_nil123_v0__166=$__AF_new_nil123_v0;
    local list=$__AF_new_nil123_v0__166
    while :
do
        if [ $(echo ${i} '<' ${start} | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            break
fi
        new_num__119_v0 ${i};
        __AF_new_num119_v0__171=$__AF_new_num119_v0;
        new_cons__124_v0 $__AF_new_num119_v0__171 ${list};
        __AF_new_cons124_v0__171=$__AF_new_cons124_v0;
        list=$__AF_new_cons124_v0__171
        i=$(echo ${i} '-' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
done
    new_ok__39_v0 ${list};
    __AF_new_ok39_v0__174=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__174[@];
    __AF_native_return581_v0__174=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__174 > /dev/null 2>&1
    __AF_iota_impl1196_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__178=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__178 > /dev/null 2>&1
iota_impl__1196_v0 ;
__AF_iota_impl1196_v0__179=$__AF_iota_impl1196_v0;
echo $__AF_iota_impl1196_v0__179 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__180="${__AF_native_get_last_funcref579_v0}";
__75__funcref_iota="${__AF_native_get_last_funcref579_v0__180}"
function runtime_corelib_list_import__1197_v0 {
    local env=$1
    new_symbol__121_v0 "iota";
    __AF_new_symbol121_v0__190=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__75__funcref_iota}" "${__78__iota_desc}";
    __AF_new_native_fun125_v0__190=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__190 $__AF_new_native_fun125_v0__190;
    __AF_env_define295_v0__190=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__190
    new_symbol__121_v0 "map";
    __AF_new_symbol121_v0__191=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__74__funcref_map}" "${__77__map_desc}";
    __AF_new_native_fun125_v0__191=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__191 $__AF_new_native_fun125_v0__191;
    __AF_env_define295_v0__191=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__191
    new_symbol__121_v0 "list";
    __AF_new_symbol121_v0__192=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__73__funcref_list}" "${__76__list_desc}";
    __AF_new_native_fun125_v0__192=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__192 $__AF_new_native_fun125_v0__192;
    __AF_env_define295_v0__192=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__192
    __AF_runtime_corelib_list_import1197_v0=${env};
    return 0
}
function runtime_corelib_text_import__1302_v0 {
    local env=$1
    __AF_runtime_corelib_text_import1302_v0=${env};
    return 0
}
__79__funcref_error=""
__80__funcref_special_catch=""
__81__error_desc="Raises a user error.

\`\`\`
> (error \"wrong argument!\")
Error: user_error: wrong argument!
at native function <error_impl__677_v0>
> (error \"my_error\" \"something is wrong\") ; custom error code
Error: my_error: something is wrong
at native function <error_impl__677_v0>
\`\`\`
"
function error_impl__1405_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__29=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__29[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__30=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__30 != 0 ]; then
        __AF_error_impl1405_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__33=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__33
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__34=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__34 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__35="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__35="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__35}" "invalid argument list: ""${__AF_object_to_string148_v0__35}";
        __AF_new_err40_v0__35=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__35[@];
        __AF_native_return581_v0__35=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__35 > /dev/null 2>&1
        __AF_error_impl1405_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__38=$__AF_cons_car107_v0;
    local msg=$__AF_cons_car107_v0__38
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__39=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__39
    object_is_text__99_v0 ${msg};
    __AF_object_is_text99_v0__40=$__AF_object_is_text99_v0;
    if [ $(echo  '!' $__AF_object_is_text99_v0__40 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__41="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__41="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__41}" "invalid argument list: ""${__AF_object_to_string148_v0__41}";
        __AF_new_err40_v0__41=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__41[@];
        __AF_native_return581_v0__41=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__41 > /dev/null 2>&1
        __AF_error_impl1405_v0='';
        return 0
fi
    local code=""
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__45=$__AF_object_is_nil102_v0;
    if [ $__AF_object_is_nil102_v0__45 != 0 ]; then
        code_user_error__35_v0 ;
        __AF_code_user_error35_v0__46="${__AF_code_user_error35_v0}";
        code="${__AF_code_user_error35_v0__46}"
fi
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__48=$__AF_object_is_cons103_v0;
    if [ $__AF_object_is_cons103_v0__48 != 0 ]; then
        cons_car__107_v0 ${args};
        __AF_cons_car107_v0__49=$__AF_cons_car107_v0;
        local next=$__AF_cons_car107_v0__49
        object_is_text__99_v0 ${next};
        __AF_object_is_text99_v0__50=$__AF_object_is_text99_v0;
        if [ $(echo  '!' $__AF_object_is_text99_v0__50 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__51="${__AF_code_invalid_argument30_v0}";
            object_to_string__148_v0 ${args};
            __AF_object_to_string148_v0__51="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__51}" "invalid argument list: ""${__AF_object_to_string148_v0__51}";
            __AF_new_err40_v0__51=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__51[@];
            __AF_native_return581_v0__51=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__51 > /dev/null 2>&1
            __AF_error_impl1405_v0='';
            return 0
fi
        text_value__105_v0 ${msg};
        __AF_text_value105_v0__54="${__AF_text_value105_v0}";
        code="${__AF_text_value105_v0__54}"
        msg=${next}
        cons_cdr__108_v0 ${args};
        __AF_cons_cdr108_v0__56=$__AF_cons_cdr108_v0;
        args=$__AF_cons_cdr108_v0__56
        object_is_nil__102_v0 ${args};
        __AF_object_is_nil102_v0__57=$__AF_object_is_nil102_v0;
        if [ $(echo  '!' $__AF_object_is_nil102_v0__57 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__58="${__AF_code_invalid_argument30_v0}";
            object_to_string__148_v0 ${args};
            __AF_object_to_string148_v0__58="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__58}" "invalid argument list: ""${__AF_object_to_string148_v0__58}";
            __AF_new_err40_v0__58=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__58[@];
            __AF_native_return581_v0__58=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__58 > /dev/null 2>&1
            __AF_error_impl1405_v0='';
            return 0
fi
fi
    if [ $([ "_${code}" != "_" ]; echo $?) != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__63="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__63="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__63}" "invalid argument list: ""${__AF_object_to_string148_v0__63}";
        __AF_new_err40_v0__63=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__63[@];
        __AF_native_return581_v0__63=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__63 > /dev/null 2>&1
        __AF_error_impl1405_v0='';
        return 0
fi
    text_value__105_v0 ${msg};
    __AF_text_value105_v0__66="${__AF_text_value105_v0}";
    new_err__40_v0 "${code}" "${__AF_text_value105_v0__66}";
    __AF_new_err40_v0__66=("${__AF_new_err40_v0[@]}");
    local err=("${__AF_new_err40_v0__66[@]}")
    native_return__581_v0 err[@];
    __AF_native_return581_v0__67=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__67 > /dev/null 2>&1
    __AF_error_impl1405_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__71=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__71 > /dev/null 2>&1
error_impl__1405_v0 ;
__AF_error_impl1405_v0__72=$__AF_error_impl1405_v0;
echo $__AF_error_impl1405_v0__72 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__73="${__AF_native_get_last_funcref579_v0}";
__79__funcref_error="${__AF_native_get_last_funcref579_v0__73}"
__82__special_catch_desc="Catches an error.

\`\`\`
> (catch (\"zero_division\"
           (echo \"Do not divide by zero!\")
           'fail)
    (echo (object->text (/ 10 0)))
    'ok)
Do not divide by zero!
;=> fail
> (catch (\"some_error\" 'handled)
    (error \"another_error\" \"This error will not be caught\"))
Error: another_error: This error will not be caught
at native function <error_impl__677_v0>
\`\`\`
"
function special_catch_impl__1407_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__97=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__97[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__98=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__98 != 0 ]; then
        __AF_special_catch_impl1407_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__101=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__101
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__102=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__102 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__103="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__103="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__103}" "invalid argument list: ""${__AF_object_to_string148_v0__103}";
        __AF_new_err40_v0__103=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__103[@];
        __AF_native_return581_v0__103=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__103 > /dev/null 2>&1
        __AF_special_catch_impl1407_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__106=$__AF_cons_car107_v0;
    local env=$__AF_cons_car107_v0__106
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__107=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__107
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__108=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__108 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__109="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__109="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__109}" "invalid argument list: ""${__AF_object_to_string148_v0__109}";
        __AF_new_err40_v0__109=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__109[@];
        __AF_native_return581_v0__109=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__109 > /dev/null 2>&1
        __AF_special_catch_impl1407_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__112=$__AF_cons_car107_v0;
    local ctx=$__AF_cons_car107_v0__112
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__113=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__113
    object_is_text__99_v0 ${ctx};
    __AF_object_is_text99_v0__114=$__AF_object_is_text99_v0;
    if [ $(echo  '!' $__AF_object_is_text99_v0__114 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__115="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__115="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__115}" "invalid argument list: ""${__AF_object_to_string148_v0__115}";
        __AF_new_err40_v0__115=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__115[@];
        __AF_native_return581_v0__115=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__115 > /dev/null 2>&1
        __AF_special_catch_impl1407_v0='';
        return 0
fi
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__118=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__118 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__119="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__119="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__119}" "invalid argument list: ""${__AF_object_to_string148_v0__119}";
        __AF_new_err40_v0__119=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__119[@];
        __AF_native_return581_v0__119=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__119 > /dev/null 2>&1
        __AF_special_catch_impl1407_v0='';
        return 0
fi
    text_value__105_v0 ${ctx};
    __AF_text_value105_v0__122="${__AF_text_value105_v0}";
    local ctx="${__AF_text_value105_v0__122}"
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__124=$__AF_cons_car107_v0;
    local handler=$__AF_cons_car107_v0__124
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__125=$__AF_cons_cdr108_v0;
    local body=$__AF_cons_cdr108_v0__125
    object_is_cons__103_v0 ${handler};
    __AF_object_is_cons103_v0__126=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__126 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_syntax_error__31_v0 ;
        __AF_code_syntax_error31_v0__127="${__AF_code_syntax_error31_v0}";
        object_to_string__148_v0 ${handler};
        __AF_object_to_string148_v0__127="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_syntax_error31_v0__127}" "invalid error handler: ""${__AF_object_to_string148_v0__127}";
        __AF_new_err40_v0__127=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__127[@];
        __AF_native_return581_v0__127=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__127 > /dev/null 2>&1
        __AF_special_catch_impl1407_v0='';
        return 0
fi
    cons_car__107_v0 ${handler};
    __AF_cons_car107_v0__130=$__AF_cons_car107_v0;
    local code=$__AF_cons_car107_v0__130
    cons_cdr__108_v0 ${handler};
    __AF_cons_cdr108_v0__131=$__AF_cons_cdr108_v0;
    local handler_body=$__AF_cons_cdr108_v0__131
    object_is_text__99_v0 ${code};
    __AF_object_is_text99_v0__132=$__AF_object_is_text99_v0;
    if [ $(echo  '!' $__AF_object_is_text99_v0__132 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_syntax_error__31_v0 ;
        __AF_code_syntax_error31_v0__133="${__AF_code_syntax_error31_v0}";
        object_to_string__148_v0 ${code};
        __AF_object_to_string148_v0__133="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_syntax_error31_v0__133}" "invalid error code: ""${__AF_object_to_string148_v0__133}";
        __AF_new_err40_v0__133=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__133[@];
        __AF_native_return581_v0__133=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__133 > /dev/null 2>&1
        __AF_special_catch_impl1407_v0='';
        return 0
fi
    text_value__105_v0 ${code};
    __AF_text_value105_v0__136="${__AF_text_value105_v0}";
    local code="${__AF_text_value105_v0__136}"
    eval_sequence__593_v0 ${body} ${env} "${ctx}";
    __AF_eval_sequence593_v0__137=("${__AF_eval_sequence593_v0[@]}");
    local body_result=("${__AF_eval_sequence593_v0__137[@]}")
    result_is_ok__41_v0 body_result[@];
    __AF_result_is_ok41_v0__138=$__AF_result_is_ok41_v0;
    if [ $__AF_result_is_ok41_v0__138 != 0 ]; then
        native_return__581_v0 body_result[@];
        __AF_native_return581_v0__139=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__139 > /dev/null 2>&1
        __AF_special_catch_impl1407_v0='';
        return 0
fi
    err_code__44_v0 body_result[@];
    __AF_err_code44_v0__143="${__AF_err_code44_v0}";
    local got_code="${__AF_err_code44_v0__143}"
    if [ $([ "_${code}" == "_${got_code}" ]; echo $?) != 0 ]; then
        native_return__581_v0 body_result[@];
        __AF_native_return581_v0__145=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__145 > /dev/null 2>&1
        __AF_special_catch_impl1407_v0='';
        return 0
fi
    eval_sequence__593_v0 ${handler_body} ${env} "${ctx}";
    __AF_eval_sequence593_v0__148=("${__AF_eval_sequence593_v0[@]}");
    local handler_result=("${__AF_eval_sequence593_v0__148[@]}")
    native_return__581_v0 handler_result[@];
    __AF_native_return581_v0__149=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__149 > /dev/null 2>&1
    __AF_special_catch_impl1407_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__153=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__153 > /dev/null 2>&1
special_catch_impl__1407_v0 ;
__AF_special_catch_impl1407_v0__154=$__AF_special_catch_impl1407_v0;
echo $__AF_special_catch_impl1407_v0__154 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__155="${__AF_native_get_last_funcref579_v0}";
__80__funcref_special_catch="${__AF_native_get_last_funcref579_v0__155}"
function runtime_corelib_error_import__1408_v0 {
    local env=$1
    new_symbol__121_v0 "catch";
    __AF_new_symbol121_v0__158=$__AF_new_symbol121_v0;
    new_special_form__129_v0 "${__80__funcref_special_catch}" "${__82__special_catch_desc}";
    __AF_new_special_form129_v0__158=$__AF_new_special_form129_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__158 $__AF_new_special_form129_v0__158;
    __AF_env_define295_v0__158=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__158
    new_symbol__121_v0 "error";
    __AF_new_symbol121_v0__159=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__79__funcref_error}" "${__81__error_desc}";
    __AF_new_native_fun125_v0__159=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__159 $__AF_new_native_fun125_v0__159;
    __AF_env_define295_v0__159=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__159
    __AF_runtime_corelib_error_import1408_v0=${env};
    return 0
}
__83__funcref_echo=""
__84__funcref_exit=""
__85__funcref_special_help=""
__86__funcref_special_eval=""
__87__funcref_object_to_text=""
__88__echo_desc="Prints arguments.

\`\`\`
> (echo \"Hello\")
Hello
;=> nil
> (echo \"Hello\" \"world\")
Hello
world
;=> nil
\`\`\`
"
function echo_impl__1513_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__33=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__33[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__34=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__34 != 0 ]; then
        __AF_echo_impl1513_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__37=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__37
    while :
do
        object_is_nil__102_v0 ${args};
        __AF_object_is_nil102_v0__39=$__AF_object_is_nil102_v0;
        if [ $__AF_object_is_nil102_v0__39 != 0 ]; then
            break
fi
        object_is_cons__103_v0 ${args};
        __AF_object_is_cons103_v0__42=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__42 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__43="${__AF_code_invalid_argument30_v0}";
            object_to_string__148_v0 ${args};
            __AF_object_to_string148_v0__43="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__43}" "invalid argument list: ""${__AF_object_to_string148_v0__43}";
            __AF_new_err40_v0__43=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__43[@];
            __AF_native_return581_v0__43=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__43 > /dev/null 2>&1
            __AF_echo_impl1513_v0='';
            return 0
fi
        cons_car__107_v0 ${args};
        __AF_cons_car107_v0__46=$__AF_cons_car107_v0;
        local msg=$__AF_cons_car107_v0__46
        cons_cdr__108_v0 ${args};
        __AF_cons_cdr108_v0__47=$__AF_cons_cdr108_v0;
        args=$__AF_cons_cdr108_v0__47
        object_is_text__99_v0 ${msg};
        __AF_object_is_text99_v0__48=$__AF_object_is_text99_v0;
        if [ $(echo  '!' $__AF_object_is_text99_v0__48 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__49="${__AF_code_invalid_argument30_v0}";
            object_to_string__148_v0 ${msg};
            __AF_object_to_string148_v0__49="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__49}" "argument is not text: ""${__AF_object_to_string148_v0__49}";
            __AF_new_err40_v0__49=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__49[@];
            __AF_native_return581_v0__49=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__49 > /dev/null 2>&1
            __AF_echo_impl1513_v0='';
            return 0
fi
        text_value__105_v0 ${msg};
        __AF_text_value105_v0__52="${__AF_text_value105_v0}";
        echo "${__AF_text_value105_v0__52}"
done
    new_nil__123_v0 ;
    __AF_new_nil123_v0__54=$__AF_new_nil123_v0;
    new_ok__39_v0 $__AF_new_nil123_v0__54;
    __AF_new_ok39_v0__54=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__54[@];
    __AF_native_return581_v0__54=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__54 > /dev/null 2>&1
    __AF_echo_impl1513_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__58=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__58 > /dev/null 2>&1
echo_impl__1513_v0 ;
__AF_echo_impl1513_v0__59=$__AF_echo_impl1513_v0;
echo $__AF_echo_impl1513_v0__59 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__60="${__AF_native_get_last_funcref579_v0}";
__83__funcref_echo="${__AF_native_get_last_funcref579_v0__60}"
__89__exit_desc="Exits the interpreter.

\`\`\`
> (exit)
;=> interpreter exits
\`\`\`
"
function exit_impl__1515_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__75=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__75[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__76=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__76 != 0 ]; then
        __AF_exit_impl1515_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__79=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__79
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__80=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__80 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__81="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__81="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__81}" "invalid argument list: ""${__AF_object_to_string148_v0__81}";
        __AF_new_err40_v0__81=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__81[@];
        __AF_native_return581_v0__81=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__81 > /dev/null 2>&1
        __AF_exit_impl1515_v0='';
        return 0
fi
    code_exit_interpreter__36_v0 ;
    __AF_code_exit_interpreter36_v0__84="${__AF_code_exit_interpreter36_v0}";
    new_err__40_v0 "${__AF_code_exit_interpreter36_v0__84}" "exit";
    __AF_new_err40_v0__84=("${__AF_new_err40_v0[@]}");
    local err=("${__AF_new_err40_v0__84[@]}")
    native_return__581_v0 err[@];
    __AF_native_return581_v0__85=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__85 > /dev/null 2>&1
    __AF_exit_impl1515_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__89=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__89 > /dev/null 2>&1
exit_impl__1515_v0 ;
__AF_exit_impl1515_v0__90=$__AF_exit_impl1515_v0;
echo $__AF_exit_impl1515_v0__90 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__91="${__AF_native_get_last_funcref579_v0}";
__84__funcref_exit="${__AF_native_get_last_funcref579_v0__91}"
__90__special_help_desc="Shows this help.

\`\`\`
> (help)
## Function: \`+\`
Adds arguments.
...
## Function: \`-\`
Subtracts arguments.
...
;=> nil
\`\`\`
"
function special_help_impl__1517_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__112=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__112[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__113=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__113 != 0 ]; then
        __AF_special_help_impl1517_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__116=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__116
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__117=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__117 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__118="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__118="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__118}" "invalid argument list: ""${__AF_object_to_string148_v0__118}";
        __AF_new_err40_v0__118=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__118[@];
        __AF_native_return581_v0__118=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__118 > /dev/null 2>&1
        __AF_special_help_impl1517_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__121=$__AF_cons_car107_v0;
    local env=$__AF_cons_car107_v0__121
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__122=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__122
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__123=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__123 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__124="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__124="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__124}" "invalid argument list: ""${__AF_object_to_string148_v0__124}";
        __AF_new_err40_v0__124=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__124[@];
        __AF_native_return581_v0__124=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__124 > /dev/null 2>&1
        __AF_special_help_impl1517_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__127=$__AF_cons_car107_v0;
    local ctx=$__AF_cons_car107_v0__127
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__128=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__128
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__129=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__129 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__130="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__130="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__130}" "invalid argument list: ""${__AF_object_to_string148_v0__130}";
        __AF_new_err40_v0__130=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__130[@];
        __AF_native_return581_v0__130=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__130 > /dev/null 2>&1
        __AF_special_help_impl1517_v0='';
        return 0
fi
    while :
do
        object_is_nil__102_v0 ${env};
        __AF_object_is_nil102_v0__135=$__AF_object_is_nil102_v0;
        if [ $__AF_object_is_nil102_v0__135 != 0 ]; then
            break
fi
        cons_car__107_v0 ${env};
        __AF_cons_car107_v0__138=$__AF_cons_car107_v0;
        local var=$__AF_cons_car107_v0__138
        cons_cdr__108_v0 ${env};
        __AF_cons_cdr108_v0__139=$__AF_cons_cdr108_v0;
        env=$__AF_cons_cdr108_v0__139
        object_is_symbol__100_v0 ${var};
        __AF_object_is_symbol100_v0__140=$__AF_object_is_symbol100_v0;
        if [ $(echo  '!' $__AF_object_is_symbol100_v0__140 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__141="${__AF_code_invalid_argument30_v0}";
            object_to_string__148_v0 ${var};
            __AF_object_to_string148_v0__141="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__141}" "invalid variable name: ""${__AF_object_to_string148_v0__141}";
            __AF_new_err40_v0__141=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__141[@];
            __AF_native_return581_v0__141=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__141 > /dev/null 2>&1
            __AF_special_help_impl1517_v0='';
            return 0
fi
        object_is_cons__103_v0 ${env};
        __AF_object_is_cons103_v0__144=$__AF_object_is_cons103_v0;
        if [ $(echo  '!' $__AF_object_is_cons103_v0__144 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            code_invalid_argument__30_v0 ;
            __AF_code_invalid_argument30_v0__145="${__AF_code_invalid_argument30_v0}";
            object_to_string__148_v0 ${env};
            __AF_object_to_string148_v0__145="${__AF_object_to_string148_v0}";
            new_err__40_v0 "${__AF_code_invalid_argument30_v0__145}" "invalid env: ""${__AF_object_to_string148_v0__145}";
            __AF_new_err40_v0__145=("${__AF_new_err40_v0[@]}");
            native_return__581_v0 __AF_new_err40_v0__145[@];
            __AF_native_return581_v0__145=$__AF_native_return581_v0;
            echo $__AF_native_return581_v0__145 > /dev/null 2>&1
            __AF_special_help_impl1517_v0='';
            return 0
fi
        cons_car__107_v0 ${env};
        __AF_cons_car107_v0__148=$__AF_cons_car107_v0;
        local value=$__AF_cons_car107_v0__148
        cons_cdr__108_v0 ${env};
        __AF_cons_cdr108_v0__149=$__AF_cons_cdr108_v0;
        env=$__AF_cons_cdr108_v0__149
        symbol_name__106_v0 ${var};
        __AF_symbol_name106_v0__151="${__AF_symbol_name106_v0}";
        local name="${__AF_symbol_name106_v0__151}"
        local kind=""
        local desc=""
        object_is_native_fun__126_v0 ${value};
        __AF_object_is_native_fun126_v0__154=$__AF_object_is_native_fun126_v0;
        if [ $__AF_object_is_native_fun126_v0__154 != 0 ]; then
            kind="Function"
            native_fun_desc__128_v0 ${value};
            __AF_native_fun_desc128_v0__156="${__AF_native_fun_desc128_v0}";
            desc="${__AF_native_fun_desc128_v0__156}"
fi
        object_is_special_form__130_v0 ${value};
        __AF_object_is_special_form130_v0__158=$__AF_object_is_special_form130_v0;
        if [ $__AF_object_is_special_form130_v0__158 != 0 ]; then
            kind="Special form"
            special_form_desc__132_v0 ${value};
            __AF_special_form_desc132_v0__160="${__AF_special_form_desc132_v0}";
            desc="${__AF_special_form_desc132_v0__160}"
fi
        object_is_decl__140_v0 ${value};
        __AF_object_is_decl140_v0__162=$__AF_object_is_decl140_v0;
        if [ $__AF_object_is_decl140_v0__162 != 0 ]; then
            kind="Declaration"
            decl_desc__142_v0 ${value};
            __AF_decl_desc142_v0__164="${__AF_decl_desc142_v0}";
            desc="${__AF_decl_desc142_v0__164}"
fi
        if [ $([ "_${kind}" == "_" ]; echo $?) != 0 ]; then
            echo "## ${kind}: \`${name}\`"
            echo "${desc}"
fi
done
    new_nil__123_v0 ;
    __AF_new_nil123_v0__171=$__AF_new_nil123_v0;
    new_ok__39_v0 $__AF_new_nil123_v0__171;
    __AF_new_ok39_v0__171=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__171[@];
    __AF_native_return581_v0__171=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__171 > /dev/null 2>&1
    __AF_special_help_impl1517_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__175=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__175 > /dev/null 2>&1
special_help_impl__1517_v0 ;
__AF_special_help_impl1517_v0__176=$__AF_special_help_impl1517_v0;
echo $__AF_special_help_impl1517_v0__176 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__177="${__AF_native_get_last_funcref579_v0}";
__85__funcref_special_help="${__AF_native_get_last_funcref579_v0__177}"
__91__special_eval_desc="Evaluates an expression.

\`\`\`
> (eval '(+ 1 2))
;=> 3
> (let ((a 1) (b 2)) (eval '(cons a b)))
;=> (1 . 2)
\`\`\`
"
function special_eval_impl__1519_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__194=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__194[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__195=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__195 != 0 ]; then
        __AF_special_eval_impl1519_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__198=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__198
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__199=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__199 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__200="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__200="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__200}" "invalid argument list: ""${__AF_object_to_string148_v0__200}";
        __AF_new_err40_v0__200=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__200[@];
        __AF_native_return581_v0__200=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__200 > /dev/null 2>&1
        __AF_special_eval_impl1519_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__203=$__AF_cons_car107_v0;
    local env=$__AF_cons_car107_v0__203
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__204=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__204
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__205=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__205 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__206="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__206="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__206}" "invalid argument list: ""${__AF_object_to_string148_v0__206}";
        __AF_new_err40_v0__206=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__206[@];
        __AF_native_return581_v0__206=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__206 > /dev/null 2>&1
        __AF_special_eval_impl1519_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__209=$__AF_cons_car107_v0;
    local ctx=$__AF_cons_car107_v0__209
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__210=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__210
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__211=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__211 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__212="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__212="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__212}" "invalid argument list: ""${__AF_object_to_string148_v0__212}";
        __AF_new_err40_v0__212=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__212[@];
        __AF_native_return581_v0__212=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__212 > /dev/null 2>&1
        __AF_special_eval_impl1519_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__215=$__AF_cons_car107_v0;
    local quoted_expr=$__AF_cons_car107_v0__215
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__216=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__216
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__217=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__217 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__218="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__218="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__218}" "invalid argument list: ""${__AF_object_to_string148_v0__218}";
        __AF_new_err40_v0__218=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__218[@];
        __AF_native_return581_v0__218=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__218 > /dev/null 2>&1
        __AF_special_eval_impl1519_v0='';
        return 0
fi
    text_value__105_v0 ${ctx};
    __AF_text_value105_v0__221="${__AF_text_value105_v0}";
    eval_expr__592_v0 ${quoted_expr} ${env} "${__AF_text_value105_v0__221}";
    __AF_eval_expr592_v0__221=("${__AF_eval_expr592_v0[@]}");
    local expr_result=("${__AF_eval_expr592_v0__221[@]}")
    result_is_err__42_v0 expr_result[@];
    __AF_result_is_err42_v0__222=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__222 != 0 ]; then
        native_return__581_v0 expr_result[@];
        __AF_native_return581_v0__223=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__223 > /dev/null 2>&1
        __AF_special_eval_impl1519_v0='';
        return 0
fi
    ok_val__43_v0 expr_result[@];
    __AF_ok_val43_v0__226=$__AF_ok_val43_v0;
    local expr=$__AF_ok_val43_v0__226
    eval_expr__592_v0 ${expr} ${env} "<eval>";
    __AF_eval_expr592_v0__230=("${__AF_eval_expr592_v0[@]}");
    local result=("${__AF_eval_expr592_v0__230[@]}")
    native_return__581_v0 result[@];
    __AF_native_return581_v0__231=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__231 > /dev/null 2>&1
    __AF_special_eval_impl1519_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__235=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__235 > /dev/null 2>&1
special_eval_impl__1519_v0 ;
__AF_special_eval_impl1519_v0__236=$__AF_special_eval_impl1519_v0;
echo $__AF_special_eval_impl1519_v0__236 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__237="${__AF_native_get_last_funcref579_v0}";
__86__funcref_special_eval="${__AF_native_get_last_funcref579_v0__237}"
__92__object_to_text_desc="Converts an object into a text.

\`\`\`
> (object->text 123)
;=> \"123\"
> (object->text '(1 a t nil))
;=> \"(1 a t nil)\"
\`\`\`
"
function object_to_text_impl__1521_v0 {
    native_get_args__580_v0 ;
    __AF_native_get_args580_v0__254=("${__AF_native_get_args580_v0[@]}");
    local result_args=("${__AF_native_get_args580_v0__254[@]}")
    result_is_err__42_v0 result_args[@];
    __AF_result_is_err42_v0__255=$__AF_result_is_err42_v0;
    if [ $__AF_result_is_err42_v0__255 != 0 ]; then
        __AF_object_to_text_impl1521_v0='';
        return 0
fi
    ok_val__43_v0 result_args[@];
    __AF_ok_val43_v0__258=$__AF_ok_val43_v0;
    local args=$__AF_ok_val43_v0__258
    object_is_cons__103_v0 ${args};
    __AF_object_is_cons103_v0__259=$__AF_object_is_cons103_v0;
    if [ $(echo  '!' $__AF_object_is_cons103_v0__259 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__260="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__260="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__260}" "invalid argument list: ""${__AF_object_to_string148_v0__260}";
        __AF_new_err40_v0__260=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__260[@];
        __AF_native_return581_v0__260=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__260 > /dev/null 2>&1
        __AF_object_to_text_impl1521_v0='';
        return 0
fi
    cons_car__107_v0 ${args};
    __AF_cons_car107_v0__263=$__AF_cons_car107_v0;
    local obj=$__AF_cons_car107_v0__263
    cons_cdr__108_v0 ${args};
    __AF_cons_cdr108_v0__264=$__AF_cons_cdr108_v0;
    args=$__AF_cons_cdr108_v0__264
    object_is_nil__102_v0 ${args};
    __AF_object_is_nil102_v0__265=$__AF_object_is_nil102_v0;
    if [ $(echo  '!' $__AF_object_is_nil102_v0__265 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        code_invalid_argument__30_v0 ;
        __AF_code_invalid_argument30_v0__266="${__AF_code_invalid_argument30_v0}";
        object_to_string__148_v0 ${args};
        __AF_object_to_string148_v0__266="${__AF_object_to_string148_v0}";
        new_err__40_v0 "${__AF_code_invalid_argument30_v0__266}" "invalid argument list: ""${__AF_object_to_string148_v0__266}";
        __AF_new_err40_v0__266=("${__AF_new_err40_v0[@]}");
        native_return__581_v0 __AF_new_err40_v0__266[@];
        __AF_native_return581_v0__266=$__AF_native_return581_v0;
        echo $__AF_native_return581_v0__266 > /dev/null 2>&1
        __AF_object_to_text_impl1521_v0='';
        return 0
fi
    object_to_string__148_v0 ${obj};
    __AF_object_to_string148_v0__269="${__AF_object_to_string148_v0}";
    local str="${__AF_object_to_string148_v0__269}"
    new_text__120_v0 "${str}";
    __AF_new_text120_v0__270=$__AF_new_text120_v0;
    new_ok__39_v0 $__AF_new_text120_v0__270;
    __AF_new_ok39_v0__270=("${__AF_new_ok39_v0[@]}");
    native_return__581_v0 __AF_new_ok39_v0__270[@];
    __AF_native_return581_v0__270=$__AF_native_return581_v0;
    echo $__AF_native_return581_v0__270 > /dev/null 2>&1
    __AF_object_to_text_impl1521_v0='';
    return 0
}
native_track_next_funcall__578_v0 ;
__AF_native_track_next_funcall578_v0__274=$__AF_native_track_next_funcall578_v0;
echo $__AF_native_track_next_funcall578_v0__274 > /dev/null 2>&1
object_to_text_impl__1521_v0 ;
__AF_object_to_text_impl1521_v0__275=$__AF_object_to_text_impl1521_v0;
echo $__AF_object_to_text_impl1521_v0__275 > /dev/null 2>&1
native_get_last_funcref__579_v0 ;
__AF_native_get_last_funcref579_v0__276="${__AF_native_get_last_funcref579_v0}";
__87__funcref_object_to_text="${__AF_native_get_last_funcref579_v0__276}"
function runtime_corelib_utils_import__1522_v0 {
    local env=$1
    new_symbol__121_v0 "help";
    __AF_new_symbol121_v0__279=$__AF_new_symbol121_v0;
    new_special_form__129_v0 "${__85__funcref_special_help}" "${__90__special_help_desc}";
    __AF_new_special_form129_v0__279=$__AF_new_special_form129_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__279 $__AF_new_special_form129_v0__279;
    __AF_env_define295_v0__279=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__279
    new_symbol__121_v0 "exit";
    __AF_new_symbol121_v0__280=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__84__funcref_exit}" "${__89__exit_desc}";
    __AF_new_native_fun125_v0__280=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__280 $__AF_new_native_fun125_v0__280;
    __AF_env_define295_v0__280=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__280
    new_symbol__121_v0 "eval";
    __AF_new_symbol121_v0__281=$__AF_new_symbol121_v0;
    new_special_form__129_v0 "${__86__funcref_special_eval}" "${__91__special_eval_desc}";
    __AF_new_special_form129_v0__281=$__AF_new_special_form129_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__281 $__AF_new_special_form129_v0__281;
    __AF_env_define295_v0__281=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__281
    new_symbol__121_v0 "object->text";
    __AF_new_symbol121_v0__282=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__87__funcref_object_to_text}" "${__92__object_to_text_desc}";
    __AF_new_native_fun125_v0__282=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__282 $__AF_new_native_fun125_v0__282;
    __AF_env_define295_v0__282=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__282
    new_symbol__121_v0 "echo";
    __AF_new_symbol121_v0__283=$__AF_new_symbol121_v0;
    new_native_fun__125_v0 "${__83__funcref_echo}" "${__88__echo_desc}";
    __AF_new_native_fun125_v0__283=$__AF_new_native_fun125_v0;
    env_define__295_v0 ${env} $__AF_new_symbol121_v0__283 $__AF_new_native_fun125_v0__283;
    __AF_env_define295_v0__283=$__AF_env_define295_v0;
    env=$__AF_env_define295_v0__283
    __AF_runtime_corelib_utils_import1522_v0=${env};
    return 0
}
function runtime_corelib_import__1528_v0 {
    local env=$1
    runtime_corelib_utils_import__1522_v0 ${env};
    __AF_runtime_corelib_utils_import1522_v0__15=$__AF_runtime_corelib_utils_import1522_v0;
    env=$__AF_runtime_corelib_utils_import1522_v0__15
    runtime_corelib_error_import__1408_v0 ${env};
    __AF_runtime_corelib_error_import1408_v0__16=$__AF_runtime_corelib_error_import1408_v0;
    env=$__AF_runtime_corelib_error_import1408_v0__16
    runtime_corelib_list_import__1197_v0 ${env};
    __AF_runtime_corelib_list_import1197_v0__17=$__AF_runtime_corelib_list_import1197_v0;
    env=$__AF_runtime_corelib_list_import1197_v0__17
    runtime_corelib_text_import__1302_v0 ${env};
    __AF_runtime_corelib_text_import1302_v0__18=$__AF_runtime_corelib_text_import1302_v0;
    env=$__AF_runtime_corelib_text_import1302_v0__18
    runtime_corelib_math_import__1084_v0 ${env};
    __AF_runtime_corelib_math_import1084_v0__19=$__AF_runtime_corelib_math_import1084_v0;
    env=$__AF_runtime_corelib_math_import1084_v0__19
    runtime_corelib_primitive_import__960_v0 ${env};
    __AF_runtime_corelib_primitive_import960_v0__20=$__AF_runtime_corelib_primitive_import960_v0;
    env=$__AF_runtime_corelib_primitive_import960_v0__20
    runtime_corelib_syntax_import__822_v0 ${env};
    __AF_runtime_corelib_syntax_import822_v0__21=$__AF_runtime_corelib_syntax_import822_v0;
    env=$__AF_runtime_corelib_syntax_import822_v0__21
    __AF_runtime_corelib_import1528_v0=${env};
    return 0
}
function show_error__1530_v0 {
    local err=("${!1}")
    err_code__44_v0 err[@];
    __AF_err_code44_v0__10="${__AF_err_code44_v0}";
    local code="${__AF_err_code44_v0__10}"
    err_reason__45_v0 err[@];
    __AF_err_reason45_v0__11="${__AF_err_reason45_v0}";
    local reason="${__AF_err_reason45_v0__11}"
    err_traces__47_v0 err[@];
    __AF_err_traces47_v0__12=("${__AF_err_traces47_v0[@]}");
    local traces=("${__AF_err_traces47_v0__12[@]}")
    echo "Error: ${code}: ${reason}"
    for t in "${traces[@]}"
do
        echo "at ${t}"
done
}
function parse_and_eval_toplevel__1531_v0 {
    local source=$1
    init_parser__390_v0 "${source}";
    __AF_init_parser390_v0__20=$__AF_init_parser390_v0;
    echo $__AF_init_parser390_v0__20 > /dev/null 2>&1
    new_env__294_v0 ;
    __AF_new_env294_v0__21=$__AF_new_env294_v0;
    local env=$__AF_new_env294_v0__21
    runtime_corelib_import__1528_v0 ${env};
    __AF_runtime_corelib_import1528_v0__22=$__AF_runtime_corelib_import1528_v0;
    env=$__AF_runtime_corelib_import1528_v0__22
    local i=0
    while :
do
        if [ $(echo $(echo ${i} '%' 10 | bc  | sed '/\./ s/\.\{0,1\}0\{1,\}$//') '==' 9 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            __AMBER_ARRAY_31=(${env});
            garbage_collect__150_v0 __AMBER_ARRAY_31[@];
            __AF_garbage_collect150_v0__26=$__AF_garbage_collect150_v0;
            echo $__AF_garbage_collect150_v0__26 > /dev/null 2>&1
fi
        parse_sexp__408_v0 ;
        __AF_parse_sexp408_v0__28=("${__AF_parse_sexp408_v0[@]}");
        local result_expr=("${__AF_parse_sexp408_v0__28[@]}")
        result_is_err__42_v0 result_expr[@];
        __AF_result_is_err42_v0__29=$__AF_result_is_err42_v0;
        if [ $__AF_result_is_err42_v0__29 != 0 ]; then
            err_code__44_v0 result_expr[@];
            __AF_err_code44_v0__30="${__AF_err_code44_v0}";
            local code="${__AF_err_code44_v0__30}"
            code_stop_iteration__33_v0 ;
            __AF_code_stop_iteration33_v0__31="${__AF_code_stop_iteration33_v0}";
            if [ $([ "_${code}" != "_${__AF_code_stop_iteration33_v0__31}" ]; echo $?) != 0 ]; then
                break
fi
            show_error__1530_v0 result_expr[@];
            __AF_show_error1530_v0__34=$__AF_show_error1530_v0;
            echo $__AF_show_error1530_v0__34 > /dev/null 2>&1
            __AF_parse_and_eval_toplevel1531_v0='';
            return 1
fi
        ok_val__43_v0 result_expr[@];
        __AF_ok_val43_v0__37=$__AF_ok_val43_v0;
        local expr=$__AF_ok_val43_v0__37
        eval_toplevel__601_v0 ${expr} ${env} "<toplevel>";
        __AF_eval_toplevel601_v0__38=("${__AF_eval_toplevel601_v0[@]}");
        local eval_result=("${__AF_eval_toplevel601_v0__38[@]}")
        result_is_err__42_v0 eval_result[@];
        __AF_result_is_err42_v0__39=$__AF_result_is_err42_v0;
        if [ $__AF_result_is_err42_v0__39 != 0 ]; then
            err_code__44_v0 eval_result[@];
            __AF_err_code44_v0__40="${__AF_err_code44_v0}";
            local code="${__AF_err_code44_v0__40}"
            code_exit_interpreter__36_v0 ;
            __AF_code_exit_interpreter36_v0__41="${__AF_code_exit_interpreter36_v0}";
            if [ $([ "_${code}" != "_${__AF_code_exit_interpreter36_v0__41}" ]; echo $?) != 0 ]; then
                break
fi
            show_error__1530_v0 eval_result[@];
            __AF_show_error1530_v0__44=$__AF_show_error1530_v0;
            echo $__AF_show_error1530_v0__44 > /dev/null 2>&1
            __AF_parse_and_eval_toplevel1531_v0='';
            return 1
fi
        result_is_toplevel_decl__599_v0 eval_result[@];
        __AF_result_is_toplevel_decl599_v0__47=$__AF_result_is_toplevel_decl599_v0;
        if [ $__AF_result_is_toplevel_decl599_v0__47 != 0 ]; then
            toplevel_decl_env__600_v0 eval_result[@];
            __AF_toplevel_decl_env600_v0__48=$__AF_toplevel_decl_env600_v0;
            env=$__AF_toplevel_decl_env600_v0__48
fi
        i=$(echo ${i} '+' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//')
done
}
function usage__1532_v0 {
    echo "Usage:"
    echo "    ablisp /path/to/file.lisp"
    echo "    ablisp -c 'expressions...'"
    __AF_usage1532_v0='';
    return 1
}
function run__1533_v0 {
    local args=("${!1}")
    len__18_v1 args[@];
    __AF_len18_v1__62=$__AF_len18_v1;
    if [ $(echo $__AF_len18_v1__62 '<' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
        usage__1532_v0 ;
        __AS=$?;
if [ $__AS != 0 ]; then
__AF_run1533_v0=''
return $__AS
fi;
        __AF_usage1532_v0__63=$__AF_usage1532_v0;
        echo $__AF_usage1532_v0__63 > /dev/null 2>&1
fi
    local source=""
    if [ $([ "_${args[0]}" != "_-c" ]; echo $?) != 0 ]; then
        len__18_v1 args[@];
        __AF_len18_v1__67=$__AF_len18_v1;
        if [ $(echo $__AF_len18_v1__67 '!=' 2 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            usage__1532_v0 ;
            __AS=$?;
if [ $__AS != 0 ]; then
__AF_run1533_v0=''
return $__AS
fi;
            __AF_usage1532_v0__68=$__AF_usage1532_v0;
            echo $__AF_usage1532_v0__68 > /dev/null 2>&1
fi
        source="${args[1]}"
else
        len__18_v1 args[@];
        __AF_len18_v1__72=$__AF_len18_v1;
        if [ $(echo $__AF_len18_v1__72 '!=' 1 | bc -l | sed '/\./ s/\.\{0,1\}0\{1,\}$//') != 0 ]; then
            usage__1532_v0 ;
            __AS=$?;
if [ $__AS != 0 ]; then
__AF_run1533_v0=''
return $__AS
fi;
            __AF_usage1532_v0__73=$__AF_usage1532_v0;
            echo $__AF_usage1532_v0__73 > /dev/null 2>&1
fi
        local path="${args[0]}"
        file_read__6_v0 "${path}";
        __AS=$?;
if [ $__AS != 0 ]; then
            echo "failed to read ${path}"
            __AF_run1533_v0='';
            return 1
fi;
        __AF_file_read6_v0__76="${__AF_file_read6_v0}";
        source="${__AF_file_read6_v0__76}"
fi
    parse_and_eval_toplevel__1531_v0 "${source}";
    __AS=$?;
if [ $__AS != 0 ]; then
__AF_run1533_v0=''
return $__AS
fi;
    __AF_parse_and_eval_toplevel1531_v0__81=$__AF_parse_and_eval_toplevel1531_v0;
    echo $__AF_parse_and_eval_toplevel1531_v0__81 > /dev/null 2>&1
}
args=("$@")
    run__1533_v0 args[@];
    __AS=$?;
if [ $__AS != 0 ]; then

exit $__AS
fi;
    __AF_run1533_v0__85=$__AF_run1533_v0;
    echo $__AF_run1533_v0__85 > /dev/null 2>&1